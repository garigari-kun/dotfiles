{"version":3,"sources":["../webpack/bootstrap","../external \"vscode\"","../external \"path\"","../external \"fs\"","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/main.js","../external \"os\"","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/main.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/utils/is.js","../external \"child_process\"","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/client.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/utils/uuid.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/is.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/events.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/messageReader.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/messageWriter.js",".././src/utils.ts","../external \"util\"","../(webpack)/buildin/module.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/isObject.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/_root.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/_Symbol.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/main.js","../external \"net\"","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/protocolCompletionItem.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/protocolCodeLens.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/protocolDocumentLink.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/once/once.js","../external \"stream\"",".././src/ruby.ts",".././src/languageConfiguration.ts",".././src/providers/completion.ts",".././src/providers/configuration.ts",".././src/providers/formatter.ts",".././src/format/rubyFormat.ts",".././src/format/RuboCop.ts",".././src/providers/highlight.ts",".././src/providers/intellisense.ts",".././src/locate/locate.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/ruby-method-locate/main.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/ruby-method-locate/lib/positionalise.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/ruby-method-locate/lib/parse.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/ruby-method-locate/lib/entries.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/minimatch/minimatch.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/brace-expansion/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/concat-map/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/balanced-match/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/lodash.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/async/dist/async.js",".././src/providers/linters.ts","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/debounce.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/now.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/_freeGlobal.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/toNumber.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/isSymbol.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/_baseGetTag.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/_getRawTag.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/_objectToString.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/lodash/isObjectLike.js",".././src/lint/lintCollection.ts",".././src/lint/lib/linter.js",".././src/lint/lib/fsPromise.js",".././src/lint/lib/linters/debride.js",".././src/lint/lib/linters/fasterer.js",".././src/lint/lib/linters/reek.js",".././src/lint/lib/linters/RuboCop.js",".././src/lint/lib/linters/ruby-lint.js",".././src/lint/lib/linters/Ruby.js",".././src/lint/lib/lintResults.js",".././src/lint/lintConfig.ts",".././src/task/rake.ts",".././src/client.ts","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/node_modules/semver/semver.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/messages.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/cancellation.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/linkedMap.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/pipeSupport.js","../external \"crypto\"","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-jsonrpc/lib/socketSupport.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-types/lib/esm/main.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/protocol.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/utils/is.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/protocol.implementation.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/protocol.typeDefinition.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/protocol.workspaceFolders.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/protocol.configuration.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/protocol.colorProvider.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/protocol.foldingRange.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageserver-protocol/lib/protocol.declaration.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/codeConverter.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/protocolConverter.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/utils/async.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/colorProvider.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/configuration.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/implementation.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/typeDefinition.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/workspaceFolders.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/foldingRange.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/declaration.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/vscode-languageclient/lib/utils/processes.js",".././src/WorkspaceRubyEnvironment.ts",".././src/util/env.ts",".././node_modules/execa/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/cross-spawn/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/cross-spawn/lib/parse.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/nice-try/src/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/cross-spawn/lib/util/resolveCommand.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/which/which.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/isexe/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/isexe/windows.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/isexe/mode.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/path-key/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/cross-spawn/lib/util/escape.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/cross-spawn/lib/util/readShebang.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/shebang-command/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/shebang-regex/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/cross-spawn/node_modules/semver/semver.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/cross-spawn/lib/enoent.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/strip-final-newline/index.js",".././node_modules/npm-run-path/index.js",".././node_modules/path-key/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/onetime/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/mimic-fn/index.js",".././node_modules/execa/lib/error.js",".././node_modules/execa/lib/stdio.js",".././node_modules/execa/lib/kill.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/signal-exit/index.js","../external \"assert\"","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/signal-exit/signals.js","../external \"events\"",".././node_modules/p-finally/index.js",".././node_modules/execa/lib/stream.js",".././node_modules/is-stream/index.js",".././node_modules/get-stream/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/pump/index.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/wrappy/wrappy.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/end-of-stream/index.js",".././node_modules/get-stream/buffer-stream.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/merge-stream/index.js",".././node_modules/execa/lib/promise.js",".././node_modules/execa/lib/command.js","..//Users/wingrunr21/Projects/vscode-ruby/node_modules/default-shell/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","__export","vscode_jsonrpc_1","ErrorCodes","ResponseError","CancellationToken","CancellationTokenSource","Disposable","Event","Emitter","Trace","TraceFormat","SetTraceNotification","LogTraceNotification","RequestType","RequestType0","NotificationType","NotificationType0","MessageReader","MessageWriter","ConnectionStrategy","StreamMessageReader","StreamMessageWriter","IPCMessageReader","IPCMessageWriter","createClientPipeTransport","createServerPipeTransport","generateRandomPipeName","createClientSocketTransport","createServerSocketTransport","createProtocolConnection","reader","writer","logger","strategy","createMessageConnection","Is","messages_1","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","messageReader_1","SocketMessageReader","messageWriter_1","SocketMessageWriter","events_1","cancellation_1","linkedMap_1","CancelNotification","ConnectionErrors","ConnectionState","type","NullLogger","freeze","error","warn","info","log","fromString","toLowerCase","Off","Messages","Verbose","toString","JSON","Text","ConnectionError","Error","[object Object]","code","message","super","this","setPrototypeOf","_createMessageConnection","messageReader","messageWriter","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","version","timer","tracer","starRequestHandler","undefined","requestHandlers","starNotificationHandler","notificationHandlers","messageQueue","LinkedMap","responsePromises","requestTokens","trace","traceFormat","state","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","disposeEmitter","createRequestQueueKey","id","addMessageToQueue","queue","isRequestMessage","set","isResponseMessage","cancelUndispatched","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","fire","triggerMessageQueue","size","setImmediate","shift","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","result","traceSendingResponse","write","replyError","data","params","stringify","logLSPMessage","traceReceivedRequest","requestHandler","element","handler","Date","now","cancellationSource","tokenKey","String","handlerResult","promise","numberOfParams","token","array","then","string","InternalError","replySuccess","MethodNotFound","handleRequest","isNotificationMessage","notificationHandler","source","cancel","traceReceivedNotification","handleNotification","responseMessage","responsePromise","timerStart","traceReceivedResponse","reject","resolve","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","callback","toCancel","response","delete","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","computeMessageParams","length","push","connection","sendNotification","messageParams","notificationMessage","traceSendingNotification","onNotification","func","sendRequest","throwIfNotListening","is","last","slice","map","Promise","traceSendingRequest","e","MessageWriteError","onCancellationRequested","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","boolean","event","onUnhandledNotification","onDispose","dispose","keys","forEach","listen","AlreadyListening","throwIfListening","inspect","console","verbose","candidate","input","output","read","end","isMessageWriter","Array","isArray","Number","stringArray","every","elem","typedArray","check","thenable","vscode_1","vscode_languageserver_protocol_1","c2p","p2c","async_1","UUID","ConsoleLogger","ErrorAction","CloseAction","RevealOutputChannelOn","State","ClientState","DefaultErrorHandler","restarts","_error","count","Continue","Shutdown","Restart","window","showErrorMessage","DoNotRestart","SupportedSymbolKinds","SymbolKind","File","Module","Namespace","Package","Class","Method","Property","Field","Constructor","Enum","Interface","Function","Variable","Constant","Boolean","Key","Null","EnumMember","Struct","Operator","TypeParameter","SupportedCompletionItemKinds","CompletionItemKind","Unit","Value","Keyword","Snippet","Color","Reference","Folder","ensure","target","DynamicFeature","register","unregister","messages","DocumentNotifiactions","_client","_event","_type","_middleware","_createParams","_selectorFilter","_selectors","Map","selectors","textDocument","selector","languages","match","registerOptions","documentSelector","_listener","values","notificationSent","_data","clear","DidOpenTextDocumentFeature","client","_syncedDocuments","workspace","onDidOpenTextDocument","DidOpenTextDocumentNotification","clientOptions","middleware","didOpen","code2ProtocolConverter","asOpenTextDocumentParams","textDocumentFilter","capabilities","dynamicRegistration","textDocumentSyncOptions","resolvedTextDocumentSync","openClose","generateUuid","textDocuments","uri","has","DidCloseTextDocumentFeature","onDidCloseTextDocument","DidCloseTextDocumentNotification","didClose","asCloseTextDocumentParams","DidChangeTextDocumentFeature","_changeData","_forcingDelivery","DidChangeTextDocumentNotification","change","TextDocumentSyncKind","None","assign","syncKind","onDidChangeTextDocument","contentChanges","changeData","document","Incremental","asChangeTextDocumentParams","didChange","Full","_changeDelayer","forceDelivery","delayer","trigger","Delayer","WillSaveFeature","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","asWillSaveTextDocumentParams","WillSaveWaitUntilFeature","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","edits","vEdits","protocol2CodeConverter","asTextEdits","waitUntil","DidSaveTextDocumentFeature","onDidSaveTextDocument","DidSaveTextDocumentNotification","didSave","asSaveTextDocumentParams","_includeText","save","includeText","FileSystemWatcherFeature","_notifyFileEvent","_watchers","DidChangeWatchedFilesNotification","_capabilities","_documentSelector","_method","watchers","disposeables","watcher","globPattern","watchCreate","watchChange","watchDelete","kind","WatchKind","Create","Change","Delete","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","listeners","onDidCreate","resource","asUri","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","disposable","TextDocumentFeature","_providers","provider","registerLanguageProvider","WorkspaceFeature","CompletionItemFeature","CompletionRequest","capabilites","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","documentationFormat","MarkupKind","Markdown","PlainText","deprecatedSupport","preselectSupport","completionItemKind","valueSet","completionProvider","options","triggerCharacters","provideCompletionItems","position","context","asCompletionParams","asCompletionResult","logFailedRequest","resolveCompletionItem","item","CompletionResolveRequest","asCompletionItem","registerCompletionItemProvider","provideCompletionItem","resolveProvider","HoverFeature","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asTextDocumentPositionParams","asHover","registerHoverProvider","SignatureHelpFeature","SignatureHelpRequest","config","signatureInformation","parameterInformation","labelOffsetSupport","signatureHelpProvider","providerSignatureHelp","asSignatureHelp","registerSignatureHelpProvider","provideSignatureHelp","DefinitionFeature","DefinitionRequest","definitionSupport","linkSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","ReferencesFeature","ReferencesRequest","referencesProvider","providerReferences","asReferenceParams","asReferences","registerReferenceProvider","provideReferences","DocumentHighlightFeature","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentSymbolFeature","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","documentSymbolProvider","provideDocumentSymbols","asDocumentSymbolParams","DocumentSymbol","asDocumentSymbols","asSymbolInformations","registerDocumentSymbolProvider","WorkspaceSymbolFeature","WorkspaceSymbolRequest","workspaceSymbolProvider","_options","provideWorkspaceSymbols","query","registerWorkspaceSymbolProvider","CodeActionFeature","CodeActionRequest","cap","codeActionLiteralSupport","codeActionKind","CodeActionKind","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","codeActionProvider","codeActionKinds","provideCodeActions","range","asTextDocumentIdentifier","asRange","asCodeActionContext","Command","asCommand","asCodeAction","registerCodeActionsProvider","providedCodeActionKinds","asCodeActionKinds","CodeLensFeature","CodeLensRequest","codeLensProvider","provideCodeLenses","asCodeLensParams","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","asCodeLens","registerCodeLensProvider","DocumentFormattingFeature","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","asFormattingOptions","registerDocumentFormattingEditProvider","DocumentRangeFormattingFeature","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingFeature","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","moreTriggerCharacter","provideOnTypeFormattingEdits","ch","asPosition","registerOnTypeFormattingEditProvider","firstTriggerCharacter","RenameFeature","RenameRequest","rename","prepareSupport","renameProvider","prepareProvider","provideRenameEdits","newName","asWorkspaceEdit","prepareRename","PrepareRenameRequest","Range","placeholder","registerRenameProvider","DocumentLinkFeature","DocumentLinkRequest","documentLinkProvider","provideDocumentLinks","asDocumentLinkParams","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","asDocumentLink","registerDocumentLinkProvider","ConfigurationFeature","_listeners","DidChangeConfigurationNotification","section","synchronize","configurationSection","onDidChangeConfiguration","sections","some","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","getMiddleware","ensurePath","path","current","obj","workspaceFolder","index","indexOf","getConfiguration","substr","split","ExecuteCommandFeature","_commands","ExecuteCommandRequest","executeCommandProvider","commands","command","registerCommand","args","arguments","MessageTransports","OnReady","_resolve","_reject","_used","isUsed","BaseLanguageClient","_features","_method2Message","_dynamicFeatures","_id","_name","_clientOptions","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","errorHandler","uriConverters","Initial","_connectionPromise","_resolvedConnection","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_diagnostics","_fileEvents","_fileEventDelayer","_onReady","_onReadyCallbacks","_onStop","_telemetryEmitter","_stateChangeEmitter","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","registerBuiltinFeatures","_state","oldState","getPublicState","newState","Running","Starting","Stopped","initializeResult","isConnectionActive","forceDocumentSync","onTelemetry","onDidChangeState","createOutputChannel","diagnostics","_trace","onReady","resolveConnection","responseError","stack","appendLine","toLocaleTimeString","data2String","Info","show","Warn","append","Stopping","createDiagnosticCollection","onLogMessage","MessageType","Warning","onShowMessage","showWarningMessage","showInformationMessage","ShowMessageRequest","messageFunc","actions","initialize","StartFailed","needsStop","stop","createConnection","refreshTrace","initOption","rootPath","fsPath","_clientGetRootPath","initParams","processId","process","pid","rootUri","Uri","file","computeClientCapabilities","workspaceFolders","fillInitializeParams","textDocumentSync","onDiagnostics","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","title","folders","folder","scheme","cleanUp","shutdown","exit","channel","listener","didChangeWatchedFiles","changes","asDiagnostics","setDiagnostics","handleConnectionError","handleConnectionClosed","createMessageTransports","transports","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","LogMessageNotification","ShowMessageNotification","TelemetryEventNotification","didOpenTextDocument","didChangeTextDocument","didCloseTextDocument","didSaveTextDocument","PublishDiagnosticsNotification","action","closed","start","traceConfig","_connection","fileEvents","registerRaw","features","feature","registerFeature","notifyFileEvent","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Rename","failureHandling","FailureHandlingKind","TextOnlyTransactional","relatedInformation","fillClientCapabilities","registration","registrations","unregistration","unregisterations","edit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","RequestCancelled","ValueUUID","other","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","join","Math","floor","random","_chars","v4","empty","_UUIDPattern","isUUID","test","parse","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","splice","ret","callbacks","contexts","apply","thisArgs","disposables","onFirstListenerAdd","isEmpty","add","_noop","onLastListenerRemove","invoke","DefaultSize","CR","Buffer","from","LF","CRLF","MessageBuffer","encoding","buffer","allocUnsafe","chunk","toAppend","str","bufferLen","byteLength","copy","newSize","ceil","concat","header","trim","nextStart","numberOfBytes","onPartialMessage","AbstractMessageReader","partialMessageEmitter","asError","readable","_partialMessageTimeout","partialMessageTimeout","timeout","nextMessageLength","messageToken","partialMessageTimer","on","onData","fireError","fireClose","headers","tryReadHeaders","contentLength","parseInt","isNaN","msg","tryReadContent","setPartialMessageTimer","clearPartialMessageTimer","json","clearTimeout","setTimeout","firePartialMessage","waitingTime","eventEmitter","socket","ContentLength","AbstractMessageWriter","writable","errorCount","sending","doWriteMessage","send","handleError","vscode","__importStar","cp","exec","stdout","stderr","_channel","getOutputChannel","loadEnv","env","SHELL","cwd","envs","envKey","envValue","checkVersion","webpackPolyfill","deprecate","paths","children","freeGlobal","freeSelf","self","root","fs","SemVer","client_1","colorProvider_1","configuration_1","implementation_1","typeDefinition_1","workspaceFolders_1","foldingRange_1","declaration_1","processes_1","REQUIRED_VSCODE_VERSION","Executable","TransportKind","Transport","NodeModule","StreamInfo","ChildProcessInfo","ProposedFeatures","isSocket","port","detached","LanguageClient","arg1","arg2","arg3","arg4","arg5","serverOptions","forceDebug","_serverOptions","_forceDebug","codeVersion","prerelease","satisfies","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","kill","terminate","server","stdin","runDebug","run","debug","v8debug","execArgv","arg","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","node","transport","stdio","runtime","pipeName","ipc","pipe","silent","sp","fork","onConnected","protocol","execOptions","getEnvironment","serverProcess","spawn","registerFeatures","createAll","TypeDefinitionFeature","ImplementationFeature","ColorProviderFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","_mainGetRootPath","lstat","err","stats","isDirectory","SettingMonitor","_setting","primary","rest","enabled","needsStart","default","CompletionItem","label","CodeLens","DocumentLink","wrappy","once","fn","f","called","onceStrict","onceError","strict","proto","configurable","utils","languageConfiguration_1","__importDefault","completion_1","formatter_1","highlight_1","intellisense_1","linters_1","rake_1","DOCUMENT_SELECTOR","language","activate","setLanguageConfiguration","useLanguageServer","registerHighlightProvider","registerFormatter","registerLinters","registerIntellisenseProvider","registerCompletionProvider","registerConfigurationProvider","registerTaskProvider","deactivate","indentationRules","increaseIndentPattern","decreaseIndentPattern","wordPattern","ctx","codeCompletion","completeCommand","rctCompletePath","platform","completeTest","subscriptions","line","column","character","child","outbuf","errbuf","completionItems","items","detail","documentation","filterText","insertText","getText","registerDebugConfigurationProvider","RubyConfigurationProvider","names","rubyConfigurations","showQuickPick","selected","find","debugConfiguration","request","program","remoteHost","remotePort","remoteWorkspaceRoot","rubyFormat_1","RubyDocumentFormattingEditProvider","RuboCop_1","autoCorrect","AutoCorrect","fileName","dirname","correct","TextEdit","validateRange","Infinity","os","findCfg","checkPath","accessSync","nextCheckPath","cfgPath","opts","lint","only","except","rails","exe","spawnOpt","ext","useBundler","pathToBundler","rubo","includes","mkdtemp","tmpdir","tmpfile","writeFile","startTm","getTime","readFile","elapsedTm","pairedEnds","getEnd","text","lineNumber","getEntry","balancePairs","doc","languageId","entry","waitingEntries","lineCount","lineAt","pop","balanceEvent","pos","pair","DocumentHighlight","onDidChangeActiveTextEditor","activeTextEditor","locate_1","intellisense","refreshLocate","progressOptions","location","ProgressLocation","Window","withProgress","locate","walk","Locate","watch","include","rm","locationConverter","Location","Position","char","defProvider","txt","getWordRangeAtPosition","matches","symbolKindTable","class","symbolInfo","classMethod","defaultSymbolKind","numOfSymbolLimit","symbolsConverter","SymbolInformation","containerName","docSymbolProvider","listInFile","__webpack_exports__","locator","minimatch","_","async","WALK_CONCURRENCY","SINGLE_FILE_PARSE_CONCURRENCY","DECLARATION_TYPES","filter","symbols","matcher","isLowerCase","exact","RegExp","escapeRegExp","prefix","substring","camelCase","escaped","charAt","toUpperCase","replace","lower","lowered","camelCaseRegExp","flatMap","regexp","uniq","tree","walkQueue","_createWalkQueue","walkPromise","parseQueue","task","absPath","clone","_waitForWalk","_find","escapedName","trimStart","flatten","symbol","_query","segmentMatch","containerQuery","separator","nameQuery","segmentTypes",".","#","::","plainMatches","nameMatches","containerMatches","_parseAsync","relPath","relative","exclude","locateInfo","inner","posn","extend","omit","catch","drain","_walkDir","dir","readdir","files","_walkNode","stat","positionalise","parser","stringData","structure","lines","a","Entries","_nb_white","_eol","_white","_word_end","_defEnd","skipWhite","skipNonWhite","Name","_nameEnd","NameList","singleton","end2","inherit","parts","nest","reduce","Block","Comment","Strings","del","assignment","ConditionAssignBlock","ros","ConditionBlock","Attr","HereDoc","word","indent","isWordStart","externalEntries","def","Arguments","startsWith","rtn","alias","attr_reader","attr_writer","attr_accessor","alias_method","internal","do","begin","for","case","if","unless","while","until","\"","`","'","<<","external","merge","insert","k","processed","results","elements","first","initialiser","processor","endPos","Minimatch","sep","er","GLOBSTAR","expand","plTypes","!","open","close","?","+","*","@","qmark","star","twoStarDot","twoStarNoDot","reSpecials","slashSplit","b","pattern","TypeError","nocomment","negate","comment","make","braceExpand","nobrace","list","defaults","orig","_made","parseNegate","globSet","globParts","si","negateOffset","nonegate","isSub","noglobstar","stateChar","re","hasMagic","nocase","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","clearStateChar","noext","reStart","pl","reEnd","cs","SUBPARSE","tail","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","globUnescape","flags","regExp","_glob","_src","makeRe","twoStar","regExpEscape","ex","mm","nonull","partial","filename","matchBase","matchOne","flipNegate","fi","pi","fl","hit","fr","pr","swallowee","concatMap","balanced","isTop","expansions","pre","isNumericSequence","body","isAlphaSequence","isSequence","isOptions","post","escClose","parseCommaParts","postParts","embrace","N","x","numeric","y","width","max","incr","abs","lte","reverse","gte","pad","isPadded","fromCharCode","need","z","el","j","expansion","escSlash","escOpen","escComma","escPeriod","escapeBraces","unescapeBraces","charCodeAt","xs","res","maybeMatch","reg","begs","beg","left","right","ai","bi","__WEBPACK_AMD_DEFINE_RESULT__","LARGE_ARRAY_SIZE","CORE_ERROR_TEXT","FUNC_ERROR_TEXT","HASH_UNDEFINED","MAX_MEMOIZE_SIZE","PLACEHOLDER","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_BOUND_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","WRAP_FLIP_FLAG","DEFAULT_TRUNC_LENGTH","DEFAULT_TRUNC_OMISSION","HOT_COUNT","HOT_SPAN","LAZY_FILTER_FLAG","LAZY_MAP_FLAG","INFINITY","MAX_SAFE_INTEGER","MAX_INTEGER","NAN","MAX_ARRAY_LENGTH","MAX_ARRAY_INDEX","HALF_MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","asyncTag","boolTag","dateTag","domExcTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","weakSetTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrim","reTrimStart","reTrimEnd","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsBreakRange","rsMathOpRange","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","reOptMod","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","\\","\n","\r"," "," ","freeParseFloat","parseFloat","freeParseInt","global","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","thisArg","arrayAggregator","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","basePropertyOf","baseReduce","baseTimes","baseUnary","baseValues","props","cacheHas","cache","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","deburrLetter","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","Ā","Ă","Ą","ā","ă","ą","Ć","Ĉ","Ċ","Č","ć","ĉ","ċ","č","Ď","Đ","ď","đ","Ē","Ĕ","Ė","Ę","Ě","ē","ĕ","ė","ę","ě","Ĝ","Ğ","Ġ","Ģ","ĝ","ğ","ġ","ģ","Ĥ","Ħ","ĥ","ħ","Ĩ","Ī","Ĭ","Į","İ","ĩ","ī","ĭ","į","ı","Ĵ","ĵ","Ķ","ķ","ĸ","Ĺ","Ļ","Ľ","Ŀ","Ł","ĺ","ļ","ľ","ŀ","ł","Ń","Ņ","Ň","Ŋ","ń","ņ","ň","ŋ","Ō","Ŏ","Ő","ō","ŏ","ő","Ŕ","Ŗ","Ř","ŕ","ŗ","ř","Ś","Ŝ","Ş","Š","ś","ŝ","ş","š","Ţ","Ť","Ŧ","ţ","ť","ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","ũ","ū","ŭ","ů","ű","ų","Ŵ","ŵ","Ŷ","ŷ","Ÿ","Ź","Ż","Ž","ź","ż","ž","Ĳ","ĳ","Œ","œ","ŉ","ſ","escapeHtmlChar","&","<",">","escapeStringChar","chr","hasUnicode","mapToArray","overArg","transform","replaceHolders","setToArray","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","&amp;","&lt;","&gt;","&quot;","&#39;","runInContext","uid","pick","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Uint8Array","getPrototype","getPrototypeOf","objectCreate","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","nativeFloor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","nativeReverse","DataView","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","skip","upper","baseClone","bitmask","customizer","isDeep","isFlat","isFull","constructor","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","byteOffset","cloneDataView","cloneTypedArray","cloneRegExp","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","escape","evaluate","interpolate","variable","imports","hash","getMapData","pairs","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","seen","baseInvoke","parent","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","comparer","sort","baseSortBy","criteria","objCriteria","othCriteria","ordersLength","compareAscending","order","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","arrayBuffer","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","arrLength","oldArray","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","noop","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrValue","otherFunc","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","ctorString","isMaskable","stubFalse","otherArgs","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","quote","subString","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","flush","defer","delay","resolver","memoized","Cache","overArgs","transforms","funcsLength","partialRight","rearg","gt","isError","isInteger","isNumber","isString","lt","toArray","next","done","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","basePick","pickBy","prop","toPairs","toPairsIn","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","limit","spread","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","strLength","padEnd","padStart","radix","floating","temp","reduceRight","repeat","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sum","sumBy","template","isEscaping","isEvaluating","importsKeys","importsValues","reDelimiters","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","times","toLower","toSafeInteger","toUpper","trimEnd","truncate","omission","search","newEnd","unescape","uniqueId","each","eachRight","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","arrayLike","newLen","newArr","idx","callArgs","initialParams","hasSetImmediate","hasNextTick","nextTick","fallback","setImmediate$1","asyncify","invokeCallback","rethrow","supportsSymbol","isAsync","wrapAsync","asyncFn","applyEach$1","eachfn","fns","go","that","cb","Symbol$1","symToStringTag$1","nativeObjectToString$1","breakLoop","callFn","iteratorSymbol","getIterator","coll","objectProto$3","hasOwnProperty$2","MAX_SAFE_INTEGER$1","freeExports$1","freeModule$1","hasOwnProperty$1","objectProto$5","hasOwnProperty$3","createArrayIterator","okeys","createES2015Iterator","onlyOnce","_eachOfLimit","nextElem","running","looping","iterateeCallback","replenish","eachOfLimit","doLimit","eachOfArrayLike","completed","iteratorCallback","eachOfGeneric","eachOf","doParallel","_asyncMap","arr","counter","_iteratee","v","applyEach","doParallelLimit","mapLimit","mapSeries","applyEachSeries","auto","tasks","concurrency","numTasks","runningTasks","hasError","readyTasks","readyToCheck","uncheckedDependencies","enqueueTask","taskCallback","safeResults","val","rkey","taskComplete","taskFn","runTask","processQueue","taskName","getDependents","dependencies","remainingDependencies","dependencyName","taskListeners","addListener","currentTask","dependent","checkForDeadlocks","FN_ARGS","FN_ARG_SPLIT","FN_ARG","STRIP_COMMENTS","autoInject","newTasks","fnIsAsync","hasNoDeps","newTask","parseParams","taskCb","newArgs","DLL","setInitial","dll","worker","payload","_worker","numRunning","workersList","processingScheduled","_insert","insertAtFront","q","started","idle","_tasks","unshift","_next","unsaturated","isProcessing","saturated","paused","testFn","pause","resume","cargo","removeLink","prev","insertAfter","newNode","insertBefore","curr","eachOfSeries","memo","seq","_functions","newargs","nextargs","compose","_concat","concatLimit","mapResults","concatSeries","_createTester","getResult","testResult","testPassed","_findGetResult","detect","detectLimit","detectSeries","consoleFunc","doDuring","_fn","_test","truth","doWhilst","doUntil","during","_withoutIndex","eachLimit","eachLimit$1","eachSeries","ensureAsync","sync","innerArgs","notId","everyLimit","everySeries","filterArray","truthValues","filterGeneric","_filter","filterLimit","filterSeries","forever","errback","groupByLimit","groupBySeries","mapValuesLimit","newObj","mapValuesSeries","hasher","queues","unmemoized","_parallel","parallelLimit","parallelLimit$1","queue$1","priorityQueue","priority","nextNode","race","reflect","reflectCallback","cbArg","reflectAll","reject$1","rejectLimit","rejectSeries","constant$1","DEFAULT_TIMES","DEFAULT_INTERVAL","intervalFunc","acc","interval","errorFilter","parseTimes","_task","retryAttempt","retryable","series","someLimit","someSeries","milliseconds","timedOut","timeLimit","timesSeries","tryEach","unmemoize","whilst","waterfall","taskIndex","nextTask","parallel","timesLimit","all","allLimit","allSeries","any","anyLimit","anySeries","findLimit","findSeries","forEachSeries","forEachLimit","forEachOf","forEachOfSeries","forEachOfLimit","inject","foldl","foldr","select","selectLimit","selectSeries","wrapSync","factory","debounce_1","lintCollection_1","lintConfig_1","getGlobalLintConfig","globalConfig","Config","pathToRuby","commandPath","linters","LintCollection","executeLinting","lintDebounceTime","executeDebouncedLinting","docs","visibleTextEditors","editor","cfg","linter_1","lintResults_1","lintConfig","_results","_docLinters","_globalConfig","_cfg","_rootPath","_update","linter","updateForFile","newConfig","Linter","vscode__WEBPACK_IMPORTED_MODULE_0__","lintBuilders","debride","fasterer","reek","rubocop","ruby-lint","ruby","linting","pend","_runLinters","basePath","tmpDir","opName","sourceFile","sourcePath","R_OK","tmpPath","HOME","execSync","svc","workspaceRoot","svcPath","cmdOpts","_getLinterPath","_detectBundledLinter","_getLinterCmd","spawned","responsePath","errorPath","lintError","processError","processResult","toRun","active","sourceDir","final","needsTmpFile","tmp","tmpFileSvc","prom","_copySettings","settingsFile","_exeLinter","unlink","noTmpFileSvc","executor","mkdir","tmpFile","rmdir","fsCB","EOL","Debride","messageLines","severity","Fasterer","m2","Reek","offenses","offense","cop_name","smell_type","marker","RuboCop","forceExclusion","summary","offense_count","RubyLint","levels","classes","level","RubyWC","rubyInterpreterPath","unicode","multiLine","LintResults","severities","refactor","DiagnosticSeverity","Hint","convention","Information","warning","fatal","_fileDiagnostics","allOf","Diagnostic","utils_1","rakeFiles","exists","rakePromise","findFiles","fileWatcher","provideTasks","emptyTasks","Task","ShellExecution","lowerCaseLine","isBuildTask","TaskGroup","Build","isTestTask","Test","getRakeTasks","buildNames","buildName","testNames","testName","path_1","vscode_languageclient_1","WorkspaceRubyEnvironment_1","RUBOCOP_ABSOLUTE_PATH_KEYS","convertAbsolute","isAbsolute","folderPath","serverModule","asAbsolutePath","configuration","scopeUri","getWorkspaceFolder","protocolUri","workspaceFolderUri","registerProposedFeatures","nodeRuntime","executionContext","NodeRuntime","Electron","Node","WorkspaceRubyEnvironmentFeature","NODE_DEBUG","SEMVER_SPEC_VERSION","MAX_LENGTH","src","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","raw","major","minor","patch","num","build","format","valid","clean","compare","compareMain","comparePre","compareIdentifiers","inc","release","identifier","diff","version1","version2","v1","v2","defaultResult","anum","bnum","neq","cmp","op","Comparator","comp","semver","ANY","rcompareIdentifiers","compareLoose","rcompare","rsort","parseRange","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","versions","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","ParseError","InvalidRequest","InvalidParams","serverErrorStart","serverErrorEnd","ServerNotInitialized","UnknownErrorCode","MessageReadError","AbstractMessageType","_numberOfParams","isCancellationRequested","Cancelled","shortcutEvent","handle","MutableToken","_isCancelled","_emitter","_token","Touch","First","Last","_map","_head","_tail","_size","touch","addItemLast","addItemFirst","removeItem","callbackfn","os_1","crypto_1","net_1","randomSuffix","randomBytes","connectResolve","connected","createServer","removeListener","LocationLink","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","WorkspaceChange","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupContent","InsertTextFormat","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","CodeActionContext","CodeAction","FormattingOptions","TextDocument","TextDocumentSaveReason","objectLiteral","one","two","three","four","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","color","textEdit","additionalTextEdits","startLine","endLine","startCharacter","endCharacter","_i","newText","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","TextEditChangeImpl","_this","_textEditChanges","_workspaceEdit","textEditChange","getTextEditChange","textDocumentEdit","createFile","checkDocumentChanges","renameFile","deleteFile","isIncomplete","fromPlainText","plainText","contents","parameters","Read","Write","selectionRange","deprecated","commandOrEdit","tabSize","insertSpaces","content","FullTextDocument","positionAt","offsetAt","applyEdits","sortedEdits","mergeSort","leftIdx","rightIdx","lastModifiedOffset","startOffset","endOffset","Manual","AfterDelay","FocusOut","_uri","_languageId","_version","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","lineOffset","nextLineOffset","protocol_implementation_1","ImplementationRequest","protocol_typeDefinition_1","TypeDefinitionRequest","protocol_workspaceFolders_1","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","protocol_configuration_1","ConfigurationRequest","protocol_colorProvider_1","DocumentColorRequest","ColorPresentationRequest","protocol_foldingRange_1","FoldingRangeRequest","protocol_declaration_1","DeclarationRequest","DocumentFilter","Abort","Transactional","Undo","InitializeError","unknownProtocolVersion","Log","CompletionTriggerKind","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","uriConverter","_uriConverter","asVersionedTextDocumentIdentifier","asTextDocumentSaveReason","reason","asTriggerKind","triggerKind","asWorkerPosition","asDiagnosticSeverity","asDiagnostic","asTextEdit","isTextDocument","isTextDocumentChangeEvent","includeContent","triggerCharacter","protocolItem","original","asDocumentation","SnippetString","insertTextFormat","fromEdit","fillPrimaryInsertText","originalItemKind","sortText","commitCharacters","preselect","includeDeclaration","ls","CodeBlock","diagnostic","asDiagnosticRelatedInformation","information","asLocation","MarkdownString","asCompletionInsertText","itemKind","asSignatureInformations","asSignatureInformation","asParameterInformations","asParameterInformation","asLocationLink","asLocationResult","asDocumentHighlight","asDocumentHighlightKind","asSymbolKind","asSymbolInformation","asDocumentSymbol","kindMapping","asCodeActionKind","Empty","part","asColor","asColorInformation","ci","asColorPresentation","presentation","asFoldingRangeKind","Imports","Region","asFoldingRange","hover","appendCodeblock","appendMarkdown","appendText","asHoverContent","SignatureHelp","activeSignature","activeParameter","signatures","asDeclarationResult","asCommands","asFoldingRanges","foldingRanges","asColorInformations","colorInformation","asColorPresentations","colorPresentations","defaultDelay","completionPromise","onSuccess","cancelTimeout","colorProvider","implCapabilities","provideColorPresentations","requestParams","provideDocumentColors","registerColorProvider","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","access","asProtocol","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","added","removed","capability","rangeLimit","lineFoldingOnly","foldingRangeProvider","provideFoldingRanges","registerFoldingRangeProvider","declarationSupport","declarationProvider","declCapabilities","provideDeclaration","registerDeclarationProvider","isWindows","isMacintosh","isLinux","execFileSync","cmd","__dirname","spawnSync","env_1","WorkspaceRubyEnvironmentRequest","rubyEnvironment","__awaiter","environments","execa_1","default_shell_1","fs_1","SHIM_DIR","SHIM_EXTENSION","mkShim","shell","shimPath","getTemplate","writeFileSync","chmodSync","processExportLine","keyValueArr","existsSync","mkdirSync","RUBY_ENVIRONMENT_VARIABLES","shim","shellName","basename","getShim","crossSpawn","stripFinalNewline","npmRunPath","onetime","makeError","normalizeStdio","spawnedKill","spawnedCancel","setupTimeout","setExitHandler","handleInput","getSpawnedResult","makeAllStream","validateInputSync","mergePromise","getSpawnedPromise","joinCommand","parseCommand","handleArgs","_parse","maxBuffer","extendEnv","preferLocal","localDir","cleanup","windowsHide","envOption","getEnv","handleOutput","execa","dummySpawned","ChildProcess","errorPromise","isCanceled","killed","spawnedPromise","timedPromise","processDone","handlePromiseOnce","signal","stdoutResult","stderrResult","allResult","returnedError","exitCode","exitCodeName","failed","_enoent","hookChildProcess","status","errno","commandSync","scriptPath","nodePath","execPath","nodeOptions","enoent","verifyENOENTSync","niceTry","resolveCommand","readShebang","isWin","isExecutableRegExp","isCmdShimRegExp","supportsShellOption","parseNonShell","commandFile","shebang","detectShebang","needsShell","forceShell","needsDoubleEscapeMetaChars","normalize","argument","shellCommand","comspec","windowsVerbatimArguments","parseShell","which","pathKey","resolveCommandAttempt","withoutPathExt","hasCustomCwd","chdir","resolved","pathExt","delimiter","opt","getPathInfo","pathEnv","pathExtExe","extExe","found","pathPart","ll","cur","isexe","nothrow","getNotFoundError","OSTYPE","COLON","colon","PATH","PATHEXT","F","E","ii","core","ignoreErrors","TESTING_WINDOWS","checkStat","statSync","isSymbolicLink","isFile","pathext","checkPathExt","mod","gid","myUid","getuid","myGid","getgid","u","g","ug","checkMode","metaCharsRegExp","doubleEscapeMetaChars","shebangCommand","fd","alloc","openSync","readSync","closeSync","shebangRegex","bin","notFoundError","syscall","spawnargs","verifyENOENT","originalEmit","emit","cwdPath","environment","mimicFn","calledFunctions","oneTime","isCalled","callCount","functionName","displayName","throw","Reflect","ownKeys","getOwnPropertyDescriptor","util","constants","getSystemErrorName","getCode","getErrorPrefix","bufferedData","aliases","hasAlias","onExit","pFinally","setKillTimeout","killResult","shouldForceKill","getForceKillAfterTimeout","unref","forceKillAfterTimeout","isSigterm","signals","SIGTERM","killSignal","timeoutId","timeoutPromise","timeoutKill","safeSpawnedPromise","removeExitHandler","emitter","assert","EE","unload","loaded","sig","sigListeners","originalProcessEmit","reallyExit","originalProcessReallyExit","emitted","EventEmitter","__signal_exit_emitter__","infinite","setMaxListeners","equal","load","ev","alwaysLast","processEmit","processReallyExit","onFinally","isStream","getStream","mergeStream","getBufferedData","stream","streamPromise","destroy","getStreamPromise","mixed","stdoutPromise","stderrPromise","allPromise","_write","_writableState","_read","_readableState","duplex","_transform","_transformState","pump","bufferStream","MaxBufferError","inputStream","rejectPromise","getBufferedValue","getBufferedLength","eos","ancient","isFn","destroyer","reading","writing","destroyed","ReadStream","WriteStream","isFS","setHeader","abort","isRequest","streams","destroys","ws","rs","onlegacyfinish","onfinish","onend","onexit","onerror","onclose","ended","onrequest","req","isChildProcess","PassThrough","PassThroughStream","objectMode","setEncoding","chunks","it","mergePromiseProperty","finally","SPACES_REGEXP","handleEscaping","tokens","previousToken","COMSPEC"],"mappings":"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","file":"ruby.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n","module.exports = require(\"vscode\");","module.exports = require(\"path\");","module.exports = require(\"fs\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nexports.ErrorCodes = vscode_jsonrpc_1.ErrorCodes;\r\nexports.ResponseError = vscode_jsonrpc_1.ResponseError;\r\nexports.CancellationToken = vscode_jsonrpc_1.CancellationToken;\r\nexports.CancellationTokenSource = vscode_jsonrpc_1.CancellationTokenSource;\r\nexports.Disposable = vscode_jsonrpc_1.Disposable;\r\nexports.Event = vscode_jsonrpc_1.Event;\r\nexports.Emitter = vscode_jsonrpc_1.Emitter;\r\nexports.Trace = vscode_jsonrpc_1.Trace;\r\nexports.TraceFormat = vscode_jsonrpc_1.TraceFormat;\r\nexports.SetTraceNotification = vscode_jsonrpc_1.SetTraceNotification;\r\nexports.LogTraceNotification = vscode_jsonrpc_1.LogTraceNotification;\r\nexports.RequestType = vscode_jsonrpc_1.RequestType;\r\nexports.RequestType0 = vscode_jsonrpc_1.RequestType0;\r\nexports.NotificationType = vscode_jsonrpc_1.NotificationType;\r\nexports.NotificationType0 = vscode_jsonrpc_1.NotificationType0;\r\nexports.MessageReader = vscode_jsonrpc_1.MessageReader;\r\nexports.MessageWriter = vscode_jsonrpc_1.MessageWriter;\r\nexports.ConnectionStrategy = vscode_jsonrpc_1.ConnectionStrategy;\r\nexports.StreamMessageReader = vscode_jsonrpc_1.StreamMessageReader;\r\nexports.StreamMessageWriter = vscode_jsonrpc_1.StreamMessageWriter;\r\nexports.IPCMessageReader = vscode_jsonrpc_1.IPCMessageReader;\r\nexports.IPCMessageWriter = vscode_jsonrpc_1.IPCMessageWriter;\r\nexports.createClientPipeTransport = vscode_jsonrpc_1.createClientPipeTransport;\r\nexports.createServerPipeTransport = vscode_jsonrpc_1.createServerPipeTransport;\r\nexports.generateRandomPipeName = vscode_jsonrpc_1.generateRandomPipeName;\r\nexports.createClientSocketTransport = vscode_jsonrpc_1.createClientSocketTransport;\r\nexports.createServerSocketTransport = vscode_jsonrpc_1.createServerSocketTransport;\r\n__export(require(\"vscode-languageserver-types\"));\r\n__export(require(\"./protocol\"));\r\nfunction createProtocolConnection(reader, writer, logger, strategy) {\r\n    return vscode_jsonrpc_1.createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n","module.exports = require(\"os\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"./thenable.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    ;\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            console.log(\"inspect\");\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n","module.exports = require(\"child_process\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst c2p = require(\"./codeConverter\");\r\nconst p2c = require(\"./protocolConverter\");\r\nconst Is = require(\"./utils/is\");\r\nconst async_1 = require(\"./utils/async\");\r\nconst UUID = require(\"./utils/uuid\");\r\n__export(require(\"vscode-languageserver-protocol\"));\r\nclass ConsoleLogger {\r\n    error(message) {\r\n        console.error(message);\r\n    }\r\n    warn(message) {\r\n        console.warn(message);\r\n    }\r\n    info(message) {\r\n        console.info(message);\r\n    }\r\n    log(message) {\r\n        console.log(message);\r\n    }\r\n}\r\nfunction createConnection(input, output, errorHandler, closeHandler) {\r\n    let logger = new ConsoleLogger();\r\n    let connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger);\r\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\r\n    connection.onClose(closeHandler);\r\n    let result = {\r\n        listen: () => connection.listen(),\r\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\r\n        onRequest: (type, handler) => connection.onRequest(Is.string(type) ? type : type.method, handler),\r\n        sendNotification: (type, params) => connection.sendNotification(Is.string(type) ? type : type.method, params),\r\n        onNotification: (type, handler) => connection.onNotification(Is.string(type) ? type : type.method, handler),\r\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\r\n            const defaultTraceOptions = {\r\n                sendNotification: false,\r\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\r\n            };\r\n            if (sendNotificationOrTraceOptions === void 0) {\r\n                connection.trace(value, tracer, defaultTraceOptions);\r\n            }\r\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\r\n            }\r\n            else {\r\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\r\n            }\r\n        },\r\n        initialize: (params) => connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params),\r\n        shutdown: () => connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined),\r\n        exit: () => connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type),\r\n        onLogMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, handler),\r\n        onShowMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, handler),\r\n        onTelemetry: (handler) => connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, handler),\r\n        didChangeConfiguration: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, params),\r\n        didChangeWatchedFiles: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, params),\r\n        didOpenTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, params),\r\n        didChangeTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params),\r\n        didCloseTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, params),\r\n        didSaveTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, params),\r\n        onDiagnostics: (handler) => connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, handler),\r\n        dispose: () => connection.dispose()\r\n    };\r\n    return result;\r\n}\r\n/**\r\n * An action to be performed when the connection is producing errors.\r\n */\r\nvar ErrorAction;\r\n(function (ErrorAction) {\r\n    /**\r\n     * Continue running the server.\r\n     */\r\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\r\n    /**\r\n     * Shutdown the server.\r\n     */\r\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\r\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\r\n/**\r\n * An action to be performed when the connection to a server got closed.\r\n */\r\nvar CloseAction;\r\n(function (CloseAction) {\r\n    /**\r\n     * Don't restart the server. The connection stays closed.\r\n     */\r\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\r\n    /**\r\n     * Restart the server.\r\n     */\r\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\r\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\r\nclass DefaultErrorHandler {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.restarts = [];\r\n    }\r\n    error(_error, _message, count) {\r\n        if (count && count <= 3) {\r\n            return ErrorAction.Continue;\r\n        }\r\n        return ErrorAction.Shutdown;\r\n    }\r\n    closed() {\r\n        this.restarts.push(Date.now());\r\n        if (this.restarts.length < 5) {\r\n            return CloseAction.Restart;\r\n        }\r\n        else {\r\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\r\n            if (diff <= 3 * 60 * 1000) {\r\n                vscode_1.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`);\r\n                return CloseAction.DoNotRestart;\r\n            }\r\n            else {\r\n                this.restarts.shift();\r\n                return CloseAction.Restart;\r\n            }\r\n        }\r\n    }\r\n}\r\nvar RevealOutputChannelOn;\r\n(function (RevealOutputChannelOn) {\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\r\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\r\n    State[State[\"Starting\"] = 3] = \"Starting\";\r\n    State[State[\"Running\"] = 2] = \"Running\";\r\n})(State = exports.State || (exports.State = {}));\r\nvar ClientState;\r\n(function (ClientState) {\r\n    ClientState[ClientState[\"Initial\"] = 0] = \"Initial\";\r\n    ClientState[ClientState[\"Starting\"] = 1] = \"Starting\";\r\n    ClientState[ClientState[\"StartFailed\"] = 2] = \"StartFailed\";\r\n    ClientState[ClientState[\"Running\"] = 3] = \"Running\";\r\n    ClientState[ClientState[\"Stopping\"] = 4] = \"Stopping\";\r\n    ClientState[ClientState[\"Stopped\"] = 5] = \"Stopped\";\r\n})(ClientState || (ClientState = {}));\r\nconst SupportedSymbolKinds = [\r\n    vscode_languageserver_protocol_1.SymbolKind.File,\r\n    vscode_languageserver_protocol_1.SymbolKind.Module,\r\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\r\n    vscode_languageserver_protocol_1.SymbolKind.Package,\r\n    vscode_languageserver_protocol_1.SymbolKind.Class,\r\n    vscode_languageserver_protocol_1.SymbolKind.Method,\r\n    vscode_languageserver_protocol_1.SymbolKind.Property,\r\n    vscode_languageserver_protocol_1.SymbolKind.Field,\r\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\r\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\r\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\r\n    vscode_languageserver_protocol_1.SymbolKind.Function,\r\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\r\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\r\n    vscode_languageserver_protocol_1.SymbolKind.String,\r\n    vscode_languageserver_protocol_1.SymbolKind.Number,\r\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\r\n    vscode_languageserver_protocol_1.SymbolKind.Array,\r\n    vscode_languageserver_protocol_1.SymbolKind.Object,\r\n    vscode_languageserver_protocol_1.SymbolKind.Key,\r\n    vscode_languageserver_protocol_1.SymbolKind.Null,\r\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\r\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\r\n    vscode_languageserver_protocol_1.SymbolKind.Event,\r\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\r\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\r\n];\r\nconst SupportedCompletionItemKinds = [\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\r\n];\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nvar DynamicFeature;\r\n(function (DynamicFeature) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.register) && Is.func(candidate.unregister) && Is.func(candidate.dispose) && candidate.messages !== void 0;\r\n    }\r\n    DynamicFeature.is = is;\r\n})(DynamicFeature || (DynamicFeature = {}));\r\nclass DocumentNotifiactions {\r\n    constructor(_client, _event, _type, _middleware, _createParams, _selectorFilter) {\r\n        this._client = _client;\r\n        this._event = _event;\r\n        this._type = _type;\r\n        this._middleware = _middleware;\r\n        this._createParams = _createParams;\r\n        this._selectorFilter = _selectorFilter;\r\n        this._selectors = new Map();\r\n    }\r\n    static textDocumentFilter(selectors, textDocument) {\r\n        for (const selector of selectors) {\r\n            if (vscode_1.languages.match(selector, textDocument)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = this._event(this.callback, this);\r\n        }\r\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\r\n    }\r\n    callback(data) {\r\n        if (!this._selectorFilter || this._selectorFilter(this._selectors.values(), data)) {\r\n            if (this._middleware) {\r\n                this._middleware(data, (data) => this._client.sendNotification(this._type, this._createParams(data)));\r\n            }\r\n            else {\r\n                this._client.sendNotification(this._type, this._createParams(data));\r\n            }\r\n            this.notificationSent(data);\r\n        }\r\n    }\r\n    notificationSent(_data) {\r\n    }\r\n    unregister(id) {\r\n        this._selectors.delete(id);\r\n        if (this._selectors.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._selectors.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n}\r\nclass DidOpenTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client, _syncedDocuments) {\r\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, client.clientOptions.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), DocumentNotifiactions.textDocumentFilter);\r\n        this._syncedDocuments = _syncedDocuments;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\r\n            this.register(this.messages, { id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\r\n        }\r\n    }\r\n    register(message, data) {\r\n        super.register(message, data);\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        let documentSelector = data.registerOptions.documentSelector;\r\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\r\n            let uri = textDocument.uri.toString();\r\n            if (this._syncedDocuments.has(uri)) {\r\n                return;\r\n            }\r\n            if (vscode_1.languages.match(documentSelector, textDocument)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                let didOpen = (textDocument) => {\r\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\r\n                };\r\n                if (middleware.didOpen) {\r\n                    middleware.didOpen(textDocument, didOpen);\r\n                }\r\n                else {\r\n                    didOpen(textDocument);\r\n                }\r\n                this._syncedDocuments.set(uri, textDocument);\r\n            }\r\n        });\r\n    }\r\n    notificationSent(textDocument) {\r\n        super.notificationSent(textDocument);\r\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\r\n    }\r\n}\r\nclass DidCloseTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client, _syncedDocuments) {\r\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, client.clientOptions.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), DocumentNotifiactions.textDocumentFilter);\r\n        this._syncedDocuments = _syncedDocuments;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\r\n            this.register(this.messages, { id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\r\n        }\r\n    }\r\n    notificationSent(textDocument) {\r\n        super.notificationSent(textDocument);\r\n        this._syncedDocuments.delete(textDocument.uri.toString());\r\n    }\r\n    unregister(id) {\r\n        let selector = this._selectors.get(id);\r\n        // The super call removed the selector from the map\r\n        // of selectors.\r\n        super.unregister(id);\r\n        let selectors = this._selectors.values();\r\n        this._syncedDocuments.forEach((textDocument) => {\r\n            if (vscode_1.languages.match(selector, textDocument) && !this._selectorFilter(selectors, textDocument)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                let didClose = (textDocument) => {\r\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\r\n                };\r\n                this._syncedDocuments.delete(textDocument.uri.toString());\r\n                if (middleware.didClose) {\r\n                    middleware.didClose(textDocument, didClose);\r\n                }\r\n                else {\r\n                    didClose(textDocument);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DidChangeTextDocumentFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._changeData = new Map();\r\n        this._forcingDelivery = false;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== void 0 && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\r\n        }\r\n        this._changeData.set(data.id, {\r\n            documentSelector: data.registerOptions.documentSelector,\r\n            syncKind: data.registerOptions.syncKind\r\n        });\r\n    }\r\n    callback(event) {\r\n        // Text document changes are send for dirty changes as well. We don't\r\n        // have dirty / undirty events in the LSP so we ignore content changes\r\n        // with length zero.\r\n        if (event.contentChanges.length === 0) {\r\n            return;\r\n        }\r\n        for (const changeData of this._changeData.values()) {\r\n            if (vscode_1.languages.match(changeData.documentSelector, event.document)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\r\n                    let params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\r\n                    if (middleware.didChange) {\r\n                        middleware.didChange(event, () => this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params));\r\n                    }\r\n                    else {\r\n                        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\r\n                    }\r\n                }\r\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\r\n                    let didChange = (event) => {\r\n                        if (this._changeDelayer) {\r\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\r\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\r\n                                this.forceDelivery();\r\n                                this._changeDelayer.uri = event.document.uri.toString();\r\n                            }\r\n                            this._changeDelayer.delayer.trigger(() => {\r\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\r\n                            });\r\n                        }\r\n                        else {\r\n                            this._changeDelayer = {\r\n                                uri: event.document.uri.toString(),\r\n                                delayer: new async_1.Delayer(200)\r\n                            };\r\n                            this._changeDelayer.delayer.trigger(() => {\r\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\r\n                            }, -1);\r\n                        }\r\n                    };\r\n                    if (middleware.didChange) {\r\n                        middleware.didChange(event, didChange);\r\n                    }\r\n                    else {\r\n                        didChange(event);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    unregister(id) {\r\n        this._changeData.delete(id);\r\n        if (this._changeData.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._changeDelayer = undefined;\r\n        this._forcingDelivery = false;\r\n        this._changeData.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    forceDelivery() {\r\n        if (this._forcingDelivery || !this._changeDelayer) {\r\n            return;\r\n        }\r\n        try {\r\n            this._forcingDelivery = true;\r\n            this._changeDelayer.delayer.forceDelivery();\r\n        }\r\n        finally {\r\n            this._forcingDelivery = false;\r\n        }\r\n    }\r\n}\r\nclass WillSaveFeature extends DocumentNotifiactions {\r\n    constructor(client) {\r\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, client.clientOptions.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (selectors, willSaveEvent) => DocumentNotifiactions.textDocumentFilter(selectors, willSaveEvent.document));\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\r\n        value.willSave = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: { documentSelector: documentSelector }\r\n            });\r\n        }\r\n    }\r\n}\r\nclass WillSaveWaitUntilFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._selectors = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\r\n        value.willSaveWaitUntil = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: { documentSelector: documentSelector }\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\r\n        }\r\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\r\n    }\r\n    callback(event) {\r\n        if (DocumentNotifiactions.textDocumentFilter(this._selectors.values(), event.document)) {\r\n            let middleware = this._client.clientOptions.middleware;\r\n            let willSaveWaitUntil = (event) => {\r\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then((edits) => {\r\n                    let vEdits = this._client.protocol2CodeConverter.asTextEdits(edits);\r\n                    return vEdits === void 0 ? [] : vEdits;\r\n                });\r\n            };\r\n            event.waitUntil(middleware.willSaveWaitUntil\r\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\r\n                : willSaveWaitUntil(event));\r\n        }\r\n    }\r\n    unregister(id) {\r\n        this._selectors.delete(id);\r\n        if (this._selectors.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._selectors.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n}\r\nclass DidSaveTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client) {\r\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, client.clientOptions.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), DocumentNotifiactions.textDocumentFilter);\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').didSave = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { includeText: !!textDocumentSyncOptions.save.includeText })\r\n            });\r\n        }\r\n    }\r\n    register(method, data) {\r\n        this._includeText = !!data.registerOptions.includeText;\r\n        super.register(method, data);\r\n    }\r\n}\r\nclass FileSystemWatcherFeature {\r\n    constructor(_client, _notifyFileEvent) {\r\n        this._client = _client;\r\n        this._notifyFileEvent = _notifyFileEvent;\r\n        this._watchers = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\r\n    }\r\n    initialize(_capabilities, _documentSelector) {\r\n    }\r\n    register(_method, data) {\r\n        if (!Array.isArray(data.registerOptions.watchers)) {\r\n            return;\r\n        }\r\n        let disposeables = [];\r\n        for (let watcher of data.registerOptions.watchers) {\r\n            if (!Is.string(watcher.globPattern)) {\r\n                continue;\r\n            }\r\n            let watchCreate = true, watchChange = true, watchDelete = true;\r\n            if (watcher.kind !== void 0 && watcher.kind !== null) {\r\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\r\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) != 0;\r\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) != 0;\r\n            }\r\n            let fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(watcher.globPattern, !watchCreate, !watchChange, !watchDelete);\r\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete);\r\n            disposeables.push(fileSystemWatcher);\r\n        }\r\n        this._watchers.set(data.id, disposeables);\r\n    }\r\n    registerRaw(id, fileSystemWatchers) {\r\n        let disposeables = [];\r\n        for (let fileSystemWatcher of fileSystemWatchers) {\r\n            this.hookListeners(fileSystemWatcher, true, true, true, disposeables);\r\n        }\r\n        this._watchers.set(id, disposeables);\r\n    }\r\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\r\n        if (watchCreate) {\r\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\r\n            }), null, listeners);\r\n        }\r\n        if (watchChange) {\r\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\r\n            }), null, listeners);\r\n        }\r\n        if (watchDelete) {\r\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\r\n            }), null, listeners);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposeables = this._watchers.get(id);\r\n        if (disposeables) {\r\n            for (let disposable of disposeables) {\r\n                disposable.dispose();\r\n            }\r\n        }\r\n    }\r\n    dispose() {\r\n        this._watchers.forEach((disposeables) => {\r\n            for (let disposable of disposeables) {\r\n                disposable.dispose();\r\n            }\r\n        });\r\n        this._watchers.clear();\r\n    }\r\n}\r\nclass TextDocumentFeature {\r\n    constructor(_client, _message) {\r\n        this._client = _client;\r\n        this._message = _message;\r\n        this._providers = new Map();\r\n    }\r\n    get messages() {\r\n        return this._message;\r\n    }\r\n    register(message, data) {\r\n        if (message.method !== this.messages.method) {\r\n            throw new Error(`Register called on wrong feature. Requested ${message.method} but reached feature ${this.messages.method}`);\r\n        }\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        let provider = this.registerLanguageProvider(data.registerOptions);\r\n        if (provider) {\r\n            this._providers.set(data.id, provider);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let provider = this._providers.get(id);\r\n        if (provider) {\r\n            provider.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._providers.forEach((value) => {\r\n            value.dispose();\r\n        });\r\n        this._providers.clear();\r\n    }\r\n}\r\nexports.TextDocumentFeature = TextDocumentFeature;\r\nclass WorkspaceFeature {\r\n    constructor(_client, _message) {\r\n        this._client = _client;\r\n        this._message = _message;\r\n        this._providers = new Map();\r\n    }\r\n    get messages() {\r\n        return this._message;\r\n    }\r\n    register(message, data) {\r\n        if (message.method !== this.messages.method) {\r\n            throw new Error(`Register called on wron feature. Requested ${message.method} but reached feature ${this.messages.method}`);\r\n        }\r\n        let provider = this.registerLanguageProvider(data.registerOptions);\r\n        if (provider) {\r\n            this._providers.set(data.id, provider);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let provider = this._providers.get(id);\r\n        if (provider) {\r\n            provider.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._providers.forEach((value) => {\r\n            value.dispose();\r\n        });\r\n        this._providers.clear();\r\n    }\r\n}\r\nclass CompletionItemFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let completion = ensure(ensure(capabilites, 'textDocument'), 'completion');\r\n        completion.dynamicRegistration = true;\r\n        completion.contextSupport = true;\r\n        completion.completionItem = {\r\n            snippetSupport: true,\r\n            commitCharactersSupport: true,\r\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\r\n            deprecatedSupport: true,\r\n            preselectSupport: true\r\n        };\r\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.completionProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.completionProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let triggerCharacters = options.triggerCharacters || [];\r\n        let client = this._client;\r\n        let provideCompletionItems = (document, position, context, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then(client.protocol2CodeConverter.asCompletionResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let resolveCompletionItem = (item, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item), token).then(client.protocol2CodeConverter.asCompletionItem, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, error);\r\n                return Promise.resolve(item);\r\n            });\r\n        };\r\n        let middleware = this._client.clientOptions.middleware;\r\n        return vscode_1.languages.registerCompletionItemProvider(options.documentSelector, {\r\n            provideCompletionItems: (document, position, token, context) => {\r\n                return middleware.provideCompletionItem\r\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\r\n                    : provideCompletionItems(document, position, context, token);\r\n            },\r\n            resolveCompletionItem: options.resolveProvider\r\n                ? (item, token) => {\r\n                    return middleware.resolveCompletionItem\r\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\r\n                        : resolveCompletionItem(item, token);\r\n                }\r\n                : undefined\r\n        }, ...triggerCharacters);\r\n    }\r\n}\r\nclass HoverFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        const hoverCapability = (ensure(ensure(capabilites, 'textDocument'), 'hover'));\r\n        hoverCapability.dynamicRegistration = true;\r\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.hoverProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideHover = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asHover, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerHoverProvider(options.documentSelector, {\r\n            provideHover: (document, position, token) => {\r\n                return middleware.provideHover\r\n                    ? middleware.provideHover(document, position, token, provideHover)\r\n                    : provideHover(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass SignatureHelpFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let config = ensure(ensure(capabilites, 'textDocument'), 'signatureHelp');\r\n        config.dynamicRegistration = true;\r\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\r\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.signatureHelpProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.signatureHelpProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let providerSignatureHelp = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asSignatureHelp, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        let triggerCharacters = options.triggerCharacters || [];\r\n        return vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, {\r\n            provideSignatureHelp: (document, position, token) => {\r\n                return middleware.provideSignatureHelp\r\n                    ? middleware.provideSignatureHelp(document, position, token, providerSignatureHelp)\r\n                    : providerSignatureHelp(document, position, token);\r\n            }\r\n        }, ...triggerCharacters);\r\n    }\r\n}\r\nclass DefinitionFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let definitionSupport = ensure(ensure(capabilites, 'textDocument'), 'definition');\r\n        definitionSupport.dynamicRegistration = true;\r\n        definitionSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.definitionProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDefinition = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDefinitionProvider(options.documentSelector, {\r\n            provideDefinition: (document, position, token) => {\r\n                return middleware.provideDefinition\r\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\r\n                    : provideDefinition(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass ReferencesFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'references').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.referencesProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let providerReferences = (document, position, options, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then(client.protocol2CodeConverter.asReferences, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerReferenceProvider(options.documentSelector, {\r\n            provideReferences: (document, position, options, token) => {\r\n                return middleware.provideReferences\r\n                    ? middleware.provideReferences(document, position, options, token, providerReferences)\r\n                    : providerReferences(document, position, options, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DocumentHighlightFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentHighlightProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentHighlights = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDocumentHighlights, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector, {\r\n            provideDocumentHighlights: (document, position, token) => {\r\n                return middleware.provideDocumentHighlights\r\n                    ? middleware.provideDocumentHighlights(document, position, token, provideDocumentHighlights)\r\n                    : provideDocumentHighlights(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DocumentSymbolFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let symbolCapabilities = ensure(ensure(capabilites, 'textDocument'), 'documentSymbol');\r\n        symbolCapabilities.dynamicRegistration = true;\r\n        symbolCapabilities.symbolKind = {\r\n            valueSet: SupportedSymbolKinds\r\n        };\r\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentSymbolProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentSymbols = (document, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then((data) => {\r\n                if (data === null) {\r\n                    return undefined;\r\n                }\r\n                if (data.length === 0) {\r\n                    return [];\r\n                }\r\n                else {\r\n                    let element = data[0];\r\n                    if (vscode_languageserver_protocol_1.DocumentSymbol.is(element)) {\r\n                        return client.protocol2CodeConverter.asDocumentSymbols(data);\r\n                    }\r\n                    else {\r\n                        return client.protocol2CodeConverter.asSymbolInformations(data);\r\n                    }\r\n                }\r\n            }, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector, {\r\n            provideDocumentSymbols: (document, token) => {\r\n                return middleware.provideDocumentSymbols\r\n                    ? middleware.provideDocumentSymbols(document, token, provideDocumentSymbols)\r\n                    : provideDocumentSymbols(document, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass WorkspaceSymbolFeature extends WorkspaceFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let symbolCapabilities = ensure(ensure(capabilites, 'workspace'), 'symbol');\r\n        symbolCapabilities.dynamicRegistration = true;\r\n        symbolCapabilities.symbolKind = {\r\n            valueSet: SupportedSymbolKinds\r\n        };\r\n    }\r\n    initialize(capabilities) {\r\n        if (!capabilities.workspaceSymbolProvider) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: undefined\r\n        });\r\n    }\r\n    registerLanguageProvider(_options) {\r\n        let client = this._client;\r\n        let provideWorkspaceSymbols = (query, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then(client.protocol2CodeConverter.asSymbolInformations, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerWorkspaceSymbolProvider({\r\n            provideWorkspaceSymbols: (query, token) => {\r\n                return middleware.provideWorkspaceSymbols\r\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\r\n                    : provideWorkspaceSymbols(query, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass CodeActionFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        const cap = ensure(ensure(capabilites, 'textDocument'), 'codeAction');\r\n        cap.dynamicRegistration = true;\r\n        cap.codeActionLiteralSupport = {\r\n            codeActionKind: {\r\n                valueSet: [\r\n                    '',\r\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\r\n                ]\r\n            }\r\n        };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.codeActionProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        let codeActionKinds = undefined;\r\n        if (!Is.boolean(capabilities.codeActionProvider)) {\r\n            codeActionKinds = capabilities.codeActionProvider.codeActionKinds;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: { documentSelector: documentSelector, codeActionKinds }\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideCodeActions = (document, range, context, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                range: client.code2ProtocolConverter.asRange(range),\r\n                context: client.code2ProtocolConverter.asCodeActionContext(context)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\r\n                if (values === null) {\r\n                    return undefined;\r\n                }\r\n                let result = [];\r\n                for (let item of values) {\r\n                    if (vscode_languageserver_protocol_1.Command.is(item)) {\r\n                        result.push(client.protocol2CodeConverter.asCommand(item));\r\n                    }\r\n                    else {\r\n                        result.push(client.protocol2CodeConverter.asCodeAction(item));\r\n                    }\r\n                    ;\r\n                }\r\n                return result;\r\n            }, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerCodeActionsProvider(options.documentSelector, {\r\n            provideCodeActions: (document, range, context, token) => {\r\n                return middleware.provideCodeActions\r\n                    ? middleware.provideCodeActions(document, range, context, token, provideCodeActions)\r\n                    : provideCodeActions(document, range, context, token);\r\n            }\r\n        }, options.codeActionKinds\r\n            ? { providedCodeActionKinds: client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\r\n            : undefined);\r\n    }\r\n}\r\nclass CodeLensFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'codeLens').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.codeLensProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.codeLensProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideCodeLenses = (document, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then(client.protocol2CodeConverter.asCodeLenses, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let resolveCodeLens = (codeLens, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then(client.protocol2CodeConverter.asCodeLens, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, error);\r\n                return codeLens;\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerCodeLensProvider(options.documentSelector, {\r\n            provideCodeLenses: (document, token) => {\r\n                return middleware.provideCodeLenses\r\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\r\n                    : provideCodeLenses(document, token);\r\n            },\r\n            resolveCodeLens: (options.resolveProvider)\r\n                ? (codeLens, token) => {\r\n                    return middleware.resolveCodeLens\r\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\r\n                        : resolveCodeLens(codeLens, token);\r\n                }\r\n                : undefined\r\n        });\r\n    }\r\n}\r\nclass DocumentFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'formatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentFormattingProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentFormattingEdits = (document, options, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector, {\r\n            provideDocumentFormattingEdits: (document, options, token) => {\r\n                return middleware.provideDocumentFormattingEdits\r\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\r\n                    : provideDocumentFormattingEdits(document, options, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DocumentRangeFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentRangeFormattingProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentRangeFormattingEdits = (document, range, options, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                range: client.code2ProtocolConverter.asRange(range),\r\n                options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector, {\r\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\r\n                return middleware.provideDocumentRangeFormattingEdits\r\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\r\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DocumentOnTypeFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentOnTypeFormattingProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.documentOnTypeFormattingProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let moreTriggerCharacter = options.moreTriggerCharacter || [];\r\n        let provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                position: client.code2ProtocolConverter.asPosition(position),\r\n                ch: ch,\r\n                options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, error);\r\n                return Promise.resolve([]);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerOnTypeFormattingEditProvider(options.documentSelector, {\r\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\r\n                return middleware.provideOnTypeFormattingEdits\r\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\r\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\r\n            }\r\n        }, options.firstTriggerCharacter, ...moreTriggerCharacter);\r\n    }\r\n}\r\nclass RenameFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let rename = ensure(ensure(capabilites, 'textDocument'), 'rename');\r\n        rename.dynamicRegistration = true;\r\n        rename.prepareSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.renameProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        let options = Object.assign({}, { documentSelector: documentSelector });\r\n        if (Is.boolean(capabilities.renameProvider)) {\r\n            options.prepareProvider = false;\r\n        }\r\n        else {\r\n            options.prepareProvider = capabilities.renameProvider.prepareProvider;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: options\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideRenameEdits = (document, position, newName, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                position: client.code2ProtocolConverter.asPosition(position),\r\n                newName: newName\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then(client.protocol2CodeConverter.asWorkspaceEdit, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, error);\r\n                return Promise.reject(new Error(error.message));\r\n            });\r\n        };\r\n        let prepareRename = (document, position, token) => {\r\n            let params = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                position: client.code2ProtocolConverter.asPosition(position),\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\r\n                if (vscode_languageserver_protocol_1.Range.is(result)) {\r\n                    return client.protocol2CodeConverter.asRange(result);\r\n                }\r\n                else if (result && result.range) {\r\n                    return {\r\n                        range: client.protocol2CodeConverter.asRange(result.range),\r\n                        placeholder: result.placeholder\r\n                    };\r\n                }\r\n                return null;\r\n            }, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, error);\r\n                return Promise.reject(new Error(error.message));\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerRenameProvider(options.documentSelector, {\r\n            provideRenameEdits: (document, position, newName, token) => {\r\n                return middleware.provideRenameEdits\r\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\r\n                    : provideRenameEdits(document, position, newName, token);\r\n            },\r\n            prepareRename: options.prepareProvider\r\n                ? (document, position, token) => {\r\n                    return middleware.prepareRename\r\n                        ? middleware.prepareRename(document, position, token, prepareRename)\r\n                        : prepareRename(document, position, token);\r\n                }\r\n                : undefined\r\n        });\r\n    }\r\n}\r\nclass DocumentLinkFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'documentLink').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.documentLinkProvider || !documentSelector) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilities.documentLinkProvider)\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDocumentLinks = (document, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then(client.protocol2CodeConverter.asDocumentLinks, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, error);\r\n                Promise.resolve(new Error(error.message));\r\n            });\r\n        };\r\n        let resolveDocumentLink = (link, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then(client.protocol2CodeConverter.asDocumentLink, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, error);\r\n                Promise.resolve(new Error(error.message));\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDocumentLinkProvider(options.documentSelector, {\r\n            provideDocumentLinks: (document, token) => {\r\n                return middleware.provideDocumentLinks\r\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\r\n                    : provideDocumentLinks(document, token);\r\n            },\r\n            resolveDocumentLink: options.resolveProvider\r\n                ? (link, token) => {\r\n                    return middleware.resolveDocumentLink\r\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\r\n                        : resolveDocumentLink(link, token);\r\n                }\r\n                : undefined\r\n        });\r\n    }\r\n}\r\nclass ConfigurationFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._listeners = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\r\n    }\r\n    initialize() {\r\n        let section = this._client.clientOptions.synchronize.configurationSection;\r\n        if (section !== void 0) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: {\r\n                    section: section\r\n                }\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\r\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\r\n        });\r\n        this._listeners.set(data.id, disposable);\r\n        if (data.registerOptions.section !== void 0) {\r\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposable = this._listeners.get(id);\r\n        if (disposable) {\r\n            this._listeners.delete(id);\r\n            disposable.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        for (let disposable of this._listeners.values()) {\r\n            disposable.dispose();\r\n        }\r\n        this._listeners.clear();\r\n    }\r\n    onDidChangeConfiguration(configurationSection, event) {\r\n        let sections;\r\n        if (Is.string(configurationSection)) {\r\n            sections = [configurationSection];\r\n        }\r\n        else {\r\n            sections = configurationSection;\r\n        }\r\n        if (sections !== void 0 && event !== void 0) {\r\n            let affected = sections.some((section) => event.affectsConfiguration(section));\r\n            if (!affected) {\r\n                return;\r\n            }\r\n        }\r\n        let didChangeConfiguration = (sections) => {\r\n            if (sections === void 0) {\r\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\r\n                return;\r\n            }\r\n            this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\r\n        };\r\n        let middleware = this.getMiddleware();\r\n        middleware\r\n            ? middleware(sections, didChangeConfiguration)\r\n            : didChangeConfiguration(sections);\r\n    }\r\n    extractSettingsInformation(keys) {\r\n        function ensurePath(config, path) {\r\n            let current = config;\r\n            for (let i = 0; i < path.length - 1; i++) {\r\n                let obj = current[path[i]];\r\n                if (!obj) {\r\n                    obj = Object.create(null);\r\n                    current[path[i]] = obj;\r\n                }\r\n                current = obj;\r\n            }\r\n            return current;\r\n        }\r\n        let resource = this._client.clientOptions.workspaceFolder\r\n            ? this._client.clientOptions.workspaceFolder.uri\r\n            : undefined;\r\n        let result = Object.create(null);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let key = keys[i];\r\n            let index = key.indexOf('.');\r\n            let config = null;\r\n            if (index >= 0) {\r\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\r\n            }\r\n            else {\r\n                config = vscode_1.workspace.getConfiguration(key, resource);\r\n            }\r\n            if (config) {\r\n                let path = keys[i].split('.');\r\n                ensurePath(result, path)[path[path.length - 1]] = config;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    getMiddleware() {\r\n        let middleware = this._client.clientOptions.middleware;\r\n        if (middleware.workspace && middleware.workspace.didChangeConfiguration) {\r\n            return middleware.workspace.didChangeConfiguration;\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\nclass ExecuteCommandFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._commands = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities) {\r\n        if (!capabilities.executeCommandProvider) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\r\n        });\r\n    }\r\n    register(_message, data) {\r\n        let client = this._client;\r\n        if (data.registerOptions.commands) {\r\n            let disposeables = [];\r\n            for (const command of data.registerOptions.commands) {\r\n                disposeables.push(vscode_1.commands.registerCommand(command, (...args) => {\r\n                    let params = {\r\n                        command,\r\n                        arguments: args\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, error);\r\n                    });\r\n                }));\r\n            }\r\n            this._commands.set(data.id, disposeables);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposeables = this._commands.get(id);\r\n        if (disposeables) {\r\n            disposeables.forEach(disposable => disposable.dispose());\r\n        }\r\n    }\r\n    dispose() {\r\n        this._commands.forEach((value) => {\r\n            value.forEach(disposable => disposable.dispose());\r\n        });\r\n        this._commands.clear();\r\n    }\r\n}\r\nvar MessageTransports;\r\n(function (MessageTransports) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\r\n    }\r\n    MessageTransports.is = is;\r\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\r\nclass OnReady {\r\n    constructor(_resolve, _reject) {\r\n        this._resolve = _resolve;\r\n        this._reject = _reject;\r\n        this._used = false;\r\n    }\r\n    get isUsed() {\r\n        return this._used;\r\n    }\r\n    resolve() {\r\n        this._used = true;\r\n        this._resolve();\r\n    }\r\n    reject(error) {\r\n        this._used = true;\r\n        this._reject(error);\r\n    }\r\n}\r\nclass BaseLanguageClient {\r\n    constructor(id, name, clientOptions) {\r\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\r\n        this._features = [];\r\n        this._method2Message = new Map();\r\n        this._dynamicFeatures = new Map();\r\n        this._id = id;\r\n        this._name = name;\r\n        clientOptions = clientOptions || {};\r\n        this._clientOptions = {\r\n            documentSelector: clientOptions.documentSelector || [],\r\n            synchronize: clientOptions.synchronize || {},\r\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\r\n            outputChannelName: clientOptions.outputChannelName || this._name,\r\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn || RevealOutputChannelOn.Error,\r\n            stdioEncoding: clientOptions.stdioEncoding || 'utf8',\r\n            initializationOptions: clientOptions.initializationOptions,\r\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\r\n            errorHandler: clientOptions.errorHandler || new DefaultErrorHandler(this._name),\r\n            middleware: clientOptions.middleware || {},\r\n            uriConverters: clientOptions.uriConverters,\r\n            workspaceFolder: clientOptions.workspaceFolder\r\n        };\r\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\r\n        this.state = ClientState.Initial;\r\n        this._connectionPromise = undefined;\r\n        this._resolvedConnection = undefined;\r\n        this._initializeResult = undefined;\r\n        if (clientOptions.outputChannel) {\r\n            this._outputChannel = clientOptions.outputChannel;\r\n            this._disposeOutputChannel = false;\r\n        }\r\n        else {\r\n            this._outputChannel = undefined;\r\n            this._disposeOutputChannel = true;\r\n        }\r\n        this._listeners = undefined;\r\n        this._providers = undefined;\r\n        this._diagnostics = undefined;\r\n        this._fileEvents = [];\r\n        this._fileEventDelayer = new async_1.Delayer(250);\r\n        this._onReady = new Promise((resolve, reject) => {\r\n            this._onReadyCallbacks = new OnReady(resolve, reject);\r\n        });\r\n        this._onStop = undefined;\r\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\r\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\r\n        this._tracer = {\r\n            log: (messageOrDataObject, data) => {\r\n                if (Is.string(messageOrDataObject)) {\r\n                    this.logTrace(messageOrDataObject, data);\r\n                }\r\n                else {\r\n                    this.logObjectTrace(messageOrDataObject);\r\n                }\r\n            },\r\n        };\r\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\r\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined);\r\n        this._syncedDocuments = new Map();\r\n        this.registerBuiltinFeatures();\r\n    }\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    set state(value) {\r\n        let oldState = this.getPublicState();\r\n        this._state = value;\r\n        let newState = this.getPublicState();\r\n        if (newState !== oldState) {\r\n            this._stateChangeEmitter.fire({ oldState, newState });\r\n        }\r\n    }\r\n    getPublicState() {\r\n        if (this.state === ClientState.Running) {\r\n            return State.Running;\r\n        }\r\n        else if (this.state === ClientState.Starting) {\r\n            return State.Starting;\r\n        }\r\n        else {\r\n            return State.Stopped;\r\n        }\r\n    }\r\n    get initializeResult() {\r\n        return this._initializeResult;\r\n    }\r\n    sendRequest(type, ...params) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            return this._resolvedConnection.sendRequest(type, ...params);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onRequest(type, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            this._resolvedConnection.onRequest(type, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering request handler ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    sendNotification(type, params) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            this._resolvedConnection.sendNotification(type, params);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onNotification(type, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            this._resolvedConnection.onNotification(type, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering notification handler ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    get clientOptions() {\r\n        return this._clientOptions;\r\n    }\r\n    get protocol2CodeConverter() {\r\n        return this._p2c;\r\n    }\r\n    get code2ProtocolConverter() {\r\n        return this._c2p;\r\n    }\r\n    get onTelemetry() {\r\n        return this._telemetryEmitter.event;\r\n    }\r\n    get onDidChangeState() {\r\n        return this._stateChangeEmitter.event;\r\n    }\r\n    get outputChannel() {\r\n        if (!this._outputChannel) {\r\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\r\n        }\r\n        return this._outputChannel;\r\n    }\r\n    get diagnostics() {\r\n        return this._diagnostics;\r\n    }\r\n    createDefaultErrorHandler() {\r\n        return new DefaultErrorHandler(this._name);\r\n    }\r\n    set trace(value) {\r\n        this._trace = value;\r\n        this.onReady().then(() => {\r\n            this.resolveConnection().then((connection) => {\r\n                connection.trace(this._trace, this._tracer, {\r\n                    sendNotification: false,\r\n                    traceFormat: this._traceFormat\r\n                });\r\n            });\r\n        }, () => {\r\n        });\r\n    }\r\n    data2String(data) {\r\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\r\n            const responseError = data;\r\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\r\n        }\r\n        if (data instanceof Error) {\r\n            if (Is.string(data.stack)) {\r\n                return data.stack;\r\n            }\r\n            return data.message;\r\n        }\r\n        if (Is.string(data)) {\r\n            return data;\r\n        }\r\n        return data.toString();\r\n    }\r\n    info(message, data) {\r\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\r\n            this.outputChannel.show(true);\r\n        }\r\n    }\r\n    warn(message, data) {\r\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\r\n            this.outputChannel.show(true);\r\n        }\r\n    }\r\n    error(message, data) {\r\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error) {\r\n            this.outputChannel.show(true);\r\n        }\r\n    }\r\n    logTrace(message, data) {\r\n        this.outputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n    }\r\n    logObjectTrace(data) {\r\n        if (data.isLSPMessage && data.type) {\r\n            this.outputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\r\n        }\r\n        else {\r\n            this.outputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\r\n        }\r\n        if (data) {\r\n            this.outputChannel.appendLine(`${JSON.stringify(data)}`);\r\n        }\r\n    }\r\n    needsStart() {\r\n        return this.state === ClientState.Initial || this.state === ClientState.Stopping || this.state === ClientState.Stopped;\r\n    }\r\n    needsStop() {\r\n        return this.state === ClientState.Starting || this.state === ClientState.Running;\r\n    }\r\n    onReady() {\r\n        return this._onReady;\r\n    }\r\n    isConnectionActive() {\r\n        return this.state === ClientState.Running && !!this._resolvedConnection;\r\n    }\r\n    start() {\r\n        if (this._onReadyCallbacks.isUsed) {\r\n            this._onReady = new Promise((resolve, reject) => {\r\n                this._onReadyCallbacks = new OnReady(resolve, reject);\r\n            });\r\n        }\r\n        this._listeners = [];\r\n        this._providers = [];\r\n        // If we restart then the diagnostics collection is reused.\r\n        if (!this._diagnostics) {\r\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\r\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\r\n                : vscode_1.languages.createDiagnosticCollection();\r\n        }\r\n        this.state = ClientState.Starting;\r\n        this.resolveConnection().then((connection) => {\r\n            connection.onLogMessage((message) => {\r\n                switch (message.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        this.error(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        this.warn(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        this.info(message.message);\r\n                        break;\r\n                    default:\r\n                        this.outputChannel.appendLine(message.message);\r\n                }\r\n            });\r\n            connection.onShowMessage((message) => {\r\n                switch (message.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        vscode_1.window.showErrorMessage(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        vscode_1.window.showWarningMessage(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        vscode_1.window.showInformationMessage(message.message);\r\n                        break;\r\n                    default:\r\n                        vscode_1.window.showInformationMessage(message.message);\r\n                }\r\n            });\r\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\r\n                let messageFunc;\r\n                switch (params.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        messageFunc = vscode_1.window.showErrorMessage;\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        messageFunc = vscode_1.window.showWarningMessage;\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        messageFunc = vscode_1.window.showInformationMessage;\r\n                        break;\r\n                    default:\r\n                        messageFunc = vscode_1.window.showInformationMessage;\r\n                }\r\n                let actions = params.actions || [];\r\n                return messageFunc(params.message, ...actions);\r\n            });\r\n            connection.onTelemetry((data) => {\r\n                this._telemetryEmitter.fire(data);\r\n            });\r\n            connection.listen();\r\n            // Error is handled in the initialize call.\r\n            return this.initialize(connection);\r\n        }).then(undefined, (error) => {\r\n            this.state = ClientState.StartFailed;\r\n            this._onReadyCallbacks.reject(error);\r\n            this.error('Starting client failed', error);\r\n            vscode_1.window.showErrorMessage(`Couldn't start client ${this._name}`);\r\n        });\r\n        return new vscode_1.Disposable(() => {\r\n            if (this.needsStop()) {\r\n                this.stop();\r\n            }\r\n        });\r\n    }\r\n    resolveConnection() {\r\n        if (!this._connectionPromise) {\r\n            this._connectionPromise = this.createConnection();\r\n        }\r\n        return this._connectionPromise;\r\n    }\r\n    initialize(connection) {\r\n        this.refreshTrace(connection, false);\r\n        let initOption = this._clientOptions.initializationOptions;\r\n        let rootPath = this._clientOptions.workspaceFolder\r\n            ? this._clientOptions.workspaceFolder.uri.fsPath\r\n            : this._clientGetRootPath();\r\n        let initParams = {\r\n            processId: process.pid,\r\n            rootPath: rootPath ? rootPath : null,\r\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\r\n            capabilities: this.computeClientCapabilities(),\r\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\r\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\r\n            workspaceFolders: null\r\n        };\r\n        this.fillInitializeParams(initParams);\r\n        return connection.initialize(initParams).then((result) => {\r\n            this._resolvedConnection = connection;\r\n            this._initializeResult = result;\r\n            this.state = ClientState.Running;\r\n            let textDocumentSyncOptions = undefined;\r\n            if (Is.number(result.capabilities.textDocumentSync)) {\r\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\r\n                    textDocumentSyncOptions = {\r\n                        openClose: false,\r\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\r\n                        save: undefined\r\n                    };\r\n                }\r\n                else {\r\n                    textDocumentSyncOptions = {\r\n                        openClose: true,\r\n                        change: result.capabilities.textDocumentSync,\r\n                        save: {\r\n                            includeText: false\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n            else if (result.capabilities.textDocumentSync !== void 0 && result.capabilities.textDocumentSync !== null) {\r\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\r\n            }\r\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\r\n            connection.onDiagnostics(params => this.handleDiagnostics(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\r\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\r\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\r\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\r\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\r\n            connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\r\n            this.hookFileEvents(connection);\r\n            this.hookConfigurationChanged(connection);\r\n            this.initializeFeatures(connection);\r\n            this._onReadyCallbacks.resolve();\r\n            return result;\r\n        }).then(undefined, (error) => {\r\n            if (this._clientOptions.initializationFailedHandler) {\r\n                if (this._clientOptions.initializationFailedHandler(error)) {\r\n                    this.initialize(connection);\r\n                }\r\n                else {\r\n                    this.stop();\r\n                    this._onReadyCallbacks.reject(error);\r\n                }\r\n            }\r\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\r\n                vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: \"retry\" }).then(item => {\r\n                    if (item && item.id === 'retry') {\r\n                        this.initialize(connection);\r\n                    }\r\n                    else {\r\n                        this.stop();\r\n                        this._onReadyCallbacks.reject(error);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (error && error.message) {\r\n                    vscode_1.window.showErrorMessage(error.message);\r\n                }\r\n                this.error('Server initialization failed.', error);\r\n                this.stop();\r\n                this._onReadyCallbacks.reject(error);\r\n            }\r\n        });\r\n    }\r\n    _clientGetRootPath() {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (!folders || folders.length === 0) {\r\n            return undefined;\r\n        }\r\n        let folder = folders[0];\r\n        if (folder.uri.scheme === 'file') {\r\n            return folder.uri.fsPath;\r\n        }\r\n        return undefined;\r\n    }\r\n    stop() {\r\n        this._initializeResult = undefined;\r\n        if (!this._connectionPromise) {\r\n            this.state = ClientState.Stopped;\r\n            return Promise.resolve();\r\n        }\r\n        if (this.state === ClientState.Stopping && this._onStop) {\r\n            return this._onStop;\r\n        }\r\n        this.state = ClientState.Stopping;\r\n        this.cleanUp();\r\n        // unhook listeners\r\n        return this._onStop = this.resolveConnection().then(connection => {\r\n            return connection.shutdown().then(() => {\r\n                connection.exit();\r\n                connection.dispose();\r\n                this.state = ClientState.Stopped;\r\n                this._onStop = undefined;\r\n                this._connectionPromise = undefined;\r\n                this._resolvedConnection = undefined;\r\n            });\r\n        });\r\n    }\r\n    cleanUp(channel = true, diagnostics = true) {\r\n        if (this._listeners) {\r\n            this._listeners.forEach(listener => listener.dispose());\r\n            this._listeners = undefined;\r\n        }\r\n        if (this._providers) {\r\n            this._providers.forEach(provider => provider.dispose());\r\n            this._providers = undefined;\r\n        }\r\n        if (this._syncedDocuments) {\r\n            this._syncedDocuments.clear();\r\n        }\r\n        for (let handler of this._dynamicFeatures.values()) {\r\n            handler.dispose();\r\n        }\r\n        if (channel && this._outputChannel && this._disposeOutputChannel) {\r\n            this._outputChannel.dispose();\r\n            this._outputChannel = undefined;\r\n        }\r\n        if (diagnostics && this._diagnostics) {\r\n            this._diagnostics.dispose();\r\n            this._diagnostics = undefined;\r\n        }\r\n    }\r\n    notifyFileEvent(event) {\r\n        this._fileEvents.push(event);\r\n        this._fileEventDelayer.trigger(() => {\r\n            this.onReady().then(() => {\r\n                this.resolveConnection().then(connection => {\r\n                    if (this.isConnectionActive()) {\r\n                        connection.didChangeWatchedFiles({ changes: this._fileEvents });\r\n                    }\r\n                    this._fileEvents = [];\r\n                });\r\n            }, (error) => {\r\n                this.error(`Notify file events failed.`, error);\r\n            });\r\n        });\r\n    }\r\n    forceDocumentSync() {\r\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method).forceDelivery();\r\n    }\r\n    handleDiagnostics(params) {\r\n        if (!this._diagnostics) {\r\n            return;\r\n        }\r\n        let uri = this._p2c.asUri(params.uri);\r\n        let diagnostics = this._p2c.asDiagnostics(params.diagnostics);\r\n        let middleware = this.clientOptions.middleware.handleDiagnostics;\r\n        if (middleware) {\r\n            middleware(uri, diagnostics, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\r\n        }\r\n        else {\r\n            this.setDiagnostics(uri, diagnostics);\r\n        }\r\n    }\r\n    setDiagnostics(uri, diagnostics) {\r\n        if (!this._diagnostics) {\r\n            return;\r\n        }\r\n        this._diagnostics.set(uri, diagnostics);\r\n    }\r\n    createConnection() {\r\n        let errorHandler = (error, message, count) => {\r\n            this.handleConnectionError(error, message, count);\r\n        };\r\n        let closeHandler = () => {\r\n            this.handleConnectionClosed();\r\n        };\r\n        return this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8').then((transports) => {\r\n            return createConnection(transports.reader, transports.writer, errorHandler, closeHandler);\r\n        });\r\n    }\r\n    handleConnectionClosed() {\r\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\r\n        if (this.state === ClientState.Stopping || this.state === ClientState.Stopped) {\r\n            return;\r\n        }\r\n        try {\r\n            if (this._resolvedConnection) {\r\n                this._resolvedConnection.dispose();\r\n            }\r\n        }\r\n        catch (error) {\r\n            // Disposing a connection could fail if error cases.\r\n        }\r\n        let action = CloseAction.DoNotRestart;\r\n        try {\r\n            action = this._clientOptions.errorHandler.closed();\r\n        }\r\n        catch (error) {\r\n            // Ignore errors coming from the error handler.\r\n        }\r\n        this._connectionPromise = undefined;\r\n        this._resolvedConnection = undefined;\r\n        if (action === CloseAction.DoNotRestart) {\r\n            this.error('Connection to server got closed. Server will not be restarted.');\r\n            this.state = ClientState.Stopped;\r\n            this.cleanUp(false, true);\r\n        }\r\n        else if (action === CloseAction.Restart) {\r\n            this.info('Connection to server got closed. Server will restart.');\r\n            this.cleanUp(false, false);\r\n            this.state = ClientState.Initial;\r\n            this.start();\r\n        }\r\n    }\r\n    handleConnectionError(error, message, count) {\r\n        let action = this._clientOptions.errorHandler.error(error, message, count);\r\n        if (action === ErrorAction.Shutdown) {\r\n            this.error('Connection to server is erroring. Shutting down server.');\r\n            this.stop();\r\n        }\r\n    }\r\n    hookConfigurationChanged(connection) {\r\n        vscode_1.workspace.onDidChangeConfiguration(() => {\r\n            this.refreshTrace(connection, true);\r\n        });\r\n    }\r\n    refreshTrace(connection, sendNotification = false) {\r\n        let config = vscode_1.workspace.getConfiguration(this._id);\r\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\r\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\r\n        if (config) {\r\n            const traceConfig = config.get('trace.server', 'off');\r\n            if (typeof traceConfig === 'string') {\r\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\r\n            }\r\n            else {\r\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\r\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\r\n            }\r\n        }\r\n        this._trace = trace;\r\n        this._traceFormat = traceFormat;\r\n        connection.trace(this._trace, this._tracer, {\r\n            sendNotification,\r\n            traceFormat: this._traceFormat\r\n        });\r\n    }\r\n    hookFileEvents(_connection) {\r\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\r\n        if (!fileEvents) {\r\n            return;\r\n        }\r\n        let watchers;\r\n        if (Is.array(fileEvents)) {\r\n            watchers = fileEvents;\r\n        }\r\n        else {\r\n            watchers = [fileEvents];\r\n        }\r\n        if (!watchers) {\r\n            return;\r\n        }\r\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\r\n    }\r\n    registerFeatures(features) {\r\n        for (let feature of features) {\r\n            this.registerFeature(feature);\r\n        }\r\n    }\r\n    registerFeature(feature) {\r\n        this._features.push(feature);\r\n        if (DynamicFeature.is(feature)) {\r\n            let messages = feature.messages;\r\n            if (Array.isArray(messages)) {\r\n                for (let message of messages) {\r\n                    this._method2Message.set(message.method, message);\r\n                    this._dynamicFeatures.set(message.method, feature);\r\n                }\r\n            }\r\n            else {\r\n                this._method2Message.set(messages.method, messages);\r\n                this._dynamicFeatures.set(messages.method, feature);\r\n            }\r\n        }\r\n    }\r\n    registerBuiltinFeatures() {\r\n        this.registerFeature(new ConfigurationFeature(this));\r\n        this.registerFeature(new DidOpenTextDocumentFeature(this, this._syncedDocuments));\r\n        this.registerFeature(new DidChangeTextDocumentFeature(this));\r\n        this.registerFeature(new WillSaveFeature(this));\r\n        this.registerFeature(new WillSaveWaitUntilFeature(this));\r\n        this.registerFeature(new DidSaveTextDocumentFeature(this));\r\n        this.registerFeature(new DidCloseTextDocumentFeature(this, this._syncedDocuments));\r\n        this.registerFeature(new FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\r\n        this.registerFeature(new CompletionItemFeature(this));\r\n        this.registerFeature(new HoverFeature(this));\r\n        this.registerFeature(new SignatureHelpFeature(this));\r\n        this.registerFeature(new DefinitionFeature(this));\r\n        this.registerFeature(new ReferencesFeature(this));\r\n        this.registerFeature(new DocumentHighlightFeature(this));\r\n        this.registerFeature(new DocumentSymbolFeature(this));\r\n        this.registerFeature(new WorkspaceSymbolFeature(this));\r\n        this.registerFeature(new CodeActionFeature(this));\r\n        this.registerFeature(new CodeLensFeature(this));\r\n        this.registerFeature(new DocumentFormattingFeature(this));\r\n        this.registerFeature(new DocumentRangeFormattingFeature(this));\r\n        this.registerFeature(new DocumentOnTypeFormattingFeature(this));\r\n        this.registerFeature(new RenameFeature(this));\r\n        this.registerFeature(new DocumentLinkFeature(this));\r\n        this.registerFeature(new ExecuteCommandFeature(this));\r\n    }\r\n    fillInitializeParams(params) {\r\n        for (let feature of this._features) {\r\n            if (Is.func(feature.fillInitializeParams)) {\r\n                feature.fillInitializeParams(params);\r\n            }\r\n        }\r\n    }\r\n    computeClientCapabilities() {\r\n        let result = {};\r\n        ensure(result, 'workspace').applyEdit = true;\r\n        let workspaceEdit = ensure(ensure(result, 'workspace'), 'workspaceEdit');\r\n        workspaceEdit.documentChanges = true;\r\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\r\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\r\n        ensure(ensure(result, 'textDocument'), 'publishDiagnostics').relatedInformation = true;\r\n        for (let feature of this._features) {\r\n            feature.fillClientCapabilities(result);\r\n        }\r\n        return result;\r\n    }\r\n    initializeFeatures(_connection) {\r\n        let documentSelector = this._clientOptions.documentSelector;\r\n        for (let feature of this._features) {\r\n            feature.initialize(this._capabilities, documentSelector);\r\n        }\r\n    }\r\n    handleRegistrationRequest(params) {\r\n        return new Promise((resolve, reject) => {\r\n            for (let registration of params.registrations) {\r\n                const feature = this._dynamicFeatures.get(registration.method);\r\n                if (!feature) {\r\n                    reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\r\n                    return;\r\n                }\r\n                const options = registration.registerOptions || {};\r\n                options.documentSelector = options.documentSelector || this._clientOptions.documentSelector;\r\n                const data = {\r\n                    id: registration.id,\r\n                    registerOptions: options\r\n                };\r\n                feature.register(this._method2Message.get(registration.method), data);\r\n            }\r\n            resolve();\r\n        });\r\n    }\r\n    handleUnregistrationRequest(params) {\r\n        return new Promise((resolve, reject) => {\r\n            for (let unregistration of params.unregisterations) {\r\n                const feature = this._dynamicFeatures.get(unregistration.method);\r\n                if (!feature) {\r\n                    reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\r\n                    return;\r\n                }\r\n                feature.unregister(unregistration.id);\r\n            }\r\n            ;\r\n            resolve();\r\n        });\r\n    }\r\n    handleApplyWorkspaceEdit(params) {\r\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\r\n        // However doing it here adds some safety since the server can lag more behind then an extension.\r\n        let workspaceEdit = params.edit;\r\n        let openTextDocuments = new Map();\r\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\r\n        let versionMismatch = false;\r\n        if (workspaceEdit.documentChanges) {\r\n            for (const change of workspaceEdit.documentChanges) {\r\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\r\n                    let textDocument = openTextDocuments.get(change.textDocument.uri);\r\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\r\n                        versionMismatch = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (versionMismatch) {\r\n            return Promise.resolve({ applied: false });\r\n        }\r\n        return vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then((value) => { return { applied: value }; });\r\n    }\r\n    ;\r\n    logFailedRequest(type, error) {\r\n        // If we get a request cancel don't log anything.\r\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.code === vscode_languageserver_protocol_1.ErrorCodes.RequestCancelled) {\r\n            return;\r\n        }\r\n        this.error(`Request ${type.method} failed.`, error);\r\n    }\r\n}\r\nexports.BaseLanguageClient = BaseLanguageClient;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ValueUUID {\r\n    constructor(_value) {\r\n        this._value = _value;\r\n        // empty\r\n    }\r\n    asHex() {\r\n        return this._value;\r\n    }\r\n    equals(other) {\r\n        return this.asHex() === other.asHex();\r\n    }\r\n}\r\nclass V4UUID extends ValueUUID {\r\n    constructor() {\r\n        super([\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            '4',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._oneOf(V4UUID._timeHighBits),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n        ].join(''));\r\n    }\r\n    static _oneOf(array) {\r\n        return array[Math.floor(array.length * Math.random())];\r\n    }\r\n    static _randomHex() {\r\n        return V4UUID._oneOf(V4UUID._chars);\r\n    }\r\n}\r\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\r\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\r\n/**\r\n * An empty UUID that contains only zeros.\r\n */\r\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\r\nfunction v4() {\r\n    return new V4UUID();\r\n}\r\nexports.v4 = v4;\r\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\nfunction isUUID(value) {\r\n    return _UUIDPattern.test(value);\r\n}\r\nexports.isUUID = isUUID;\r\n/**\r\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\r\n * @param value A uuid string.\r\n */\r\nfunction parse(value) {\r\n    if (!isUUID(value)) {\r\n        throw new Error('invalid uuid');\r\n    }\r\n    return new ValueUUID(value);\r\n}\r\nexports.parse = parse;\r\nfunction generateUuid() {\r\n    return v4().asHex();\r\n}\r\nexports.generateUuid = generateUuid;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nEmitter._noop = function () { };\r\nexports.Emitter = Emitter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't recevied the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","import * as vscode from 'vscode';\nimport * as cp from 'child_process';\n\nexport function exec(\n\tcommand: string,\n\toptions: cp.ExecOptions\n): Promise<{ stdout: string; stderr: string }> {\n\treturn new Promise<{ stdout: string; stderr: string }>((resolve, reject) => {\n\t\tcp.exec(command, options, (error, stdout, stderr) => {\n\t\t\tif (error) {\n\t\t\t\treject({ error, stdout, stderr });\n\t\t\t}\n\t\t\tresolve({ stdout, stderr });\n\t\t});\n\t});\n}\n\nlet _channel: vscode.OutputChannel;\nexport function getOutputChannel(): vscode.OutputChannel {\n\tif (!_channel) {\n\t\t_channel = vscode.window.createOutputChannel('Ruby');\n\t\tvscode.commands.registerCommand('ruby.showOutputChannel', () => {\n\t\t\t_channel.show();\n\t\t});\n\t}\n\treturn _channel;\n}\n\nexport async function loadEnv() {\n\tlet { stdout, stderr } = await exec(process.env.SHELL + ' -lc export', {\n\t\tcwd: vscode.workspace.rootPath,\n\t});\n\tlet envs = stdout.trim().split('\\n');\n\tfor (let i = 0; i < envs.length; i++) {\n\t\tlet definition = envs[i];\n\t\tlet result = definition.split('=', 2);\n\t\tlet envKey = result[0];\n\t\tlet envValue = result[1];\n\t\tif (['PATH', 'GEM_HOME', 'GEM_PATH', 'RUBY_VERSION'].indexOf(envKey) > -1) {\n\t\t\tif (!process.env[envKey]) {\n\t\t\t\tprocess.env[envKey] = envValue;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetOutputChannel().appendLine(stderr);\n}\nexport async function checkVersion() {\n\tgetOutputChannel().appendLine(process.env.SHELL);\n\tlet { stdout, stderr } = await exec('ruby -v', { cwd: vscode.workspace.rootPath });\n\n\tgetOutputChannel().appendLine(stdout);\n\tgetOutputChannel().appendLine(stderr);\n}\n","module.exports = require(\"util\");","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst cp = require(\"child_process\");\r\nconst fs = require(\"fs\");\r\nconst SemVer = require(\"semver\");\r\nconst client_1 = require(\"./client\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst colorProvider_1 = require(\"./colorProvider\");\r\nconst configuration_1 = require(\"./configuration\");\r\nconst implementation_1 = require(\"./implementation\");\r\nconst typeDefinition_1 = require(\"./typeDefinition\");\r\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\r\nconst foldingRange_1 = require(\"./foldingRange\");\r\nconst declaration_1 = require(\"./declaration\");\r\nconst Is = require(\"./utils/is\");\r\nconst processes_1 = require(\"./utils/processes\");\r\n__export(require(\"./client\"));\r\nconst REQUIRED_VSCODE_VERSION = '^1.30'; // do not change format, updated by `updateVSCode` script\r\nvar Executable;\r\n(function (Executable) {\r\n    function is(value) {\r\n        return Is.string(value.command);\r\n    }\r\n    Executable.is = is;\r\n})(Executable || (Executable = {}));\r\nvar TransportKind;\r\n(function (TransportKind) {\r\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\r\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\r\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\r\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\r\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\r\nvar Transport;\r\n(function (Transport) {\r\n    function isSocket(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\r\n    }\r\n    Transport.isSocket = isSocket;\r\n})(Transport || (Transport = {}));\r\nvar NodeModule;\r\n(function (NodeModule) {\r\n    function is(value) {\r\n        return Is.string(value.module);\r\n    }\r\n    NodeModule.is = is;\r\n})(NodeModule || (NodeModule = {}));\r\nvar StreamInfo;\r\n(function (StreamInfo) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.writer !== void 0 && candidate.reader !== void 0;\r\n    }\r\n    StreamInfo.is = is;\r\n})(StreamInfo || (StreamInfo = {}));\r\nvar ChildProcessInfo;\r\n(function (ChildProcessInfo) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.process !== void 0 && typeof candidate.detached === 'boolean';\r\n    }\r\n    ChildProcessInfo.is = is;\r\n})(ChildProcessInfo || (ChildProcessInfo = {}));\r\nclass LanguageClient extends client_1.BaseLanguageClient {\r\n    constructor(arg1, arg2, arg3, arg4, arg5) {\r\n        let id;\r\n        let name;\r\n        let serverOptions;\r\n        let clientOptions;\r\n        let forceDebug;\r\n        if (Is.string(arg2)) {\r\n            id = arg1;\r\n            name = arg2;\r\n            serverOptions = arg3;\r\n            clientOptions = arg4;\r\n            forceDebug = !!arg5;\r\n        }\r\n        else {\r\n            id = arg1.toLowerCase();\r\n            name = arg1;\r\n            serverOptions = arg2;\r\n            clientOptions = arg3;\r\n            forceDebug = arg4;\r\n        }\r\n        if (forceDebug === void 0) {\r\n            forceDebug = false;\r\n        }\r\n        super(id, name, clientOptions);\r\n        this._serverOptions = serverOptions;\r\n        this._forceDebug = forceDebug;\r\n        try {\r\n            this.checkVersion();\r\n        }\r\n        catch (error) {\r\n            if (Is.string(error.message)) {\r\n                this.outputChannel.appendLine(error.message);\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n    checkVersion() {\r\n        let codeVersion = SemVer.parse(vscode_1.version);\r\n        if (!codeVersion) {\r\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\r\n        }\r\n        // Remove the insider pre-release since we stay API compatible.\r\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\r\n            codeVersion.prerelease = [];\r\n        }\r\n        if (!SemVer.satisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\r\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\r\n        }\r\n    }\r\n    stop() {\r\n        return super.stop().then(() => {\r\n            if (this._serverProcess) {\r\n                let toCheck = this._serverProcess;\r\n                this._serverProcess = undefined;\r\n                if (this._isDetached === void 0 || !this._isDetached) {\r\n                    this.checkProcessDied(toCheck);\r\n                }\r\n                this._isDetached = undefined;\r\n            }\r\n        });\r\n    }\r\n    checkProcessDied(childProcess) {\r\n        if (!childProcess) {\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            // Test if the process is still alive. Throws an exception if not\r\n            try {\r\n                process.kill(childProcess.pid, 0);\r\n                processes_1.terminate(childProcess);\r\n            }\r\n            catch (error) {\r\n                // All is fine.\r\n            }\r\n        }, 2000);\r\n    }\r\n    handleConnectionClosed() {\r\n        this._serverProcess = undefined;\r\n        super.handleConnectionClosed();\r\n    }\r\n    createMessageTransports(encoding) {\r\n        function getEnvironment(env) {\r\n            if (!env) {\r\n                return process.env;\r\n            }\r\n            let result = Object.create(null);\r\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\r\n            Object.keys(env).forEach(key => result[key] = env[key]);\r\n            return result;\r\n        }\r\n        function startedInDebugMode() {\r\n            let args = process.execArgv;\r\n            if (args) {\r\n                return args.some((arg) => /^--debug=?/.test(arg) || /^--debug-brk=?/.test(arg) || /^--inspect=?/.test(arg) || /^--inspect-brk=?/.test(arg));\r\n            }\r\n            ;\r\n            return false;\r\n        }\r\n        let server = this._serverOptions;\r\n        // We got a function.\r\n        if (Is.func(server)) {\r\n            return server().then((result) => {\r\n                if (client_1.MessageTransports.is(result)) {\r\n                    this._isDetached = !!result.detached;\r\n                    return result;\r\n                }\r\n                else if (StreamInfo.is(result)) {\r\n                    this._isDetached = !!result.detached;\r\n                    return { reader: new vscode_languageserver_protocol_1.StreamMessageReader(result.reader), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(result.writer) };\r\n                }\r\n                else {\r\n                    let cp;\r\n                    if (ChildProcessInfo.is(result)) {\r\n                        cp = result.process;\r\n                        this._isDetached = result.detached;\r\n                    }\r\n                    else {\r\n                        cp = result;\r\n                        this._isDetached = false;\r\n                    }\r\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                    return { reader: new vscode_languageserver_protocol_1.StreamMessageReader(cp.stdout), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(cp.stdin) };\r\n                }\r\n            });\r\n        }\r\n        let json;\r\n        let runDebug = server;\r\n        if (runDebug.run || runDebug.debug) {\r\n            // We are under debugging. So use debug as well.\r\n            if (typeof v8debug === 'object' || this._forceDebug || startedInDebugMode()) {\r\n                json = runDebug.debug;\r\n            }\r\n            else {\r\n                json = runDebug.run;\r\n            }\r\n        }\r\n        else {\r\n            json = server;\r\n        }\r\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\r\n            if (NodeModule.is(json) && json.module) {\r\n                let node = json;\r\n                let transport = node.transport || TransportKind.stdio;\r\n                if (node.runtime) {\r\n                    let args = [];\r\n                    let options = node.options || Object.create(null);\r\n                    if (options.execArgv) {\r\n                        options.execArgv.forEach(element => args.push(element));\r\n                    }\r\n                    args.push(node.module);\r\n                    if (node.args) {\r\n                        node.args.forEach(element => args.push(element));\r\n                    }\r\n                    let execOptions = Object.create(null);\r\n                    execOptions.cwd = serverWorkingDir;\r\n                    execOptions.env = getEnvironment(options.env);\r\n                    let pipeName = undefined;\r\n                    if (transport === TransportKind.ipc) {\r\n                        // exec options not correctly typed in lib\r\n                        execOptions.stdio = [null, null, null, 'ipc'];\r\n                        args.push('--node-ipc');\r\n                    }\r\n                    else if (transport === TransportKind.stdio) {\r\n                        args.push('--stdio');\r\n                    }\r\n                    else if (transport === TransportKind.pipe) {\r\n                        pipeName = vscode_languageserver_protocol_1.generateRandomPipeName();\r\n                        args.push(`--pipe=${pipeName}`);\r\n                    }\r\n                    else if (Transport.isSocket(transport)) {\r\n                        args.push(`--socket=${transport.port}`);\r\n                    }\r\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\r\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\r\n                        let serverProcess = cp.spawn(node.runtime, args, execOptions);\r\n                        if (!serverProcess || !serverProcess.pid) {\r\n                            return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\r\n                        }\r\n                        this._serverProcess = serverProcess;\r\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                        if (transport === TransportKind.ipc) {\r\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return Promise.resolve({ reader: new vscode_languageserver_protocol_1.IPCMessageReader(serverProcess), writer: new vscode_languageserver_protocol_1.IPCMessageWriter(serverProcess) });\r\n                        }\r\n                        else {\r\n                            return Promise.resolve({ reader: new vscode_languageserver_protocol_1.StreamMessageReader(serverProcess.stdout), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(serverProcess.stdin) });\r\n                        }\r\n                    }\r\n                    else if (transport == TransportKind.pipe) {\r\n                        return vscode_languageserver_protocol_1.createClientPipeTransport(pipeName).then((transport) => {\r\n                            let process = cp.spawn(node.runtime, args, execOptions);\r\n                            if (!process || !process.pid) {\r\n                                return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\r\n                            }\r\n                            this._serverProcess = process;\r\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return transport.onConnected().then((protocol) => {\r\n                                return { reader: protocol[0], writer: protocol[1] };\r\n                            });\r\n                        });\r\n                    }\r\n                    else if (Transport.isSocket(transport)) {\r\n                        return vscode_languageserver_protocol_1.createClientSocketTransport(transport.port).then((transport) => {\r\n                            let process = cp.spawn(node.runtime, args, execOptions);\r\n                            if (!process || !process.pid) {\r\n                                return Promise.reject(`Launching server using runtime ${node.runtime} failed.`);\r\n                            }\r\n                            this._serverProcess = process;\r\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return transport.onConnected().then((protocol) => {\r\n                                return { reader: protocol[0], writer: protocol[1] };\r\n                            });\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    let pipeName = undefined;\r\n                    return new Promise((resolve, _reject) => {\r\n                        let args = node.args && node.args.slice() || [];\r\n                        if (transport === TransportKind.ipc) {\r\n                            args.push('--node-ipc');\r\n                        }\r\n                        else if (transport === TransportKind.stdio) {\r\n                            args.push('--stdio');\r\n                        }\r\n                        else if (transport === TransportKind.pipe) {\r\n                            pipeName = vscode_languageserver_protocol_1.generateRandomPipeName();\r\n                            args.push(`--pipe=${pipeName}`);\r\n                        }\r\n                        else if (Transport.isSocket(transport)) {\r\n                            args.push(`--socket=${transport.port}`);\r\n                        }\r\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\r\n                        let options = node.options || Object.create(null);\r\n                        options.execArgv = options.execArgv || [];\r\n                        options.cwd = serverWorkingDir;\r\n                        options.silent = true;\r\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\r\n                            let sp = cp.fork(node.module, args || [], options);\r\n                            this._serverProcess = sp;\r\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            if (transport === TransportKind.ipc) {\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                resolve({ reader: new vscode_languageserver_protocol_1.IPCMessageReader(this._serverProcess), writer: new vscode_languageserver_protocol_1.IPCMessageWriter(this._serverProcess) });\r\n                            }\r\n                            else {\r\n                                resolve({ reader: new vscode_languageserver_protocol_1.StreamMessageReader(sp.stdout), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(sp.stdin) });\r\n                            }\r\n                        }\r\n                        else if (transport === TransportKind.pipe) {\r\n                            vscode_languageserver_protocol_1.createClientPipeTransport(pipeName).then((transport) => {\r\n                                let sp = cp.fork(node.module, args || [], options);\r\n                                this._serverProcess = sp;\r\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                transport.onConnected().then((protocol) => {\r\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\r\n                                });\r\n                            });\r\n                        }\r\n                        else if (Transport.isSocket(transport)) {\r\n                            vscode_languageserver_protocol_1.createClientSocketTransport(transport.port).then((transport) => {\r\n                                let sp = cp.fork(node.module, args || [], options);\r\n                                this._serverProcess = sp;\r\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                transport.onConnected().then((protocol) => {\r\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\r\n                                });\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else if (Executable.is(json) && json.command) {\r\n                let command = json;\r\n                let args = command.args || [];\r\n                let options = Object.assign({}, command.options);\r\n                options.cwd = options.cwd || serverWorkingDir;\r\n                let serverProcess = cp.spawn(command.command, args, options);\r\n                if (!serverProcess || !serverProcess.pid) {\r\n                    return Promise.reject(`Launching server using command ${command.command} failed.`);\r\n                }\r\n                serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                this._serverProcess = serverProcess;\r\n                this._isDetached = !!options.detached;\r\n                return Promise.resolve({ reader: new vscode_languageserver_protocol_1.StreamMessageReader(serverProcess.stdout), writer: new vscode_languageserver_protocol_1.StreamMessageWriter(serverProcess.stdin) });\r\n            }\r\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\r\n        });\r\n    }\r\n    registerProposedFeatures() {\r\n        this.registerFeatures(ProposedFeatures.createAll(this));\r\n    }\r\n    registerBuiltinFeatures() {\r\n        super.registerBuiltinFeatures();\r\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\r\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\r\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\r\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\r\n        this.registerFeature(new workspaceFolders_1.WorkspaceFoldersFeature(this));\r\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\r\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\r\n    }\r\n    _mainGetRootPath() {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (!folders || folders.length === 0) {\r\n            return undefined;\r\n        }\r\n        let folder = folders[0];\r\n        if (folder.uri.scheme === 'file') {\r\n            return folder.uri.fsPath;\r\n        }\r\n        return undefined;\r\n    }\r\n    _getServerWorkingDir(options) {\r\n        let cwd = options && options.cwd;\r\n        if (!cwd) {\r\n            cwd = this.clientOptions.workspaceFolder\r\n                ? this.clientOptions.workspaceFolder.uri.fsPath\r\n                : this._mainGetRootPath();\r\n        }\r\n        if (cwd) {\r\n            // make sure the folder exists otherwise creating the process will fail\r\n            return new Promise(s => {\r\n                fs.lstat(cwd, (err, stats) => {\r\n                    s(!err && stats.isDirectory() ? cwd : undefined);\r\n                });\r\n            });\r\n        }\r\n        return Promise.resolve(undefined);\r\n    }\r\n}\r\nexports.LanguageClient = LanguageClient;\r\nclass SettingMonitor {\r\n    constructor(_client, _setting) {\r\n        this._client = _client;\r\n        this._setting = _setting;\r\n        this._listeners = [];\r\n    }\r\n    start() {\r\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\r\n        this.onDidChangeConfiguration();\r\n        return new vscode_1.Disposable(() => {\r\n            if (this._client.needsStop()) {\r\n                this._client.stop();\r\n            }\r\n        });\r\n    }\r\n    onDidChangeConfiguration() {\r\n        let index = this._setting.indexOf('.');\r\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\r\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\r\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\r\n        if (enabled && this._client.needsStart()) {\r\n            this._client.start();\r\n        }\r\n        else if (!enabled && this._client.needsStop()) {\r\n            this._client.stop();\r\n        }\r\n    }\r\n}\r\nexports.SettingMonitor = SettingMonitor;\r\n// Exporting proposed protocol.\r\nvar ProposedFeatures;\r\n(function (ProposedFeatures) {\r\n    function createAll(_client) {\r\n        let result = [];\r\n        return result;\r\n    }\r\n    ProposedFeatures.createAll = createAll;\r\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\r\n","module.exports = require(\"net\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCompletionItem extends code.CompletionItem {\r\n    constructor(label) {\r\n        super(label);\r\n    }\r\n}\r\nexports.default = ProtocolCompletionItem;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCodeLens extends code.CodeLens {\r\n    constructor(range) {\r\n        super(range);\r\n    }\r\n}\r\nexports.default = ProtocolCodeLens;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolDocumentLink extends code.DocumentLink {\r\n    constructor(range, target) {\r\n        super(range, target);\r\n    }\r\n}\r\nexports.default = ProtocolDocumentLink;\r\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","module.exports = require(\"stream\");","/**\n * vscode-ruby main\n */\nimport { ExtensionContext, languages, workspace } from 'vscode';\nimport * as utils from './utils';\n\nimport languageConfiguration from './languageConfiguration';\nimport { registerCompletionProvider } from './providers/completion';\nimport { registerConfigurationProvider } from './providers/configuration';\nimport { registerFormatter } from './providers/formatter';\nimport { registerHighlightProvider } from './providers/highlight';\nimport { registerIntellisenseProvider } from './providers/intellisense';\nimport { registerLinters } from './providers/linters';\nimport { registerTaskProvider } from './task/rake';\nimport * as client from './client';\n\nconst DOCUMENT_SELECTOR: { language: string; scheme: string }[] = [\n\t{ language: 'ruby', scheme: 'file' },\n\t{ language: 'ruby', scheme: 'untitled' },\n];\n\nexport async function activate(context: ExtensionContext): Promise<void> {\n\t// register language config\n\tlanguages.setLanguageConfiguration('ruby', languageConfiguration);\n\tutils.getOutputChannel();\n\n\tif (workspace.getConfiguration('ruby').useLanguageServer) {\n\t\tclient.activate(context);\n\t} else {\n\t\t// Register legacy providers\n\t\tregisterHighlightProvider(context, DOCUMENT_SELECTOR);\n\t\tregisterFormatter(context, DOCUMENT_SELECTOR);\n\n\t\tif (workspace.rootPath) {\n\t\t\tregisterLinters(context);\n\t\t}\n\t}\n\n\t// Register providers\n\tregisterIntellisenseProvider(context);\n\tregisterCompletionProvider(context, DOCUMENT_SELECTOR);\n\tregisterConfigurationProvider();\n\n\tif (workspace.rootPath) {\n\t\tregisterTaskProvider(context);\n\t}\n\n\tutils.loadEnv();\n}\n\nexport function deactivate(): void {\n\tif (workspace.getConfiguration('ruby').useLanguageServer) {\n\t\tclient.deactivate();\n\t}\n\n\treturn undefined;\n}\n","const languageConfiguration = {\n\tindentationRules: {\n\t\tincreaseIndentPattern: /^(\\s*(module|class|((private|protected)\\s+)?def|unless|if|else|elsif|case|when|begin|rescue|ensure|for|while|until|(?=.*?\\b(do|begin|case|if|unless)\\b)(\"(\\\\.|[^\\\\\"])*\"|'(\\\\.|[^\\\\'])*'|[^#\"'])*(\\s(do|begin|case)|[-+=&|*/~%^<>~]\\s*(if|unless)))\\b(?![^;]*;.*?\\bend\\b)|(\"(\\\\.|[^\\\\\"])*\"|'(\\\\.|[^\\\\'])*'|[^#\"'])*(\\((?![^\\)]*\\))|\\{(?![^\\}]*\\})|\\[(?![^\\]]*\\]))).*$/,\n\t\tdecreaseIndentPattern: /^\\s*([}\\])](,?\\s*(#|$)|\\.[a-zA-Z_]\\w*\\b)|(end|rescue|ensure|else|elsif|when)\\b)/,\n\t},\n\twordPattern: /(-?\\d+(?:\\.\\d+))|([A-Za-z][^-`~@#%^&()=+[{}|;:'\",<>/.*\\]\\s\\\\!?]*[!?]?)/,\n};\n\nexport default languageConfiguration;\n","import * as vscode from 'vscode';\nimport { DocumentSelector, ExtensionContext } from 'vscode';\nimport * as cp from 'child_process';\n\nexport function registerCompletionProvider(ctx: ExtensionContext, documentSelector: DocumentSelector) {\n\tif (vscode.workspace.getConfiguration('ruby').codeCompletion == 'rcodetools') {\n\t\tconst completeCommand = function (args) {\n\t\t\tlet rctCompletePath = vscode.workspace.getConfiguration('ruby.rctComplete').get('commandPath', 'rct-complete');\n\t\t\targs.push('--interpreter');\n\t\t\targs.push(vscode.workspace.getConfiguration('ruby.interpreter').get('commandPath', 'ruby'));\n\t\t\tif (process.platform === 'win32')\n\t\t\t\treturn cp.spawn('cmd', ['/c', rctCompletePath].concat(args));\n\t\t\treturn cp.spawn(rctCompletePath, args);\n\t\t}\n\n\t\tconst completeTest = completeCommand(['--help']);\n\t\tcompleteTest.on('exit', () => {\n\t\t\tctx.subscriptions.push(\n\t\t\t\tvscode.languages.registerCompletionItemProvider(\n\t\t\t\t\t/** selector */documentSelector,\n\t\t\t\t\t/** provider */{\n\t\t\t\t\t\tprovideCompletionItems: (document, position, token, context): Thenable<vscode.CompletionItem[] | vscode.CompletionList> => {\n\t\t\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\t\t\tconst line = position.line + 1;\n\t\t\t\t\t\t\t\tconst column = position.character;\n\t\t\t\t\t\t\t\tlet child = completeCommand([\n\t\t\t\t\t\t\t\t\t'--completion-class-info',\n\t\t\t\t\t\t\t\t\t'--dev',\n\t\t\t\t\t\t\t\t\t'--fork',\n\t\t\t\t\t\t\t\t\t'--line=' + line,\n\t\t\t\t\t\t\t\t\t'--column=' + column\n\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\tlet outbuf = [],\n\t\t\t\t\t\t\t\t\terrbuf = [];\n\t\t\t\t\t\t\t\tchild.stderr.on('data', (data) => errbuf.push(data));\n\t\t\t\t\t\t\t\tchild.stdout.on('data', (data) => outbuf.push(data));\n\t\t\t\t\t\t\t\tchild.stdout.on('end', () => {\n\t\t\t\t\t\t\t\t\tif (errbuf.length > 0) return reject(Buffer.concat(errbuf).toString());\n\t\t\t\t\t\t\t\t\tlet completionItems = [];\n\t\t\t\t\t\t\t\t\tBuffer.concat(outbuf).toString().split('\\n').forEach(function (elem) {\n\t\t\t\t\t\t\t\t\t\tlet items = elem.split('\\t');\n\t\t\t\t\t\t\t\t\t\tif (/^[^\\w]/.test(items[0])) return;\n\t\t\t\t\t\t\t\t\t\tif (items[0].trim().length === 0) return;\n\t\t\t\t\t\t\t\t\t\tlet completionItem = new vscode.CompletionItem(items[0]);\n\t\t\t\t\t\t\t\t\t\tcompletionItem.detail = items[1];\n\t\t\t\t\t\t\t\t\t\tcompletionItem.documentation = items[1];\n\t\t\t\t\t\t\t\t\t\tcompletionItem.filterText = items[0];\n\t\t\t\t\t\t\t\t\t\tcompletionItem.insertText = items[0];\n\t\t\t\t\t\t\t\t\t\tcompletionItem.label = items[0];\n\t\t\t\t\t\t\t\t\t\tcompletionItem.kind = vscode.CompletionItemKind.Method;\n\t\t\t\t\t\t\t\t\t\tcompletionItems.push(completionItem);\n\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\tif (completionItems.length === 0)\n\t\t\t\t\t\t\t\t\t\treturn reject({items: []});\n\t\t\t\t\t\t\t\t\treturn resolve({items: completionItems});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tchild.stdin.end(document.getText());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t/** triggerCharacters */ ...['.']\n\t\t\t\t)\n\t\t\t)\n\t\t});\n\t\tcompleteTest.on('error', () => 0);\n\t}\n}","import * as vscode from 'vscode';\n\nexport function registerConfigurationProvider(): void {\n\tvscode.debug.registerDebugConfigurationProvider('Ruby', new RubyConfigurationProvider());\n}\n\nclass RubyConfigurationProvider implements vscode.DebugConfigurationProvider {\n\tpublic provideDebugConfigurations(\n\t\tfolder: vscode.WorkspaceFolder,\n\t\ttoken: vscode.CancellationToken\n\t): Thenable<vscode.DebugConfiguration[]> {\n\t\tconst names: string[] = rubyConfigurations.map(\n\t\t\t(config: vscode.DebugConfiguration) => config.name\n\t\t);\n\n\t\treturn vscode.window.showQuickPick(names).then((selected: string) => {\n\t\t\treturn [\n\t\t\t\trubyConfigurations.find((config: vscode.DebugConfiguration) => config.name === selected),\n\t\t\t];\n\t\t});\n\t}\n\n\tpublic resolveDebugConfiguration?(\n\t\tfolder: vscode.WorkspaceFolder | undefined,\n\t\tdebugConfiguration: vscode.DebugConfiguration\n\t): vscode.ProviderResult<vscode.DebugConfiguration> {\n\t\tconst cwd: string = debugConfiguration.cwd || '${workspaceRoot}';\n\n\t\treturn { ...debugConfiguration, cwd };\n\t}\n}\n\nconst rubyConfigurations: vscode.DebugConfiguration[] = [\n\t{\n\t\tname: 'Debug Local File',\n\t\ttype: 'Ruby',\n\t\trequest: 'launch',\n\t\tprogram: '${workspaceRoot}/main.rb',\n\t},\n\t{\n\t\tname: 'Listen for rdebug-ide',\n\t\ttype: 'Ruby',\n\t\trequest: 'attach',\n\t\tremoteHost: '127.0.0.1',\n\t\tremotePort: '1234',\n\t\tremoteWorkspaceRoot: '${workspaceRoot}',\n\t},\n\t{\n\t\tname: 'Rails server',\n\t\ttype: 'Ruby',\n\t\trequest: 'launch',\n\t\tprogram: '${workspaceRoot}/bin/rails',\n\t\targs: ['server'],\n\t},\n\t{\n\t\tname: 'RSpec - all',\n\t\ttype: 'Ruby',\n\t\trequest: 'launch',\n\t\tprogram: '${workspaceRoot}/bin/rspec',\n\t\targs: ['-I', '${workspaceRoot}'],\n\t},\n\t{\n\t\tname: 'RSpec - active spec file only',\n\t\ttype: 'Ruby',\n\t\trequest: 'launch',\n\t\tprogram: '${workspaceRoot}/bin/rspec',\n\t\targs: ['-I', '${workspaceRoot}', '${file}'],\n\t},\n\t{\n\t\tname: 'Cucumber',\n\t\ttype: 'Ruby',\n\t\trequest: 'launch',\n\t\tprogram: '${workspaceRoot}/bin/cucumber',\n\t},\n];\n","import { DocumentSelector, ExtensionContext } from 'vscode';\nimport { RubyDocumentFormattingEditProvider } from '../format/rubyFormat';\n\nexport function registerFormatter(ctx: ExtensionContext, documentSelector: DocumentSelector) {\n\tnew RubyDocumentFormattingEditProvider().register(ctx, documentSelector);\n}\n","import * as vscode from 'vscode';\nimport * as path from 'path';\nimport { AutoCorrect } from './RuboCop';\n\n\nexport class RubyDocumentFormattingEditProvider implements vscode.DocumentFormattingEditProvider {\n\tprivate autoCorrect: AutoCorrect;\n\n\tpublic register(ctx: vscode.ExtensionContext, documentSelector: vscode.DocumentSelector) {\n\t\t// only attempt to format if ruby.format is set to rubocop\n\t\tif (vscode.workspace.getConfiguration(\"ruby\").get(\"format\") !== \"rubocop\") {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.autoCorrect = new AutoCorrect();\n\t\tthis.autoCorrect.test().then(\n\t\t\t() => ctx.subscriptions.push(\n\t\t\t\tvscode.languages.registerDocumentFormattingEditProvider(documentSelector, this)\n\t\t\t)\n\t\t\t\t\t// silent failure - AutoCorrect will handle error messages\n\t\t);\n\t}\n\n\tpublic provideDocumentFormattingEdits(document: vscode.TextDocument, options: vscode.FormattingOptions, token: vscode.CancellationToken): Thenable<vscode.TextEdit[]> {\n\t\tconst root = document.fileName ? path.dirname(document.fileName) : vscode.workspace.rootPath;\n\t\tconst input = document.getText();\n\t\treturn this.autoCorrect.correct(input, root)\n\t\t\t.then(\n\t\t\t\tresult => {\n\t\t\t\t\treturn [new vscode.TextEdit(document.validateRange(new vscode.Range(0, 0, Infinity, Infinity)), result)];\n\t\t\t\t},\n\t\t\t\terr => {\n\t\t\t\t\t// silent failure - AutoCorrect will handle error messages\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t);\n\t}\n}\n","'use strict';\n\nimport * as cp from 'child_process';\nimport * as fs from 'fs';\nimport * as os from 'os';\nimport * as path from 'path';\nimport * as vscode from 'vscode';\n\n// REMIND: move this into own file? seems handy\nconst findCfg = checkPath => {\n\ttry {\n\t\tfs.accessSync(path.join(checkPath, '.rubocop.yml'));\n\t\treturn checkPath;\n\t} catch (e) {\n\t\tlet nextCheckPath = path.dirname(checkPath);\n\t\tif (nextCheckPath && nextCheckPath !== checkPath) return findCfg(nextCheckPath);\n\t}\n};\n\n//\n// Wrapper class around rubocop. AutoCorrect parses options and runs rubocop to\n// format documents.\n//\n\nexport class AutoCorrect {\n\t// get options from ruby.lint.rubocop. We have to do this every time because\n\t// options can change while the extension is loaded.\n\tget opts(): any {\n\t\tconst opts: any = vscode.workspace.getConfiguration('ruby.lint.rubocop');\n\t\tif (!opts || opts === true) {\n\t\t\treturn {};\n\t\t}\n\t\treturn opts;\n\t}\n\n\t// What's the exe name for rubocop?\n\tget exe(): string[] {\n\t\tconst opts:any = this.opts;\n\t\tif (opts.exe) {\n\t\t\treturn [opts.exe];\n\t\t}\n\n\t\tconst ext: string = process.platform === 'win32' ? '.bat' : '';\n\t\tif (vscode.workspace.getConfiguration('ruby').useBundler) {\n\t\t\tconst pathToBundler: string =\n\t\t\t\tvscode.workspace.getConfiguration('ruby').pathToBundler || 'bundle';\n\t\t\treturn [`${pathToBundler}${ext}`, 'exec', 'rubocop'];\n\t\t}\n\n\t\treturn [`rubocop${ext}`];\n\t}\n\n\t// Arguments for running rubocop.\n\t//\n\t// REMIND: is this useful? Might be better to just allow\n\t// ruby.lint.rubocop = { args : \"xxx\" }\n\targs = (root: string): string[] => {\n\t\tlet args = ['-a', '-f', 'simple'];\n\t\tif (root) {\n\t\t\tconst cfgPath = findCfg(root);\n\t\t\tif (cfgPath) {\n\t\t\t\targs = args.concat(['-c', path.join(cfgPath, '.rubocop.yml')]);\n\t\t\t}\n\t\t}\n\n\t\tconst opts = this.opts;\n\t\tif (opts.lint) {\n\t\t\targs.push('-l');\n\t\t}\n\t\tif (opts.only) {\n\t\t\targs = args.concat('--only', opts.only.join(','));\n\t\t}\n\t\tif (opts.except) {\n\t\t\targs = args.concat('--except', opts.except.join(','));\n\t\t}\n\t\tif (opts.rails) {\n\t\t\targs.push('-R');\n\t\t}\n\t\tif (opts.require) {\n\t\t\targs = args.concat('-r', opts.require.join(','));\n\t\t}\n\n\t\treturn args;\n\t};\n\n\t//\n\t// Is rubocop ready to run? Really important to have decent error messages\n\t// here to make it easier for users to debug config issues.\n\t//\n\n\tprivate spawn = (args: string[], options?: cp.SpawnOptions): cp.ChildProcess => {\n\t\tconst exe: string[] = this.exe;\n\t\tconst spawnOpt: cp.SpawnOptions = options ? options : {}\n\n\t\tif (!spawnOpt.cwd) { spawnOpt.cwd = vscode.workspace.rootPath }\n\n\t\treturn cp.spawn(exe.shift(), exe.concat(args), spawnOpt);\n\t};\n\n\tpublic test(): Promise<any> {\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tconst rubo = this.spawn(['-v']);\n\n\t\t\trubo.on('error', err => {\n\t\t\t\tif (err.message.includes('ENOENT')) {\n\t\t\t\t\tvscode.window.showErrorMessage(`couldn't find ${this.exe} for formatting (ENOENT)`);\n\t\t\t\t} else {\n\t\t\t\t\tvscode.window.showErrorMessage(`couldn't run ${this.exe} '${err.message}'`);\n\t\t\t\t}\n\t\t\t\treject(err);\n\t\t\t});\n\n\t\t\trubo.stderr.on('data', data => {\n\t\t\t\t// for debugging\n\t\t\t\tconsole.log(`rubocop stderr ${data}`);\n\t\t\t});\n\n\t\t\trubo.stdout.on('data', data => {\n\t\t\t\t// for debugging\n\t\t\t\tconsole.log(`rubocop stdout ${data}`);\n\t\t\t});\n\n\t\t\trubo.on('exit', code => {\n\t\t\t\tif (code) {\n\t\t\t\t\tvscode.window.showErrorMessage(`rubocop failed with code=${code}`);\n\t\t\t\t\treturn reject();\n\t\t\t\t}\n\n\t\t\t\t// success!\n\t\t\t\tconsole.log(`rubocop is ready to go!`);\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t}\n\n\t//\n\t// format!\n\t//\n\t// Write to a temp file, format the file, then return the result.\n\t//\n\n\tpublic correct(data, root): Promise<string> {\n\t\treturn new Promise((resolve, reject) =>\n\t\t\tfs.mkdtemp(path.join(os.tmpdir(), 'rubocop'), (err, folder) => {\n\t\t\t\tif (err) return reject(err); // not common\n\n\t\t\t\tconst args = this.args(root);\n\n\t\t\t\tconst tmpfile = path.join(folder, 'tmp.rb');\n\t\t\t\targs.push(tmpfile);\n\n\t\t\t\tfs.writeFile(tmpfile, data, err => {\n\t\t\t\t\tif (err) return reject(err); // not common\n\n\t\t\t\t\tconsole.log(`${this.exe} ${args.join(' ')}`);\n\n\t\t\t\t\tconst startTm = new Date().getTime();\n\t\t\t\t\tconst rubo = this.spawn(args, {\n\t\t\t\t\t\tcwd: root || process.cwd(),\n\t\t\t\t\t\tenv: process.env,\n\t\t\t\t\t});\n\n\t\t\t\t\trubo.on('error', error => {\n\t\t\t\t\t\tvscode.window.showErrorMessage(`couldn't run rubocop '${error.message}'`);\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t});\n\n\t\t\t\t\trubo.stderr.on('data', data => {\n\t\t\t\t\t\t// for debugging\n\t\t\t\t\t\tconsole.log(`rubocop stderr ${data}`);\n\t\t\t\t\t});\n\n\t\t\t\t\trubo.on('exit', code => {\n\t\t\t\t\t\t// https://github.com/bbatsov/rubocop/blob/master/manual/basic_usage.md\n\t\t\t\t\t\tif (code && code !== 1) {\n\t\t\t\t\t\t\tvscode.window.showErrorMessage(`rubocop failed with code=${code}`);\n\t\t\t\t\t\t\treturn reject();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfs.readFile(tmpfile, 'utf8', (err, result) => {\n\t\t\t\t\t\t\tif (err) reject(err); // not common\n\n\t\t\t\t\t\t\t// success!\n\t\t\t\t\t\t\tconst elapsedTm = new Date().getTime() - startTm;\n\t\t\t\t\t\t\tconsole.log(`rubocop ran in ${elapsedTm}ms`);\n\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t);\n\t}\n}\n","import * as vscode from 'vscode';\nimport { DocumentSelector, ExtensionContext } from 'vscode';\n\nexport function registerHighlightProvider(ctx: ExtensionContext, documentSelector: DocumentSelector) {\n\t// highlight provider\n\tlet pairedEnds = [];\n\n\tconst getEnd = function (line) {\n\t\t//end must be on a line by itself, or followed directly by a dot\n\t\tlet match = line.text.match(/^(\\s*)end\\b[\\.\\s#]?\\s*$/);\n\t\tif (match) {\n\t\t\treturn new vscode.Range(line.lineNumber, match[1].length, line.lineNumber, match[1].length + 3);\n\t\t}\n\t}\n\n\tconst getEntry = function(line) {\n\t\tlet match = line.text.match(/^(.*\\b)(begin|class|def|for|if|module|unless|until|case|while)\\b[^;]*$/);\n\t\tif (match) {\n\t\t\treturn new vscode.Range(line.lineNumber, match[1].length, line.lineNumber, match[1].length + match[2].length);\n\t\t} else {\n\t\t\t//check for do\n\t\t\tmatch = line.text.match(/\\b(do)\\b\\s*(\\|.*\\|[^;]*)?$/);\n\t\t\tif (match) {\n\t\t\t\treturn new vscode.Range(line.lineNumber, match.index, line.lineNumber, match.index + 2);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst balancePairs = function (doc) {\n\t\tpairedEnds = [];\n\t\tif (doc.languageId !== 'ruby') return;\n\n\t\tlet waitingEntries = [];\n\t\tlet entry, end;\n\t\tfor (let i = 0; i < doc.lineCount; i++) {\n\t\t\tif ((entry = getEntry(doc.lineAt(i)))) {\n\t\t\t\twaitingEntries.push(entry);\n\t\t\t} else if (waitingEntries.length && (end = getEnd(doc.lineAt(i)))) {\n\t\t\t\tpairedEnds.push({\n\t\t\t\t\tentry: waitingEntries.pop(),\n\t\t\t\t\tend: end\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tconst balanceEvent = function (event) {\n\t\tif (event && event.document) balancePairs(event.document);\n\t}\n\n\tctx.subscriptions.push(vscode.languages.registerDocumentHighlightProvider(documentSelector, {\n\t\tprovideDocumentHighlights: (doc, pos) => {\n\t\t\tlet result = pairedEnds.find(pair => (\n\t\t\t\tpair.entry.start.line === pos.line ||\n\t\t\t\tpair.end.start.line === pos.line));\n\t\t\tif (result) {\n\t\t\t\treturn [new vscode.DocumentHighlight(result.entry, 2), new vscode.DocumentHighlight(result.end, 2)];\n\t\t\t}\n\t\t}\n\t}));\n\n\tctx.subscriptions.push(vscode.window.onDidChangeActiveTextEditor(balanceEvent));\n\tctx.subscriptions.push(vscode.workspace.onDidChangeTextDocument(balanceEvent));\n\tctx.subscriptions.push(vscode.workspace.onDidOpenTextDocument(balancePairs));\n\tif (vscode.window && vscode.window.activeTextEditor) {\n\t\tbalancePairs(vscode.window.activeTextEditor.document);\n\t}\n}\n","import * as vscode from 'vscode';\nimport { ExtensionContext, SymbolKind, SymbolInformation } from 'vscode';\nimport { Locate } from '../locate/locate';\n\nexport function registerIntellisenseProvider(ctx: ExtensionContext) {\n\t// for locate: if it's a project, use the root, othewise, don't bother\n\tif (vscode.workspace.getConfiguration('ruby').intellisense == 'rubyLocate') {\n\t\tconst refreshLocate = () => {\n\t\t\tlet progressOptions = { location: vscode.ProgressLocation.Window, title: 'Indexing Ruby source files' };\n\t\t\tvscode.window.withProgress(progressOptions, () => locate.walk());\n\t\t};\n\t\tconst settings: any = vscode.workspace.getConfiguration(\"ruby.locate\") || {};\n\t\tlet locate = new Locate(vscode.workspace.rootPath, settings);\n\t\trefreshLocate();\n\t\tctx.subscriptions.push(vscode.commands.registerCommand('ruby.reloadProject', refreshLocate));\n\n\t\tconst watch = vscode.workspace.createFileSystemWatcher(settings.include);\n\t\twatch.onDidChange(uri => locate.parse(uri.fsPath));\n\t\twatch.onDidCreate(uri => locate.parse(uri.fsPath));\n\t\twatch.onDidDelete(uri => locate.rm(uri.fsPath));\n\t\tconst locationConverter = match => new vscode.Location(vscode.Uri.file(match.file), new vscode.Position(match.line, match.char));\n\t\tconst defProvider = {\n\t\t\tprovideDefinition: (doc, pos) => {\n\t\t\t\tconst txt = doc.getText(doc.getWordRangeAtPosition(pos));\n\t\t\t\treturn locate.find(txt).then(matches => matches.map(locationConverter));\n\t\t\t}\n\t\t};\n\t\tctx.subscriptions.push(vscode.languages.registerDefinitionProvider(['ruby', 'erb'], defProvider));\n\t\tconst symbolKindTable = {\n\t\t\tclass: () => SymbolKind.Class,\n\t\t\tmodule: () => SymbolKind.Module,\n\t\t\tmethod: symbolInfo => symbolInfo.name === 'initialize' ? SymbolKind.Constructor : SymbolKind.Method,\n\t\t\tclassMethod: () => SymbolKind.Method,\n\t\t};\n\t\tconst defaultSymbolKind = symbolInfo => {\n\t\t\tconsole.warn(`Unknown symbol type: ${symbolInfo.type}`);\n\t\t\treturn SymbolKind.Variable;\n\t\t};\n\t\t// NOTE: Workaround for high CPU usage on IPC (channel.onread) when too many symbols returned.\n\t\t// For channel.onread see issue like this: https://github.com/Microsoft/vscode/issues/6026\n\t\tconst numOfSymbolLimit = 3000;\n\t\tconst symbolsConverter = matches => matches.slice(0, numOfSymbolLimit).map(match => {\n\t\t\tconst symbolKind = (symbolKindTable[match.type] || defaultSymbolKind)(match);\n\t\t\treturn new SymbolInformation(match.name, symbolKind, match.containerName, locationConverter(match));\n\t\t}); \n\t\t// Gradually migrate intellisense features here as the langauge server supports more\n\t\tif (!vscode.workspace.getConfiguration('ruby').useLanguageServer) {\n\t\t\tconst docSymbolProvider = {\n\t\t\t\tprovideDocumentSymbols: (document, token) => {\n\t\t\t\t\treturn locate.listInFile(document.fileName).then(symbolsConverter);\n\t\t\t\t}\n\t\t\t};\n\t\t\tctx.subscriptions.push(vscode.languages.registerDocumentSymbolProvider(['ruby', 'erb'], docSymbolProvider));\n\t\t}\n\t\tconst workspaceSymbolProvider = {\n\t\t\tprovideWorkspaceSymbols: (query, token) => {\n\t\t\t\treturn locate.query(query).then(symbolsConverter);\n\t\t\t}\n\t\t};\n\t\tctx.subscriptions.push(vscode.languages.registerWorkspaceSymbolProvider(workspaceSymbolProvider));\n\t} else {\n\t\tvar rubyLocateDisabled = () => {\n\t\t\tvscode.window.showInformationMessage('The `ruby.intellisense` configuration is not set to use rubyLocate.')\n\t\t};\n\t\tctx.subscriptions.push(vscode.commands.registerCommand('ruby.reloadProject', rubyLocateDisabled));\n\t}\n}\n","'use strict';\nconst locator = require('ruby-method-locate'),\n\tminimatch = require('minimatch');\nconst fs = require('fs'),\n\tpath = require('path');\nconst _ = require('lodash');\nconst async = require('async');\n\n// vague values\nconst WALK_CONCURRENCY = 8;\nconst SINGLE_FILE_PARSE_CONCURRENCY = 8;\n\nconst DECLARATION_TYPES = ['class', 'module', 'method', 'classMethod'];\n\nfunction flatten(locateInfo, file, containerName = '') {\n\treturn _.flatMap(locateInfo, (symbols, type) => {\n\t\tif (!_.includes(DECLARATION_TYPES, type)) {\n\t\t\t// Skip top-level include or posn property etc.\n\t\t\treturn [];\n\t\t}\n\t\treturn _.flatMap(symbols, (inner, name) => {\n\t\t\tconst posn = inner.posn || { line: 0, char: 0 };\n\t\t\tconst symbolInfo = {\n\t\t\t\tname: name,\n\t\t\t\ttype: type,\n\t\t\t\tfile: file,\n\t\t\t\tline: posn.line,\n\t\t\t\tchar: posn.char,\n\t\t\t\tcontainerName: containerName || ''\n\t\t\t};\n\t\t\t_.extend(symbolInfo, _.omit(inner, DECLARATION_TYPES));\n\t\t\tconst sep = { method: '#', classMethod: '.' }[type] || '::';\n\t\t\tconst fullName = containerName ? `${containerName}${sep}${name}` : name;\n\t\t\treturn [symbolInfo].concat(flatten(inner, file, fullName));\n\t\t});\n\t});\n}\nfunction camelCaseRegExp(query) {\n\tconst escaped = _.escapeRegExp(query);\n\tconst prefix = escaped.charAt(0);\n\treturn new RegExp(\n\t\t`[${prefix.toLowerCase()}${prefix.toUpperCase()}]` +\n\t\tescaped.slice(1).replace(/[A-Z]|([a-z])/g, (char, lower) => {\n\t\t\tif (lower) return `[${char.toUpperCase()}${char}]`;\n\t\t\tconst lowered = char.toLowerCase();\n\t\t\treturn `.*(?:${char}|_${lowered})`;\n\t\t})\n\t);\n}\nfunction filter(symbols, query, matcher) {\n\t// TODO: Ask MS to expose or separate matchesFuzzy method.\n\t// https://github.com/Microsoft/vscode/blob/a1d3c8a3006d0a3d68495122ea09a2a37bca69db/src/vs/base/common/filters.ts\n\tconst isLowerCase = (query.toLowerCase() === query);\n\tconst exact = new RegExp('^' + _.escapeRegExp(query) + '$', 'i');\n\tconst prefix = new RegExp('^' + _.escapeRegExp(query), 'i');\n\tconst substring = new RegExp(_.escapeRegExp(query), isLowerCase ? 'i' : '');\n\tconst camelCase = camelCaseRegExp(query);\n\treturn _([exact, prefix, substring, camelCase])\n\t\t.flatMap(regexp => symbols.filter(symbolInfo => matcher(symbolInfo, regexp)))\n\t\t.uniq()\n\t\t.value();\n}\nexport class Locate {\n\tconstructor(root, settings) {\n\t\tthis.settings = settings;\n\t\tthis.root = root;\n\t\tthis.tree = {};\n\t\tthis.walkQueue = this._createWalkQueue();\n\t\tthis.walkPromise = null;\n\t\tthis.parseQueue = async.queue((task, callback) => task().then(() => callback()), SINGLE_FILE_PARSE_CONCURRENCY);\n\t}\n\tlistInFile(absPath) {\n\t\tif (!absPath in this.tree)\n\t\t\tthis.parse(absPath);\n\n\t\treturn Promise.resolve(_.clone(this.tree[absPath] || []));\n\t}\n\tfind(name) {\n\t\treturn this._waitForWalk().then(() => this._find(name));\n\t}\n\t_find(name) {\n\t\t// because our word pattern is designed to match symbols\n\t\t// things like Gem::RequestSet may request a search for ':RequestSet'\n\t\tconst escapedName = _.escapeRegExp(_.trimStart(name, ':'));\n\t\tconst regexp = new RegExp(`^${escapedName}=?\\$`);\n\t\treturn _(this.tree)\n\t\t\t.values()\n\t\t\t.flatten()\n\t\t\t.filter(symbol => regexp.test(symbol.name))\n\t\t\t.map(_.clone)\n\t\t\t.value();\n\t}\n\tquery(query) {\n\t\treturn this._waitForWalk().then(() => this._query(query));\n\t}\n\t_query(query) {\n\t\tconst segmentMatch = query.match(/^(?:([^.#:]+)(.|#|::))([^.#:]+)$/) || [];\n\t\tconst containerQuery = segmentMatch[1];\n\t\tconst separator = segmentMatch[2];\n\t\tconst nameQuery = segmentMatch[3];\n\t\tconst separatorToTypesTable = {\n\t\t\t'.': ['classMethod', 'method'],\n\t\t\t'#': ['method'],\n\t\t\t'::': ['class', 'module'],\n\t\t};\n\t\tconst segmentTypes = separatorToTypesTable[separator];\n\t\tconst symbols = _(this.tree).values().flatten().value();\n\n\t\t// query whole name (matches `class Foo::Bar` or `def File.read`)\n\t\tconst plainMatches = filter(symbols, query, (symbolInfo, regexp) => regexp.test(symbolInfo.name));\n\t\tif (!containerQuery) return plainMatches;\n\n\t\t// query name and containerName separatedly (matches `def foo` in `class Bar`)\n\t\tconst nameMatches = filter(symbols, nameQuery, (symbolInfo, regexp) => {\n\t\t\treturn _.includes(segmentTypes, symbolInfo.type) && regexp.test(symbolInfo.name);\n\t\t});\n\t\tconst containerMatches = filter(nameMatches, containerQuery, (symbolInfo, regexp) => regexp.test(symbolInfo.containerName));\n\t\treturn _.uniq(plainMatches.concat(containerMatches));\n\t}\n\trm(absPath) {\n\t\tif (absPath in this.tree) delete this.tree[absPath];\n\t}\n\tparse(absPath) {\n\t\tthis.parseQueue.push(() => this._parseAsync(absPath));\n\t}\n\t_parseAsync(absPath, relPath) {\n\t\trelPath = relPath || path.relative(this.root, absPath);\n\t\tif (this.settings.exclude && minimatch(relPath, this.settings.exclude)) return Promise.resolve();\n\t\tif (this.settings.include && !minimatch(relPath, this.settings.include)) return Promise.resolve();\n\t\treturn locator(absPath)\n\t\t\t.then(result => {\n\t\t\t\tthis.tree[absPath] = result ? flatten(result, absPath) : [];\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tif (err.code !== 'ENOENT') {\n\t\t\t\t\t// Maybe the file has already been removed while queued.\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t}\n\t\t\t\tthis.rm(absPath);\n\t\t\t});\n\t}\n\twalk() {\n\t\tconst startTime = new Date().getTime();\n\t\tthis.walkPromise = new Promise((resolve, reject) => {\n\t\t\tthis.walkQueue.drain();\n\t\t\tthis.walkQueue.kill();\n\t\t\tthis.walkQueue = this._createWalkQueue();\n\t\t\tthis.walkQueue.drain = () => resolve();\n\t\t\tthis.walkQueue.push(callback => this._walkDir(this.root, err => err ? callback(err) : callback()));\n\t\t}).then(() => console.log(`[ruby] locate: walk completed! (${new Date().getTime() - startTime}msec)`));\n\t\treturn this.walkPromise;\n\t}\n\t_walkDir(dir, callback) {\n\t\tfs.readdir(dir, (err, files) => {\n\t\t\tif (err) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfiles.forEach(file => {\n\t\t\t\tthis.walkQueue.push(callback => this._walkNode(dir, file, callback));\n\t\t\t});\n\t\t\tcallback();\n\t\t});\n\t}\n\t_walkNode(dir, file, callback) {\n\t\tconst absPath = path.join(dir, file);\n\t\tconst relPath = path.relative(this.root, absPath);\n\t\tfs.stat(absPath, (err, stats) => {\n\t\t\tif (err) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (stats.isDirectory()) {\n\t\t\t\tif (!(this.settings.exclude && minimatch(relPath, this.settings.exclude))) {\n\t\t\t\t\tthis.walkQueue.push(callback => this._walkDir(absPath, callback));\n\t\t\t\t}\n\t\t\t\tcallback();\n\t\t\t} else {\n\t\t\t\tthis._parseAsync(absPath, relPath).then(() => callback());\n\t\t\t}\n\t\t});\n\t}\n\t_createWalkQueue() {\n\t\treturn async.queue((task, callback) => task(callback), WALK_CONCURRENCY);\n\t}\n\t_waitForWalk() {\n\t\treturn this.walkPromise || this.walk();\n\t}\n};\n","'use strict';\n\n\nconst positionalise = require('./lib/positionalise'),\n    parser = require('./lib/parse'),\n    fs = require('fs');\n\n\nmodule.exports = function parse(fileName) {\n    return new Promise((resolve, reject) => {\n        fs.readFile(fileName, (err, data) => {\n            if (err) return reject(err);\n            const stringData = data.toString();\n            let result = parser(stringData);\n            if (!result) return resolve();\n            delete result.end;\n            if (Object.keys(result).length) {\n                resolve(positionalise(stringData, result));\n            } else resolve();\n        });\n    });\n};","'use strict';\n\nfunction lines(buffer) {\n    let ch, l = [],\n        os = 0;\n    while ((ch = buffer[os])) {\n        if (ch === '\\r' && buffer[os + 1] !== '\\n') l.push(os);\n        else if (ch === '\\n') l.push(os);\n        os++;\n    }\n    return l;\n}\n\nfunction pos(structure, lines) {\n    for (let a in structure) {\n        if (Array.isArray(structure[a])) continue;\n        if (typeof structure[a] === 'string') continue;\n        if (typeof structure[a] === 'number') {\n            let os = structure[a],\n                c = 0;\n            while (c < lines.length && os > lines[c]) c++;\n            if (c === 0) structure[a] = {\n                line: 0,\n                char: os\n            };\n            else structure[a] = {\n                line: c,\n                char: os - lines[c - 1] - 1\n            };\n        } else pos(structure[a], lines);\n    }\n    return structure;\n}\n\nmodule.exports = function(buffer, structure) {\n    return pos(structure, lines(buffer));\n};","'use strict';\n\nconst util = require('util');\n\nconst Entries = require('./entries');\n\nconst _nb_white = '\\t ';\nconst _eol = '\\r\\n;';\nconst _white = _nb_white + _eol;\n\nconst _word_end = '[(#<';\nconst _defEnd = _white + _word_end;\n\nfunction skipWhite(buffer, os) {\n    let ch;\n    while ((ch = buffer[os]) && ~_white.indexOf(ch)) os++;\n    return os;\n}\n\nfunction skipNonWhite(buffer, os) {\n    // if the first character is a word end, skip it and try again\n    // this is required for shitty HEREDOCs\n    if (~_word_end.indexOf(buffer[os])) {\n        return os+1;\n    }\n    let ch;\n    while ((ch = buffer[os]) && !~_white.indexOf(ch) && !~_word_end.indexOf(ch)) os++;\n    return os;\n}\n\nfunction Name(buffer, os) {\n    let ch;\n    while ((ch = buffer[os]) && !~_defEnd.indexOf(ch)) os++;\n    return os;\n}\n\nconst _nameEnd = _nb_white + ',';\n\nfunction NameList(buffer, os) {\n    let ch;\n    let start = os;\n    //find the line end, then\n    while ((ch = buffer[os]) && !~_eol.indexOf(ch) && ch !== '#') os++;\n    let end = os;\n    let names = [];\n    os = start;\n    while (os < end) {\n        while (os < end && (ch = buffer[os]) && ~_nameEnd.indexOf(ch)) os++;\n        start = os;\n        while (os < end && (ch = buffer[os]) && !~_nameEnd.indexOf(ch)) os++;\n        names.push(buffer.slice(start, os));\n    }\n    names.end = os;\n    return names;\n}\n\nfunction Include(entry, buffer, os) {\n    os += entry.length;\n    let names = NameList(buffer, os);\n    let rtn = {\n        include: names,\n        end: names.end\n    };\n    delete names.end;\n    return rtn;\n}\n\nfunction Arguments(buffer, os) {\n    //if we have a bracket, find the other bracket\n    let ch = buffer[os];\n    if (ch === '(') {\n        os++;\n        let count = 1;\n        while ((ch = buffer[os]) && count) {\n            if (ch === '#') os = Comment(ch, buffer, os).end;\n            else if (~'\"`\\''.indexOf(ch)) os = Strings(ch, buffer, os).end;\n            else if (ch === '(') count++;\n            else if (ch === ')') count--;\n            os++;\n        }\n    }\n    return {\n        end: os\n    };\n}\n\nfunction Method(entry, buffer, os) {\n    os += entry.length;\n    os = skipWhite(buffer, os);\n    let posn = os;\n    let end = Name(buffer, os);\n    const name = buffer.slice(os, end).toString();\n\n    os = end;\n    //get any arguments\n    const args = Arguments(buffer, os);\n\n    let inner = parse(buffer, os);\n    end = inner.end;\n    delete inner.end;\n    inner.posn = posn;\n    let result = {\n        end\n    };\n    if (name.startsWith('self.')) return {\n        end,\n        classMethod: {\n            [name.slice(5)]: inner\n        }\n    };\n\n    return {\n        end,\n        method: {\n            [name]: inner\n        }\n    };\n}\n\nfunction Module(entry, buffer, os) {\n    os += entry.length;\n    os = skipWhite(buffer, os);\n    let singleton = false;\n    // if it's a singleton\n    if (buffer[os] === '<' && buffer[os + 1] === '<') {\n        singleton = true;\n        os = skipWhite(buffer, os + 2);\n    }\n    let posn = os;\n    let end = Name(buffer, os);\n    let name = buffer.slice(os, end);\n    os = end;\n    let inner = parse(buffer, os);\n    end = inner.end;\n    delete inner.end;\n    inner.posn = posn;\n    let result = {};\n    if (singleton) {\n        if (name === 'self') {\n            result.classMethod = inner.method;\n        }\n        //everything else is not of interest\n    } else {\n        os = skipWhite(buffer, os);\n        if (buffer[os] === '<') {\n            //inherit\n            os = skipWhite(buffer, os + 1);\n            let end2 = Name(buffer, os);\n            //there can be only one:\n            inner.inherit = buffer.slice(os, end2);\n        }\n        let parts = name.split('::');\n        name = parts.pop();\n        let nest = {\n            [entry]: {\n                [name]: inner\n            }\n        };\n        if (parts.length) {\n            nest = parts.reduce((d, n) => {\n                let dd = {\n                    module: {\n                        [n]: d\n                    },\n                    posn\n                };\n                return dd;\n            }, nest);\n        }\n        result = nest;\n    }\n    result.end = end;\n    return result;\n}\n\nfunction Block(entry, buffer, os) {\n    os += entry.length;\n    let endSearch = parse(buffer, os);\n    return {\n        end: endSearch.end\n    };\n}\n\nfunction Alias(entry, buffer, os) {\n    os += entry.length;\n    let names = NameList(buffer, os);\n    if (!names[0] || ~'$@'.indexOf(names[0][0])) return {\n        end: names.end\n    };\n    if (names[0][0] === ':') names[0] = names[0].slice(1);\n    // we only actually care about the first name\n    return {\n        method: {\n            [names[0]]: {\n                posn: os\n            }\n        },\n        end: names.end\n    };\n}\n\nfunction MethodAlias(entry, buffer, os) {\n    os += entry.length;\n    let names = NameList(buffer, os);\n    if (names.length === 0) return {\n        end: names.end\n    };\n    if (names[0][0] !== ':') return {\n        end: names.end\n    };\n    // we only actually care about the first name\n    return {\n        end: names.end,\n        method: {\n            [names[0].slice(1)]: {\n                posn: os\n            }\n        }\n    };\n}\n\nfunction Comment(entry, buffer, os) {\n    let ch;\n    while ((ch = buffer[os]) && !~'\\r\\n'.indexOf(ch)) os++;\n    return {\n        end: os\n    };\n}\n\nfunction Strings(entry, buffer, os) {\n    const del = buffer[os];\n    os++;\n    let ch;\n    while ((ch = buffer[os]) && ch !== del) {\n        // '\\' skip the next character\n        if (ch === '\\\\') os++;\n        os++;\n    }\n    os++;\n    return {\n        end: os\n    };\n}\n\nconst assignment = '=+-*/&|^<>';\n\n// Can control a preceeding block, OR be the RHS of an assignment\nfunction ConditionAssignBlock(entry, buffer, os) {\n    // find out if there's anything before it on the same line. If there is,\n    // and it's not something that would make this part of an assignment then\n    // it's not a block at all, just set the exit at the end of the line.\n    let ch;\n    let ros = os - 1;\n    while ((ch = buffer[ros]) && ~_nb_white.indexOf(ch)) ros--;\n    // console.log(\"Now at:\", ch.charCodeAt(0))\n    // if there is, and it's not an assignment then it's\n    // not a block at all, just set the exit at the end of the line or\n    // the start of a comment\n    if (!~assignment.indexOf(ch) && !~_eol.indexOf(ch)) {\n        os += entry.length;\n        while ((ch = buffer[os]) && !~_eol.indexOf(ch) && ch !== '#') os++;\n        return {\n            end: os\n        };\n    }\n    // It's just a block then\n    return Block(entry, buffer, os);\n}\n\n// Can control a preceeding block\nfunction ConditionBlock(entry, buffer, os) {\n    // find out if there's anything before it on the same line. If there is,\n    // and it's not a semi colon\n    // it's not a block at all, just set the exit at the end of the line.\n    let ch;\n    let ros = os - 1;\n    while ((ch = buffer[ros]) && ~_nb_white.indexOf(ch)) ros--;\n\n    // if there is and it's not a newline or ';' then it's not a block at all,\n    // just set the exit at the end of the line\n    if (!~_eol.indexOf(ch)) {\n        os += entry.length;\n        while ((ch = buffer[os]) && !~_eol.indexOf(ch) && ch !== '#') os++;\n        return {\n            end: os\n        };\n    }\n    // It's just a block then\n    return Block(entry, buffer, os);\n}\n\nfunction Attr(entry, buffer, os) {\n    os += entry.length;\n    let names = NameList(buffer, os);\n    let method = {};\n    if (entry === 'attr_reader' || entry === 'attr_accessor') {\n        method = names.reduce((t, n) => {\n            t[n.slice(1)] = {\n                posn: os\n            };\n            return t;\n        }, method);\n    }\n    if (entry === 'attr_writer' || entry === 'attr_accessor') {\n        method = names.reduce((t, n) => {\n            t[n.slice(1) + '='] = {\n                posn: os,\n                arguments: [n.slice(1)]\n            };\n            return t;\n        }, method);\n    }\n    return {\n        method,\n        end: names.end\n    };\n}\n\nfunction HereDoc(entry, buffer, os) {\n    os += entry.length;\n    let ch = buffer[os];\n    let word;\n    let end;\n    let indent;\n    if (~_white.indexOf(ch)) return;\n    if (~'-~'.indexOf(ch)) {\n        indent = true;\n        ch = buffer[++os];\n    }\n    if (~'\"`\\''.indexOf(ch)) end = Strings(ch, buffer, os++).end - 1;\n    else {\n        end = os + 1;\n        while ((ch = buffer[end]) && !~'\\r\\n \\t.)'.indexOf(ch)) end++;\n    }\n    word = buffer.slice(os, end);\n    os = end + 1;\n    while (os < buffer.length) {\n        // find eol\n        while ((ch = buffer[os]) && !~'\\r\\n'.indexOf(ch)) os++;\n        // skip eol\n        while ((ch = buffer[os]) && ~'\\r\\n'.indexOf(ch)) os++;\n        if (indent) {\n            while ((ch = buffer[os]) && ~' \\t'.indexOf(ch)) os++;\n        }\n        if (buffer.slice(os, os + word.length) === word) {\n            os += word.length;\n            break;\n        }\n    }\n    return {\n        end: os\n    };\n}\n\nHereDoc.isWordStart = true;\n\nconst internalEntries = {\n        // only the entries in here will be used when\n        // searching for the end of a method.\n        'do': Block,\n        'begin': Block,\n        'for': Block,\n        'case': Block,\n        'if': ConditionAssignBlock, // assign and block control\n        'unless': ConditionAssignBlock, // assigns and block control\n        'while': ConditionBlock, // block control\n        'until': ConditionBlock, // block control\n        '\"': Strings,\n        '`': Strings,\n        '\\'': Strings,\n        '#': Comment,\n        '<<': HereDoc\n    },\n    externalEntries = {\n        'module': Module,\n        'class': Module,\n        'def': Method,\n        'include': Include,\n        'alias': Alias,\n        'attr_reader': Attr,\n        'attr_writer': Attr,\n        'attr_accessor': Attr,\n        'alias_method': MethodAlias\n    };\n\nconst internal = new Entries(internalEntries);\nconst external = new Entries(externalEntries);\n\nfunction merge(target, insert) {\n    let e;\n    for (let k in insert) {\n        e = insert[k];\n        if (typeof e === 'number') target[k] = e;\n        else if (typeof e === 'string') target[k] = e;\n        else if (Array.isArray(e)) {\n            if (k in target) target[k] = target[k].concat(e);\n            else target[k] = e;\n        } else if (k in target) merge(target[k], e);\n        else if (e) target[k] = e;\n    }\n}\n\nfunction parse(buffer, os) {\n    let results = {};\n    os = os || 0;\n    if (os >= buffer.length) return;\n    let processed;\n    while (os < buffer.length) {\n        os = skipWhite(buffer, os);\n        if (buffer.slice(os, os + 3) === 'end' &&\n            (os + 3 === buffer.length ||\n                ~_defEnd.indexOf(buffer[os + 3]))) {\n            results.end = os + 3;\n            return results;\n        }\n        processed = internal.process(buffer, os) || external.process(buffer, os);\n        if (processed) {\n            os = processed.end;\n            merge(results, processed);\n        } else {\n            //search for more whitespace\n            os = skipNonWhite(buffer, os);\n        }\n    }\n    results.end = os;\n    return results;\n}\n\nmodule.exports = parse;","'use strict';\n\n\nconst _nb_white = '\\t ';\nconst _eol = '\\r\\n;';\nconst _white = _nb_white + _eol;\n\nconst _word_end = '(#<';\nconst _defEnd = _white + _word_end;\n\nclass Entries {\n    constructor(elements) {\n        this.entry = [];\n        this.first = '';\n        for (let key in elements) {\n            this.add(key, elements[key]);\n        }\n    }\n    add(initialiser, processor) {\n        let pos = this.first.indexOf(initialiser[0]);\n        if (!~pos) {\n            this.first += initialiser[0];\n            this.entry.push([{ initialiser, processor }]);\n        } else {\n            this.entry[pos].push({ initialiser, processor });\n        }\n    }\n    process(buffer, os) {\n        let pos = this.first.indexOf(buffer[os]);\n        if (!~pos) return;\n        let processed;\n        let endPos;\n        if (this.entry[pos].some(entry => {\n                endPos = os + entry.initialiser.length;\n                if (entry.initialiser.length === 1 ||\n                    (entry.initialiser == buffer.slice(os, endPos) &&\n                        //must be a word edge - although some of the end options\n                        //wouldn't end the word for some key words, they would\n                        //be an error, and that's enough for us to do something with\n                        //it here\n                        (endPos === buffer.length || ~_defEnd.indexOf(buffer[endPos]) || entry.processor.isWordStart)\n                    )) {\n                    processed = entry.processor(entry.initialiser, buffer, os);\n                    // console.log(\"Found: \", os, `\"${entry.initialiser}\"`, buffer.slice(os,processed.end));\n                    return !!processed;\n                }\n            }));\n        return processed;\n    }\n}\n\nmodule.exports = Entries;","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.15';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.async = global.async || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction slice(arrayLike, start) {\n    start = start|0;\n    var newLen = Math.max(arrayLike.length - start, 0);\n    var newArr = Array(newLen);\n    for(var idx = 0; idx < newLen; idx++)  {\n        newArr[idx] = arrayLike[start + idx];\n    }\n    return newArr;\n}\n\n/**\n * Creates a continuation function with some arguments already applied.\n *\n * Useful as a shorthand when combined with other control flow functions. Any\n * arguments passed to the returned function are added to the arguments\n * originally passed to apply.\n *\n * @name apply\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {Function} fn - The function you want to eventually apply all\n * arguments to. Invokes with (arguments...).\n * @param {...*} arguments... - Any number of arguments to automatically apply\n * when the continuation is called.\n * @returns {Function} the partially-applied function\n * @example\n *\n * // using apply\n * async.parallel([\n *     async.apply(fs.writeFile, 'testfile1', 'test1'),\n *     async.apply(fs.writeFile, 'testfile2', 'test2')\n * ]);\n *\n *\n * // the same process without using apply\n * async.parallel([\n *     function(callback) {\n *         fs.writeFile('testfile1', 'test1', callback);\n *     },\n *     function(callback) {\n *         fs.writeFile('testfile2', 'test2', callback);\n *     }\n * ]);\n *\n * // It's possible to pass any number of additional arguments when calling the\n * // continuation:\n *\n * node> var fn = async.apply(sys.puts, 'one');\n * node> fn('two', 'three');\n * one\n * two\n * three\n */\nvar apply = function(fn/*, ...args*/) {\n    var args = slice(arguments, 1);\n    return function(/*callArgs*/) {\n        var callArgs = slice(arguments);\n        return fn.apply(null, args.concat(callArgs));\n    };\n};\n\nvar initialParams = function (fn) {\n    return function (/*...args, callback*/) {\n        var args = slice(arguments);\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    };\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return function (fn/*, ...args*/) {\n        var args = slice(arguments, 1);\n        defer(function () {\n            fn.apply(null, args);\n        });\n    };\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nvar setImmediate$1 = wrap(_defer);\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return initialParams(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if (isObject(result) && typeof result.then === 'function') {\n            result.then(function(value) {\n                invokeCallback(callback, null, value);\n            }, function(err) {\n                invokeCallback(callback, err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (e) {\n        setImmediate$1(rethrow, e);\n    }\n}\n\nfunction rethrow(error) {\n    throw error;\n}\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? asyncify(asyncFn) : asyncFn;\n}\n\nfunction applyEach$1(eachfn) {\n    return function(fns/*, ...args*/) {\n        var args = slice(arguments, 1);\n        var go = initialParams(function(args, callback) {\n            var that = this;\n            return eachfn(fns, function (fn, cb) {\n                wrapAsync(fn).apply(that, args.concat(cb));\n            }, callback);\n        });\n        if (args.length) {\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    };\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar Symbol$1 = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]';\nvar undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]';\nvar funcTag = '[object Function]';\nvar genTag = '[object GeneratorFunction]';\nvar proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n// A temporary value used to identify if the loop should be broken.\n// See #1064, #1293\nvar breakLoop = {};\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nfunction once(fn) {\n    return function () {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nvar iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator;\n\nvar getIterator = function (coll) {\n    return iteratorSymbol && coll[iteratorSymbol] && coll[iteratorSymbol]();\n};\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty$2.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]';\nvar arrayTag = '[object Array]';\nvar boolTag = '[object Boolean]';\nvar dateTag = '[object Date]';\nvar errorTag = '[object Error]';\nvar funcTag$1 = '[object Function]';\nvar mapTag = '[object Map]';\nvar numberTag = '[object Number]';\nvar objectTag = '[object Object]';\nvar regexpTag = '[object RegExp]';\nvar setTag = '[object Set]';\nvar stringTag = '[object String]';\nvar weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]';\nvar dataViewTag = '[object DataView]';\nvar float32Tag = '[object Float32Array]';\nvar float64Tag = '[object Float64Array]';\nvar int8Tag = '[object Int8Array]';\nvar int16Tag = '[object Int16Array]';\nvar int32Tag = '[object Int32Array]';\nvar uint8Tag = '[object Uint8Array]';\nvar uint8ClampedTag = '[object Uint8ClampedArray]';\nvar uint16Tag = '[object Uint16Array]';\nvar uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag$1] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/** Detect free variable `exports`. */\nvar freeExports$1 = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule$1 = freeExports$1 && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports$1 && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule$1 && freeModule$1.require && freeModule$1.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$1.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$5;\n\n  return value === proto;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$3.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nfunction createArrayIterator(coll) {\n    var i = -1;\n    var len = coll.length;\n    return function next() {\n        return ++i < len ? {value: coll[i], key: i} : null;\n    }\n}\n\nfunction createES2015Iterator(iterator) {\n    var i = -1;\n    return function next() {\n        var item = iterator.next();\n        if (item.done)\n            return null;\n        i++;\n        return {value: item.value, key: i};\n    }\n}\n\nfunction createObjectIterator(obj) {\n    var okeys = keys(obj);\n    var i = -1;\n    var len = okeys.length;\n    return function next() {\n        var key = okeys[++i];\n        return i < len ? {value: obj[key], key: key} : null;\n    };\n}\n\nfunction iterator(coll) {\n    if (isArrayLike(coll)) {\n        return createArrayIterator(coll);\n    }\n\n    var iterator = getIterator(coll);\n    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);\n}\n\nfunction onlyOnce(fn) {\n    return function() {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nfunction _eachOfLimit(limit) {\n    return function (obj, iteratee, callback) {\n        callback = once(callback || noop);\n        if (limit <= 0 || !obj) {\n            return callback(null);\n        }\n        var nextElem = iterator(obj);\n        var done = false;\n        var running = 0;\n        var looping = false;\n\n        function iterateeCallback(err, value) {\n            running -= 1;\n            if (err) {\n                done = true;\n                callback(err);\n            }\n            else if (value === breakLoop || (done && running <= 0)) {\n                done = true;\n                return callback(null);\n            }\n            else if (!looping) {\n                replenish();\n            }\n        }\n\n        function replenish () {\n            looping = true;\n            while (running < limit && !done) {\n                var elem = nextElem();\n                if (elem === null) {\n                    done = true;\n                    if (running <= 0) {\n                        callback(null);\n                    }\n                    return;\n                }\n                running += 1;\n                iteratee(elem.value, elem.key, onlyOnce(iterateeCallback));\n            }\n            looping = false;\n        }\n\n        replenish();\n    };\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name eachOfLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`. The `key` is the item's key, or index in the case of an\n * array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachOfLimit(coll, limit, iteratee, callback) {\n    _eachOfLimit(limit)(coll, wrapAsync(iteratee), callback);\n}\n\nfunction doLimit(fn, limit) {\n    return function (iterable, iteratee, callback) {\n        return fn(iterable, limit, iteratee, callback);\n    };\n}\n\n// eachOf implementation optimized for array-likes\nfunction eachOfArrayLike(coll, iteratee, callback) {\n    callback = once(callback || noop);\n    var index = 0,\n        completed = 0,\n        length = coll.length;\n    if (length === 0) {\n        callback(null);\n    }\n\n    function iteratorCallback(err, value) {\n        if (err) {\n            callback(err);\n        } else if ((++completed === length) || value === breakLoop) {\n            callback(null);\n        }\n    }\n\n    for (; index < length; index++) {\n        iteratee(coll[index], index, onlyOnce(iteratorCallback));\n    }\n}\n\n// a generic version of eachOf which can handle array, object, and iterator cases.\nvar eachOfGeneric = doLimit(eachOfLimit, Infinity);\n\n/**\n * Like [`each`]{@link module:Collections.each}, except that it passes the key (or index) as the second argument\n * to the iteratee.\n *\n * @name eachOf\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEachOf\n * @category Collection\n * @see [async.each]{@link module:Collections.each}\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each\n * item in `coll`.\n * The `key` is the item's key, or index in the case of an array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * var obj = {dev: \"/dev.json\", test: \"/test.json\", prod: \"/prod.json\"};\n * var configs = {};\n *\n * async.forEachOf(obj, function (value, key, callback) {\n *     fs.readFile(__dirname + value, \"utf8\", function (err, data) {\n *         if (err) return callback(err);\n *         try {\n *             configs[key] = JSON.parse(data);\n *         } catch (e) {\n *             return callback(e);\n *         }\n *         callback();\n *     });\n * }, function (err) {\n *     if (err) console.error(err.message);\n *     // configs is now a map of JSON data\n *     doSomethingWith(configs);\n * });\n */\nvar eachOf = function(coll, iteratee, callback) {\n    var eachOfImplementation = isArrayLike(coll) ? eachOfArrayLike : eachOfGeneric;\n    eachOfImplementation(coll, wrapAsync(iteratee), callback);\n};\n\nfunction doParallel(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOf, obj, wrapAsync(iteratee), callback);\n    };\n}\n\nfunction _asyncMap(eachfn, arr, iteratee, callback) {\n    callback = callback || noop;\n    arr = arr || [];\n    var results = [];\n    var counter = 0;\n    var _iteratee = wrapAsync(iteratee);\n\n    eachfn(arr, function (value, _, callback) {\n        var index = counter++;\n        _iteratee(value, function (err, v) {\n            results[index] = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Produces a new collection of values by mapping each value in `coll` through\n * the `iteratee` function. The `iteratee` is called with an item from `coll`\n * and a callback for when it has finished processing. Each of these callback\n * takes 2 arguments: an `error`, and the transformed item from `coll`. If\n * `iteratee` passes an error to its callback, the main `callback` (for the\n * `map` function) is immediately called with the error.\n *\n * Note, that since this function applies the `iteratee` to each item in\n * parallel, there is no guarantee that the `iteratee` functions will complete\n * in order. However, the results array will be in the same order as the\n * original `coll`.\n *\n * If `map` is passed an Object, the results will be an Array.  The results\n * will roughly be in the order of the original Objects' keys (but this can\n * vary across JavaScript engines).\n *\n * @name map\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an Array of the\n * transformed items from the `coll`. Invoked with (err, results).\n * @example\n *\n * async.map(['file1','file2','file3'], fs.stat, function(err, results) {\n *     // results is now an array of stats for each file\n * });\n */\nvar map = doParallel(_asyncMap);\n\n/**\n * Applies the provided arguments to each function in the array, calling\n * `callback` after all functions have completed. If you only provide the first\n * argument, `fns`, then it will return a function which lets you pass in the\n * arguments as if it were a single function call. If more arguments are\n * provided, `callback` is required while `args` is still optional.\n *\n * @name applyEach\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s\n * to all call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument, `fns`, is provided, it will\n * return a function which lets you pass in the arguments as if it were a single\n * function call. The signature is `(..args, callback)`. If invoked with any\n * arguments, `callback` is required.\n * @example\n *\n * async.applyEach([enableSearch, updateSchema], 'bucket', callback);\n *\n * // partial application example:\n * async.each(\n *     buckets,\n *     async.applyEach([enableSearch, updateSchema]),\n *     callback\n * );\n */\nvar applyEach = applyEach$1(map);\n\nfunction doParallelLimit(fn) {\n    return function (obj, limit, iteratee, callback) {\n        return fn(_eachOfLimit(limit), obj, wrapAsync(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs a maximum of `limit` async operations at a time.\n *\n * @name mapLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapLimit = doParallelLimit(_asyncMap);\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs only a single async operation at a time.\n *\n * @name mapSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapSeries = doLimit(mapLimit, 1);\n\n/**\n * The same as [`applyEach`]{@link module:ControlFlow.applyEach} but runs only a single async operation at a time.\n *\n * @name applyEachSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.applyEach]{@link module:ControlFlow.applyEach}\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s to all\n * call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument is provided, it will return\n * a function which lets you pass in the arguments as if it were a single\n * function call.\n */\nvar applyEachSeries = applyEach$1(mapSeries);\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\n/**\n * Determines the best order for running the {@link AsyncFunction}s in `tasks`, based on\n * their requirements. Each function can optionally depend on other functions\n * being completed first, and each function is run as soon as its requirements\n * are satisfied.\n *\n * If any of the {@link AsyncFunction}s pass an error to their callback, the `auto` sequence\n * will stop. Further tasks will not execute (so any other functions depending\n * on it will not run), and the main `callback` is immediately called with the\n * error.\n *\n * {@link AsyncFunction}s also receive an object containing the results of functions which\n * have completed so far as the first argument, if they have dependencies. If a\n * task function has no dependencies, it will only be passed a callback.\n *\n * @name auto\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Object} tasks - An object. Each of its properties is either a\n * function or an array of requirements, with the {@link AsyncFunction} itself the last item\n * in the array. The object's key of a property serves as the name of the task\n * defined by that property, i.e. can be used when specifying requirements for\n * other tasks. The function receives one or two arguments:\n * * a `results` object, containing the results of the previously executed\n *   functions, only passed if the task has any dependencies,\n * * a `callback(err, result)` function, which must be called when finished,\n *   passing an `error` (which can be `null`) and the result of the function's\n *   execution.\n * @param {number} [concurrency=Infinity] - An optional `integer` for\n * determining the maximum number of tasks that can be run in parallel. By\n * default, as many as possible.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback. Results are always returned; however, if an\n * error occurs, no further `tasks` will be performed, and the results object\n * will only contain partial results. Invoked with (err, results).\n * @returns undefined\n * @example\n *\n * async.auto({\n *     // this function will just be passed a callback\n *     readData: async.apply(fs.readFile, 'data.txt', 'utf-8'),\n *     showData: ['readData', function(results, cb) {\n *         // results.readData is the file's contents\n *         // ...\n *     }]\n * }, callback);\n *\n * async.auto({\n *     get_data: function(callback) {\n *         console.log('in get_data');\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         console.log('in make_folder');\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: ['get_data', 'make_folder', function(results, callback) {\n *         console.log('in write_file', JSON.stringify(results));\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(results, callback) {\n *         console.log('in email_link', JSON.stringify(results));\n *         // once the file is written let's email a link to it...\n *         // results.write_file contains the filename returned by write_file.\n *         callback(null, {'file':results.write_file, 'email':'user@example.com'});\n *     }]\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('results = ', results);\n * });\n */\nvar auto = function (tasks, concurrency, callback) {\n    if (typeof concurrency === 'function') {\n        // concurrency is optional, shift the args.\n        callback = concurrency;\n        concurrency = null;\n    }\n    callback = once(callback || noop);\n    var keys$$1 = keys(tasks);\n    var numTasks = keys$$1.length;\n    if (!numTasks) {\n        return callback(null);\n    }\n    if (!concurrency) {\n        concurrency = numTasks;\n    }\n\n    var results = {};\n    var runningTasks = 0;\n    var hasError = false;\n\n    var listeners = Object.create(null);\n\n    var readyTasks = [];\n\n    // for cycle detection:\n    var readyToCheck = []; // tasks that have been identified as reachable\n    // without the possibility of returning to an ancestor task\n    var uncheckedDependencies = {};\n\n    baseForOwn(tasks, function (task, key) {\n        if (!isArray(task)) {\n            // no dependencies\n            enqueueTask(key, [task]);\n            readyToCheck.push(key);\n            return;\n        }\n\n        var dependencies = task.slice(0, task.length - 1);\n        var remainingDependencies = dependencies.length;\n        if (remainingDependencies === 0) {\n            enqueueTask(key, task);\n            readyToCheck.push(key);\n            return;\n        }\n        uncheckedDependencies[key] = remainingDependencies;\n\n        arrayEach(dependencies, function (dependencyName) {\n            if (!tasks[dependencyName]) {\n                throw new Error('async.auto task `' + key +\n                    '` has a non-existent dependency `' +\n                    dependencyName + '` in ' +\n                    dependencies.join(', '));\n            }\n            addListener(dependencyName, function () {\n                remainingDependencies--;\n                if (remainingDependencies === 0) {\n                    enqueueTask(key, task);\n                }\n            });\n        });\n    });\n\n    checkForDeadlocks();\n    processQueue();\n\n    function enqueueTask(key, task) {\n        readyTasks.push(function () {\n            runTask(key, task);\n        });\n    }\n\n    function processQueue() {\n        if (readyTasks.length === 0 && runningTasks === 0) {\n            return callback(null, results);\n        }\n        while(readyTasks.length && runningTasks < concurrency) {\n            var run = readyTasks.shift();\n            run();\n        }\n\n    }\n\n    function addListener(taskName, fn) {\n        var taskListeners = listeners[taskName];\n        if (!taskListeners) {\n            taskListeners = listeners[taskName] = [];\n        }\n\n        taskListeners.push(fn);\n    }\n\n    function taskComplete(taskName) {\n        var taskListeners = listeners[taskName] || [];\n        arrayEach(taskListeners, function (fn) {\n            fn();\n        });\n        processQueue();\n    }\n\n\n    function runTask(key, task) {\n        if (hasError) return;\n\n        var taskCallback = onlyOnce(function(err, result) {\n            runningTasks--;\n            if (arguments.length > 2) {\n                result = slice(arguments, 1);\n            }\n            if (err) {\n                var safeResults = {};\n                baseForOwn(results, function(val, rkey) {\n                    safeResults[rkey] = val;\n                });\n                safeResults[key] = result;\n                hasError = true;\n                listeners = Object.create(null);\n\n                callback(err, safeResults);\n            } else {\n                results[key] = result;\n                taskComplete(key);\n            }\n        });\n\n        runningTasks++;\n        var taskFn = wrapAsync(task[task.length - 1]);\n        if (task.length > 1) {\n            taskFn(results, taskCallback);\n        } else {\n            taskFn(taskCallback);\n        }\n    }\n\n    function checkForDeadlocks() {\n        // Kahn's algorithm\n        // https://en.wikipedia.org/wiki/Topological_sorting#Kahn.27s_algorithm\n        // http://connalle.blogspot.com/2013/10/topological-sortingkahn-algorithm.html\n        var currentTask;\n        var counter = 0;\n        while (readyToCheck.length) {\n            currentTask = readyToCheck.pop();\n            counter++;\n            arrayEach(getDependents(currentTask), function (dependent) {\n                if (--uncheckedDependencies[dependent] === 0) {\n                    readyToCheck.push(dependent);\n                }\n            });\n        }\n\n        if (counter !== numTasks) {\n            throw new Error(\n                'async.auto cannot execute tasks due to a recursive dependency'\n            );\n        }\n    }\n\n    function getDependents(taskName) {\n        var result = [];\n        baseForOwn(tasks, function (task, key) {\n            if (isArray(task) && baseIndexOf(task, taskName, 0) >= 0) {\n                result.push(key);\n            }\n        });\n        return result;\n    }\n};\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol$1 ? Symbol$1.prototype : undefined;\nvar symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f';\nvar reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f';\nvar rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff';\nvar rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\nvar rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange$1 = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange$1 = '\\\\u0300-\\\\u036f';\nvar reComboHalfMarksRange$1 = '\\\\ufe20-\\\\ufe2f';\nvar rsComboSymbolsRange$1 = '\\\\u20d0-\\\\u20ff';\nvar rsComboRange$1 = rsComboMarksRange$1 + reComboHalfMarksRange$1 + rsComboSymbolsRange$1;\nvar rsVarRange$1 = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange$1 + ']';\nvar rsCombo = '[' + rsComboRange$1 + ']';\nvar rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]';\nvar rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')';\nvar rsNonAstral = '[^' + rsAstralRange$1 + ']';\nvar rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}';\nvar rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\nvar rsZWJ$1 = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?';\nvar rsOptVar = '[' + rsVarRange$1 + ']?';\nvar rsOptJoin = '(?:' + rsZWJ$1 + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*';\nvar rsSeq = rsOptVar + reOptMod + rsOptJoin;\nvar rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nvar FN_ARGS = /^(?:async\\s+)?(function)?\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m;\nvar FN_ARG_SPLIT = /,/;\nvar FN_ARG = /(=.+)?(\\s*)$/;\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\nfunction parseParams(func) {\n    func = func.toString().replace(STRIP_COMMENTS, '');\n    func = func.match(FN_ARGS)[2].replace(' ', '');\n    func = func ? func.split(FN_ARG_SPLIT) : [];\n    func = func.map(function (arg){\n        return trim(arg.replace(FN_ARG, ''));\n    });\n    return func;\n}\n\n/**\n * A dependency-injected version of the [async.auto]{@link module:ControlFlow.auto} function. Dependent\n * tasks are specified as parameters to the function, after the usual callback\n * parameter, with the parameter names matching the names of the tasks it\n * depends on. This can provide even more readable task graphs which can be\n * easier to maintain.\n *\n * If a final callback is specified, the task results are similarly injected,\n * specified as named parameters after the initial error parameter.\n *\n * The autoInject function is purely syntactic sugar and its semantics are\n * otherwise equivalent to [async.auto]{@link module:ControlFlow.auto}.\n *\n * @name autoInject\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.auto]{@link module:ControlFlow.auto}\n * @category Control Flow\n * @param {Object} tasks - An object, each of whose properties is an {@link AsyncFunction} of\n * the form 'func([dependencies...], callback). The object's key of a property\n * serves as the name of the task defined by that property, i.e. can be used\n * when specifying requirements for other tasks.\n * * The `callback` parameter is a `callback(err, result)` which must be called\n *   when finished, passing an `error` (which can be `null`) and the result of\n *   the function's execution. The remaining parameters name other tasks on\n *   which the task is dependent, and the results from those tasks are the\n *   arguments of those parameters.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback, and a `results` object with any completed\n * task results, similar to `auto`.\n * @example\n *\n * //  The example from `auto` can be rewritten as follows:\n * async.autoInject({\n *     get_data: function(callback) {\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: function(get_data, make_folder, callback) {\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     },\n *     email_link: function(write_file, callback) {\n *         // once the file is written let's email a link to it...\n *         // write_file contains the filename returned by write_file.\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n *\n * // If you are using a JS minifier that mangles parameter names, `autoInject`\n * // will not work with plain functions, since the parameter names will be\n * // collapsed to a single letter identifier.  To work around this, you can\n * // explicitly specify the names of the parameters your task function needs\n * // in an array, similar to Angular.js dependency injection.\n *\n * // This still has an advantage over plain `auto`, since the results a task\n * // depends on are still spread into arguments.\n * async.autoInject({\n *     //...\n *     write_file: ['get_data', 'make_folder', function(get_data, make_folder, callback) {\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(write_file, callback) {\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }]\n *     //...\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n */\nfunction autoInject(tasks, callback) {\n    var newTasks = {};\n\n    baseForOwn(tasks, function (taskFn, key) {\n        var params;\n        var fnIsAsync = isAsync(taskFn);\n        var hasNoDeps =\n            (!fnIsAsync && taskFn.length === 1) ||\n            (fnIsAsync && taskFn.length === 0);\n\n        if (isArray(taskFn)) {\n            params = taskFn.slice(0, -1);\n            taskFn = taskFn[taskFn.length - 1];\n\n            newTasks[key] = params.concat(params.length > 0 ? newTask : taskFn);\n        } else if (hasNoDeps) {\n            // no dependencies, use the function as-is\n            newTasks[key] = taskFn;\n        } else {\n            params = parseParams(taskFn);\n            if (taskFn.length === 0 && !fnIsAsync && params.length === 0) {\n                throw new Error(\"autoInject task functions require explicit parameters.\");\n            }\n\n            // remove callback param\n            if (!fnIsAsync) params.pop();\n\n            newTasks[key] = params.concat(newTask);\n        }\n\n        function newTask(results, taskCb) {\n            var newArgs = arrayMap(params, function (name) {\n                return results[name];\n            });\n            newArgs.push(taskCb);\n            wrapAsync(taskFn).apply(null, newArgs);\n        }\n    });\n\n    auto(newTasks, callback);\n}\n\n// Simple doubly linked list (https://en.wikipedia.org/wiki/Doubly_linked_list) implementation\n// used for queues. This implementation assumes that the node provided by the user can be modified\n// to adjust the next and last properties. We implement only the minimal functionality\n// for queue support.\nfunction DLL() {\n    this.head = this.tail = null;\n    this.length = 0;\n}\n\nfunction setInitial(dll, node) {\n    dll.length = 1;\n    dll.head = dll.tail = node;\n}\n\nDLL.prototype.removeLink = function(node) {\n    if (node.prev) node.prev.next = node.next;\n    else this.head = node.next;\n    if (node.next) node.next.prev = node.prev;\n    else this.tail = node.prev;\n\n    node.prev = node.next = null;\n    this.length -= 1;\n    return node;\n};\n\nDLL.prototype.empty = function () {\n    while(this.head) this.shift();\n    return this;\n};\n\nDLL.prototype.insertAfter = function(node, newNode) {\n    newNode.prev = node;\n    newNode.next = node.next;\n    if (node.next) node.next.prev = newNode;\n    else this.tail = newNode;\n    node.next = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.insertBefore = function(node, newNode) {\n    newNode.prev = node.prev;\n    newNode.next = node;\n    if (node.prev) node.prev.next = newNode;\n    else this.head = newNode;\n    node.prev = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.unshift = function(node) {\n    if (this.head) this.insertBefore(this.head, node);\n    else setInitial(this, node);\n};\n\nDLL.prototype.push = function(node) {\n    if (this.tail) this.insertAfter(this.tail, node);\n    else setInitial(this, node);\n};\n\nDLL.prototype.shift = function() {\n    return this.head && this.removeLink(this.head);\n};\n\nDLL.prototype.pop = function() {\n    return this.tail && this.removeLink(this.tail);\n};\n\nDLL.prototype.toArray = function () {\n    var arr = Array(this.length);\n    var curr = this.head;\n    for(var idx = 0; idx < this.length; idx++) {\n        arr[idx] = curr.data;\n        curr = curr.next;\n    }\n    return arr;\n};\n\nDLL.prototype.remove = function (testFn) {\n    var curr = this.head;\n    while(!!curr) {\n        var next = curr.next;\n        if (testFn(curr)) {\n            this.removeLink(curr);\n        }\n        curr = next;\n    }\n    return this;\n};\n\nfunction queue(worker, concurrency, payload) {\n    if (concurrency == null) {\n        concurrency = 1;\n    }\n    else if(concurrency === 0) {\n        throw new Error('Concurrency must not be zero');\n    }\n\n    var _worker = wrapAsync(worker);\n    var numRunning = 0;\n    var workersList = [];\n\n    var processingScheduled = false;\n    function _insert(data, insertAtFront, callback) {\n        if (callback != null && typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0 && q.idle()) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function() {\n                q.drain();\n            });\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                callback: callback || noop\n            };\n\n            if (insertAtFront) {\n                q._tasks.unshift(item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n\n        if (!processingScheduled) {\n            processingScheduled = true;\n            setImmediate$1(function() {\n                processingScheduled = false;\n                q.process();\n            });\n        }\n    }\n\n    function _next(tasks) {\n        return function(err){\n            numRunning -= 1;\n\n            for (var i = 0, l = tasks.length; i < l; i++) {\n                var task = tasks[i];\n\n                var index = baseIndexOf(workersList, task, 0);\n                if (index === 0) {\n                    workersList.shift();\n                } else if (index > 0) {\n                    workersList.splice(index, 1);\n                }\n\n                task.callback.apply(task, arguments);\n\n                if (err != null) {\n                    q.error(err, task.data);\n                }\n            }\n\n            if (numRunning <= (q.concurrency - q.buffer) ) {\n                q.unsaturated();\n            }\n\n            if (q.idle()) {\n                q.drain();\n            }\n            q.process();\n        };\n    }\n\n    var isProcessing = false;\n    var q = {\n        _tasks: new DLL(),\n        concurrency: concurrency,\n        payload: payload,\n        saturated: noop,\n        unsaturated:noop,\n        buffer: concurrency / 4,\n        empty: noop,\n        drain: noop,\n        error: noop,\n        started: false,\n        paused: false,\n        push: function (data, callback) {\n            _insert(data, false, callback);\n        },\n        kill: function () {\n            q.drain = noop;\n            q._tasks.empty();\n        },\n        unshift: function (data, callback) {\n            _insert(data, true, callback);\n        },\n        remove: function (testFn) {\n            q._tasks.remove(testFn);\n        },\n        process: function () {\n            // Avoid trying to start too many processing operations. This can occur\n            // when callbacks resolve synchronously (#1267).\n            if (isProcessing) {\n                return;\n            }\n            isProcessing = true;\n            while(!q.paused && numRunning < q.concurrency && q._tasks.length){\n                var tasks = [], data = [];\n                var l = q._tasks.length;\n                if (q.payload) l = Math.min(l, q.payload);\n                for (var i = 0; i < l; i++) {\n                    var node = q._tasks.shift();\n                    tasks.push(node);\n                    workersList.push(node);\n                    data.push(node.data);\n                }\n\n                numRunning += 1;\n\n                if (q._tasks.length === 0) {\n                    q.empty();\n                }\n\n                if (numRunning === q.concurrency) {\n                    q.saturated();\n                }\n\n                var cb = onlyOnce(_next(tasks));\n                _worker(data, cb);\n            }\n            isProcessing = false;\n        },\n        length: function () {\n            return q._tasks.length;\n        },\n        running: function () {\n            return numRunning;\n        },\n        workersList: function () {\n            return workersList;\n        },\n        idle: function() {\n            return q._tasks.length + numRunning === 0;\n        },\n        pause: function () {\n            q.paused = true;\n        },\n        resume: function () {\n            if (q.paused === false) { return; }\n            q.paused = false;\n            setImmediate$1(q.process);\n        }\n    };\n    return q;\n}\n\n/**\n * A cargo of tasks for the worker function to complete. Cargo inherits all of\n * the same methods and event callbacks as [`queue`]{@link module:ControlFlow.queue}.\n * @typedef {Object} CargoObject\n * @memberOf module:ControlFlow\n * @property {Function} length - A function returning the number of items\n * waiting to be processed. Invoke like `cargo.length()`.\n * @property {number} payload - An `integer` for determining how many tasks\n * should be process per round. This property can be changed after a `cargo` is\n * created to alter the payload on-the-fly.\n * @property {Function} push - Adds `task` to the `queue`. The callback is\n * called once the `worker` has finished processing the task. Instead of a\n * single task, an array of `tasks` can be submitted. The respective callback is\n * used for every task in the list. Invoke like `cargo.push(task, [callback])`.\n * @property {Function} saturated - A callback that is called when the\n * `queue.length()` hits the concurrency and further tasks will be queued.\n * @property {Function} empty - A callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - A callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke like `cargo.idle()`.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke like `cargo.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke like `cargo.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke like `cargo.kill()`.\n */\n\n/**\n * Creates a `cargo` object with the specified payload. Tasks added to the\n * cargo will be processed altogether (up to the `payload` limit). If the\n * `worker` is in progress, the task is queued until it becomes available. Once\n * the `worker` has completed some tasks, each callback of those tasks is\n * called. Check out [these](https://camo.githubusercontent.com/6bbd36f4cf5b35a0f11a96dcd2e97711ffc2fb37/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130382f62626330636662302d356632392d313165322d393734662d3333393763363464633835382e676966) [animations](https://camo.githubusercontent.com/f4810e00e1c5f5f8addbe3e9f49064fd5d102699/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130312f38346339323036362d356632392d313165322d383134662d3964336430323431336266642e676966)\n * for how `cargo` and `queue` work.\n *\n * While [`queue`]{@link module:ControlFlow.queue} passes only one task to one of a group of workers\n * at a time, cargo passes an array of tasks to a single worker, repeating\n * when the worker is finished.\n *\n * @name cargo\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An asynchronous function for processing an array\n * of queued tasks. Invoked with `(tasks, callback)`.\n * @param {number} [payload=Infinity] - An optional `integer` for determining\n * how many tasks should be processed per round; if omitted, the default is\n * unlimited.\n * @returns {module:ControlFlow.CargoObject} A cargo object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the cargo and inner queue.\n * @example\n *\n * // create a cargo object with payload 2\n * var cargo = async.cargo(function(tasks, callback) {\n *     for (var i=0; i<tasks.length; i++) {\n *         console.log('hello ' + tasks[i].name);\n *     }\n *     callback();\n * }, 2);\n *\n * // add some items\n * cargo.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * cargo.push({name: 'bar'}, function(err) {\n *     console.log('finished processing bar');\n * });\n * cargo.push({name: 'baz'}, function(err) {\n *     console.log('finished processing baz');\n * });\n */\nfunction cargo(worker, payload) {\n    return queue(worker, 1, payload);\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs only a single async operation at a time.\n *\n * @name eachOfSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachOfSeries = doLimit(eachOfLimit, 1);\n\n/**\n * Reduces `coll` into a single value using an async `iteratee` to return each\n * successive step. `memo` is the initial state of the reduction. This function\n * only operates in series.\n *\n * For performance reasons, it may make sense to split a call to this function\n * into a parallel map, and then use the normal `Array.prototype.reduce` on the\n * results. This function is for situations where each step in the reduction\n * needs to be async; if you can get the data before reducing it, then it's\n * probably a good idea to do so.\n *\n * @name reduce\n * @static\n * @memberOf module:Collections\n * @method\n * @alias inject\n * @alias foldl\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n * @example\n *\n * async.reduce([1,2,3], 0, function(memo, item, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         callback(null, memo + item)\n *     });\n * }, function(err, result) {\n *     // result is now equal to the last value of memo, which is 6\n * });\n */\nfunction reduce(coll, memo, iteratee, callback) {\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync(iteratee);\n    eachOfSeries(coll, function(x, i, callback) {\n        _iteratee(memo, x, function(err, v) {\n            memo = v;\n            callback(err);\n        });\n    }, function(err) {\n        callback(err, memo);\n    });\n}\n\n/**\n * Version of the compose function that is more natural to read. Each function\n * consumes the return value of the previous function. It is the equivalent of\n * [compose]{@link module:ControlFlow.compose} with the arguments reversed.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name seq\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.compose]{@link module:ControlFlow.compose}\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} a function that composes the `functions` in order\n * @example\n *\n * // Requires lodash (or underscore), express3 and dresende's orm2.\n * // Part of an app, that fetches cats of the logged user.\n * // This example uses `seq` function to avoid overnesting and error\n * // handling clutter.\n * app.get('/cats', function(request, response) {\n *     var User = request.models.User;\n *     async.seq(\n *         _.bind(User.get, User),  // 'User.get' has signature (id, callback(err, data))\n *         function(user, fn) {\n *             user.getCats(fn);      // 'getCats' has signature (callback(err, data))\n *         }\n *     )(req.session.user_id, function (err, cats) {\n *         if (err) {\n *             console.error(err);\n *             response.json({ status: 'error', message: err.message });\n *         } else {\n *             response.json({ status: 'ok', message: 'Cats found', data: cats });\n *         }\n *     });\n * });\n */\nfunction seq(/*...functions*/) {\n    var _functions = arrayMap(arguments, wrapAsync);\n    return function(/*...args*/) {\n        var args = slice(arguments);\n        var that = this;\n\n        var cb = args[args.length - 1];\n        if (typeof cb == 'function') {\n            args.pop();\n        } else {\n            cb = noop;\n        }\n\n        reduce(_functions, args, function(newargs, fn, cb) {\n            fn.apply(that, newargs.concat(function(err/*, ...nextargs*/) {\n                var nextargs = slice(arguments, 1);\n                cb(err, nextargs);\n            }));\n        },\n        function(err, results) {\n            cb.apply(that, [err].concat(results));\n        });\n    };\n}\n\n/**\n * Creates a function which is a composition of the passed asynchronous\n * functions. Each function consumes the return value of the function that\n * follows. Composing functions `f()`, `g()`, and `h()` would produce the result\n * of `f(g(h()))`, only this version uses callbacks to obtain the return values.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name compose\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} an asynchronous function that is the composed\n * asynchronous `functions`\n * @example\n *\n * function add1(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n + 1);\n *     }, 10);\n * }\n *\n * function mul3(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n * 3);\n *     }, 10);\n * }\n *\n * var add1mul3 = async.compose(mul3, add1);\n * add1mul3(4, function (err, result) {\n *     // result now equals 15\n * });\n */\nvar compose = function(/*...args*/) {\n    return seq.apply(null, slice(arguments).reverse());\n};\n\nvar _concat = Array.prototype.concat;\n\n/**\n * The same as [`concat`]{@link module:Collections.concat} but runs a maximum of `limit` async operations at a time.\n *\n * @name concatLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.concat]{@link module:Collections.concat}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`,\n * which should use an array as its result. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n */\nvar concatLimit = function(coll, limit, iteratee, callback) {\n    callback = callback || noop;\n    var _iteratee = wrapAsync(iteratee);\n    mapLimit(coll, limit, function(val, callback) {\n        _iteratee(val, function(err /*, ...args*/) {\n            if (err) return callback(err);\n            return callback(null, slice(arguments, 1));\n        });\n    }, function(err, mapResults) {\n        var result = [];\n        for (var i = 0; i < mapResults.length; i++) {\n            if (mapResults[i]) {\n                result = _concat.apply(result, mapResults[i]);\n            }\n        }\n\n        return callback(err, result);\n    });\n};\n\n/**\n * Applies `iteratee` to each item in `coll`, concatenating the results. Returns\n * the concatenated list. The `iteratee`s are called in parallel, and the\n * results are concatenated as they return. There is no guarantee that the\n * results array will be returned in the original order of `coll` passed to the\n * `iteratee` function.\n *\n * @name concat\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`,\n * which should use an array as its result. Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n * @example\n *\n * async.concat(['dir1','dir2','dir3'], fs.readdir, function(err, files) {\n *     // files is now a list of filenames that exist in the 3 directories\n * });\n */\nvar concat = doLimit(concatLimit, Infinity);\n\n/**\n * The same as [`concat`]{@link module:Collections.concat} but runs only a single async operation at a time.\n *\n * @name concatSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.concat]{@link module:Collections.concat}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`.\n * The iteratee should complete with an array an array of results.\n * Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n */\nvar concatSeries = doLimit(concatLimit, 1);\n\n/**\n * Returns a function that when called, calls-back with the values provided.\n * Useful as the first function in a [`waterfall`]{@link module:ControlFlow.waterfall}, or for plugging values in to\n * [`auto`]{@link module:ControlFlow.auto}.\n *\n * @name constant\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {...*} arguments... - Any number of arguments to automatically invoke\n * callback with.\n * @returns {AsyncFunction} Returns a function that when invoked, automatically\n * invokes the callback with the previous given arguments.\n * @example\n *\n * async.waterfall([\n *     async.constant(42),\n *     function (value, next) {\n *         // value === 42\n *     },\n *     //...\n * ], callback);\n *\n * async.waterfall([\n *     async.constant(filename, \"utf8\"),\n *     fs.readFile,\n *     function (fileData, next) {\n *         //...\n *     }\n *     //...\n * ], callback);\n *\n * async.auto({\n *     hostname: async.constant(\"https://server.net/\"),\n *     port: findFreePort,\n *     launchServer: [\"hostname\", \"port\", function (options, cb) {\n *         startServer(options, cb);\n *     }],\n *     //...\n * }, callback);\n */\nvar constant = function(/*...values*/) {\n    var values = slice(arguments);\n    var args = [null].concat(values);\n    return function (/*...ignoredArgs, callback*/) {\n        var callback = arguments[arguments.length - 1];\n        return callback.apply(this, args);\n    };\n};\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nfunction _createTester(check, getResult) {\n    return function(eachfn, arr, iteratee, cb) {\n        cb = cb || noop;\n        var testPassed = false;\n        var testResult;\n        eachfn(arr, function(value, _, callback) {\n            iteratee(value, function(err, result) {\n                if (err) {\n                    callback(err);\n                } else if (check(result) && !testResult) {\n                    testPassed = true;\n                    testResult = getResult(true, value);\n                    callback(null, breakLoop);\n                } else {\n                    callback();\n                }\n            });\n        }, function(err) {\n            if (err) {\n                cb(err);\n            } else {\n                cb(null, testPassed ? testResult : getResult(false));\n            }\n        });\n    };\n}\n\nfunction _findGetResult(v, x) {\n    return x;\n}\n\n/**\n * Returns the first value in `coll` that passes an async truth test. The\n * `iteratee` is applied in parallel, meaning the first iteratee to return\n * `true` will fire the detect `callback` with that result. That means the\n * result might not be the first item in the original `coll` (in terms of order)\n * that passes the test.\n\n * If order within the original `coll` is important, then look at\n * [`detectSeries`]{@link module:Collections.detectSeries}.\n *\n * @name detect\n * @static\n * @memberOf module:Collections\n * @method\n * @alias find\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n * @example\n *\n * async.detect(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // result now equals the first file in the list that exists\n * });\n */\nvar detect = doParallel(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name detectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findLimit\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectLimit = doParallelLimit(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs only a single async operation at a time.\n *\n * @name detectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findSeries\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectSeries = doLimit(detectLimit, 1);\n\nfunction consoleFunc(name) {\n    return function (fn/*, ...args*/) {\n        var args = slice(arguments, 1);\n        args.push(function (err/*, ...args*/) {\n            var args = slice(arguments, 1);\n            if (typeof console === 'object') {\n                if (err) {\n                    if (console.error) {\n                        console.error(err);\n                    }\n                } else if (console[name]) {\n                    arrayEach(args, function (x) {\n                        console[name](x);\n                    });\n                }\n            }\n        });\n        wrapAsync(fn).apply(null, args);\n    };\n}\n\n/**\n * Logs the result of an [`async` function]{@link AsyncFunction} to the\n * `console` using `console.dir` to display the properties of the resulting object.\n * Only works in Node.js or in browsers that support `console.dir` and\n * `console.error` (such as FF and Chrome).\n * If multiple arguments are returned from the async function,\n * `console.dir` is called on each argument in order.\n *\n * @name dir\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, {hello: name});\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.dir(hello, 'world');\n * {hello: 'world'}\n */\nvar dir = consoleFunc('dir');\n\n/**\n * The post-check version of [`during`]{@link module:ControlFlow.during}. To reflect the difference in\n * the order of operations, the arguments `test` and `fn` are switched.\n *\n * Also a version of [`doWhilst`]{@link module:ControlFlow.doWhilst} with asynchronous `test` function.\n * @name doDuring\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.during]{@link module:ControlFlow.during}\n * @category Control Flow\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (...args, callback), where `...args` are the\n * non-error args from the previous callback of `fn`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error if one occurred, otherwise `null`.\n */\nfunction doDuring(fn, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync(fn);\n    var _test = wrapAsync(test);\n\n    function next(err/*, ...args*/) {\n        if (err) return callback(err);\n        var args = slice(arguments, 1);\n        args.push(check);\n        _test.apply(this, args);\n    }\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    check(null, true);\n\n}\n\n/**\n * The post-check version of [`whilst`]{@link module:ControlFlow.whilst}. To reflect the difference in\n * the order of operations, the arguments `test` and `iteratee` are switched.\n *\n * `doWhilst` is to `whilst` as `do while` is to `while` in plain JavaScript.\n *\n * @name doWhilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - A function which is called each time `test`\n * passes. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped.\n * `callback` will be passed an error and any arguments passed to the final\n * `iteratee`'s callback. Invoked with (err, [results]);\n */\nfunction doWhilst(iteratee, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync(iteratee);\n    var next = function(err/*, ...args*/) {\n        if (err) return callback(err);\n        var args = slice(arguments, 1);\n        if (test.apply(this, args)) return _iteratee(next);\n        callback.apply(null, [null].concat(args));\n    };\n    _iteratee(next);\n}\n\n/**\n * Like ['doWhilst']{@link module:ControlFlow.doWhilst}, except the `test` is inverted. Note the\n * argument ordering differs from `until`.\n *\n * @name doUntil\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.doWhilst]{@link module:ControlFlow.doWhilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction doUntil(iteratee, test, callback) {\n    doWhilst(iteratee, function() {\n        return !test.apply(this, arguments);\n    }, callback);\n}\n\n/**\n * Like [`whilst`]{@link module:ControlFlow.whilst}, except the `test` is an asynchronous function that\n * is passed a callback in the form of `function (err, truth)`. If error is\n * passed to `test` or `fn`, the main callback is immediately called with the\n * value of the error.\n *\n * @name during\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (callback).\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error, if one occurred, otherwise `null`.\n * @example\n *\n * var count = 0;\n *\n * async.during(\n *     function (callback) {\n *         return callback(null, count < 5);\n *     },\n *     function (callback) {\n *         count++;\n *         setTimeout(callback, 1000);\n *     },\n *     function (err) {\n *         // 5 seconds have passed\n *     }\n * );\n */\nfunction during(test, fn, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync(fn);\n    var _test = wrapAsync(test);\n\n    function next(err) {\n        if (err) return callback(err);\n        _test(check);\n    }\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    _test(check);\n}\n\nfunction _withoutIndex(iteratee) {\n    return function (value, index, callback) {\n        return iteratee(value, callback);\n    };\n}\n\n/**\n * Applies the function `iteratee` to each item in `coll`, in parallel.\n * The `iteratee` is called with an item from the list, and a callback for when\n * it has finished. If the `iteratee` passes an error to its `callback`, the\n * main `callback` (for the `each` function) is immediately called with the\n * error.\n *\n * Note, that since this function applies `iteratee` to each item in parallel,\n * there is no guarantee that the iteratee functions will complete in order.\n *\n * @name each\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEach\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to\n * each item in `coll`. Invoked with (item, callback).\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOf`.\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * // assuming openFiles is an array of file names and saveFile is a function\n * // to save the modified contents of that file:\n *\n * async.each(openFiles, saveFile, function(err){\n *   // if any of the saves produced an error, err would equal that error\n * });\n *\n * // assuming openFiles is an array of file names\n * async.each(openFiles, function(file, callback) {\n *\n *     // Perform operation on file here.\n *     console.log('Processing file ' + file);\n *\n *     if( file.length > 32 ) {\n *       console.log('This file name is too long');\n *       callback('File name too long');\n *     } else {\n *       // Do work to process file here\n *       console.log('File processed');\n *       callback();\n *     }\n * }, function(err) {\n *     // if any of the file processing produced an error, err would equal that error\n *     if( err ) {\n *       // One of the iterations produced an error.\n *       // All processing will now stop.\n *       console.log('A file failed to process');\n *     } else {\n *       console.log('All files have been processed successfully');\n *     }\n * });\n */\nfunction eachLimit(coll, iteratee, callback) {\n    eachOf(coll, _withoutIndex(wrapAsync(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs a maximum of `limit` async operations at a time.\n *\n * @name eachLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfLimit`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachLimit$1(coll, limit, iteratee, callback) {\n    _eachOfLimit(limit)(coll, _withoutIndex(wrapAsync(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs only a single async operation at a time.\n *\n * @name eachSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfSeries`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachSeries = doLimit(eachLimit$1, 1);\n\n/**\n * Wrap an async function and ensure it calls its callback on a later tick of\n * the event loop.  If the function already calls its callback on a next tick,\n * no extra deferral is added. This is useful for preventing stack overflows\n * (`RangeError: Maximum call stack size exceeded`) and generally keeping\n * [Zalgo](http://blog.izs.me/post/59142742143/designing-apis-for-asynchrony)\n * contained. ES2017 `async` functions are returned as-is -- they are immune\n * to Zalgo's corrupting influences, as they always resolve on a later tick.\n *\n * @name ensureAsync\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - an async function, one that expects a node-style\n * callback as its last argument.\n * @returns {AsyncFunction} Returns a wrapped function with the exact same call\n * signature as the function passed in.\n * @example\n *\n * function sometimesAsync(arg, callback) {\n *     if (cache[arg]) {\n *         return callback(null, cache[arg]); // this would be synchronous!!\n *     } else {\n *         doSomeIO(arg, callback); // this IO would be asynchronous\n *     }\n * }\n *\n * // this has a risk of stack overflows if many results are cached in a row\n * async.mapSeries(args, sometimesAsync, done);\n *\n * // this will defer sometimesAsync's callback if necessary,\n * // preventing stack overflows\n * async.mapSeries(args, async.ensureAsync(sometimesAsync), done);\n */\nfunction ensureAsync(fn) {\n    if (isAsync(fn)) return fn;\n    return initialParams(function (args, callback) {\n        var sync = true;\n        args.push(function () {\n            var innerArgs = arguments;\n            if (sync) {\n                setImmediate$1(function () {\n                    callback.apply(null, innerArgs);\n                });\n            } else {\n                callback.apply(null, innerArgs);\n            }\n        });\n        fn.apply(this, args);\n        sync = false;\n    });\n}\n\nfunction notId(v) {\n    return !v;\n}\n\n/**\n * Returns `true` if every element in `coll` satisfies an async test. If any\n * iteratee call returns `false`, the main `callback` is immediately called.\n *\n * @name every\n * @static\n * @memberOf module:Collections\n * @method\n * @alias all\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n * @example\n *\n * async.every(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then every file exists\n * });\n */\nvar every = doParallel(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs a maximum of `limit` async operations at a time.\n *\n * @name everyLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everyLimit = doParallelLimit(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs only a single async operation at a time.\n *\n * @name everySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in series.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everySeries = doLimit(everyLimit, 1);\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nfunction filterArray(eachfn, arr, iteratee, callback) {\n    var truthValues = new Array(arr.length);\n    eachfn(arr, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            truthValues[index] = !!v;\n            callback(err);\n        });\n    }, function (err) {\n        if (err) return callback(err);\n        var results = [];\n        for (var i = 0; i < arr.length; i++) {\n            if (truthValues[i]) results.push(arr[i]);\n        }\n        callback(null, results);\n    });\n}\n\nfunction filterGeneric(eachfn, coll, iteratee, callback) {\n    var results = [];\n    eachfn(coll, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            if (err) {\n                callback(err);\n            } else {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            }\n        });\n    }, function (err) {\n        if (err) {\n            callback(err);\n        } else {\n            callback(null, arrayMap(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), baseProperty('value')));\n        }\n    });\n}\n\nfunction _filter(eachfn, coll, iteratee, callback) {\n    var filter = isArrayLike(coll) ? filterArray : filterGeneric;\n    filter(eachfn, coll, wrapAsync(iteratee), callback || noop);\n}\n\n/**\n * Returns a new array of all the values in `coll` which pass an async truth\n * test. This operation is performed in parallel, but the results array will be\n * in the same order as the original.\n *\n * @name filter\n * @static\n * @memberOf module:Collections\n * @method\n * @alias select\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.filter(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of the existing files\n * });\n */\nvar filter = doParallel(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name filterLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar filterLimit = doParallelLimit(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs only a single async operation at a time.\n *\n * @name filterSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results)\n */\nvar filterSeries = doLimit(filterLimit, 1);\n\n/**\n * Calls the asynchronous function `fn` with a callback parameter that allows it\n * to call itself again, in series, indefinitely.\n\n * If an error is passed to the callback then `errback` is called with the\n * error, and execution stops, otherwise it will never be called.\n *\n * @name forever\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} fn - an async function to call repeatedly.\n * Invoked with (next).\n * @param {Function} [errback] - when `fn` passes an error to it's callback,\n * this function will be called, and execution stops. Invoked with (err).\n * @example\n *\n * async.forever(\n *     function(next) {\n *         // next is suitable for passing to things that need a callback(err [, whatever]);\n *         // it will result in this function being called again.\n *     },\n *     function(err) {\n *         // if next is called with a value in its first parameter, it will appear\n *         // in here as 'err', and execution will stop.\n *     }\n * );\n */\nfunction forever(fn, errback) {\n    var done = onlyOnce(errback || noop);\n    var task = wrapAsync(ensureAsync(fn));\n\n    function next(err) {\n        if (err) return done(err);\n        task(next);\n    }\n    next();\n}\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs a maximum of `limit` async operations at a time.\n *\n * @name groupByLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupByLimit = function(coll, limit, iteratee, callback) {\n    callback = callback || noop;\n    var _iteratee = wrapAsync(iteratee);\n    mapLimit(coll, limit, function(val, callback) {\n        _iteratee(val, function(err, key) {\n            if (err) return callback(err);\n            return callback(null, {key: key, val: val});\n        });\n    }, function(err, mapResults) {\n        var result = {};\n        // from MDN, handle object having an `hasOwnProperty` prop\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n        for (var i = 0; i < mapResults.length; i++) {\n            if (mapResults[i]) {\n                var key = mapResults[i].key;\n                var val = mapResults[i].val;\n\n                if (hasOwnProperty.call(result, key)) {\n                    result[key].push(val);\n                } else {\n                    result[key] = [val];\n                }\n            }\n        }\n\n        return callback(err, result);\n    });\n};\n\n/**\n * Returns a new object, where each value corresponds to an array of items, from\n * `coll`, that returned the corresponding key. That is, the keys of the object\n * correspond to the values passed to the `iteratee` callback.\n *\n * Note: Since this function applies the `iteratee` to each item in parallel,\n * there is no guarantee that the `iteratee` functions will complete in order.\n * However, the values for each key in the `result` will be in the same order as\n * the original `coll`. For Objects, the values will roughly be in the order of\n * the original Objects' keys (but this can vary across JavaScript engines).\n *\n * @name groupBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n * @example\n *\n * async.groupBy(['userId1', 'userId2', 'userId3'], function(userId, callback) {\n *     db.findById(userId, function(err, user) {\n *         if (err) return callback(err);\n *         return callback(null, user.age);\n *     });\n * }, function(err, result) {\n *     // result is object containing the userIds grouped by age\n *     // e.g. { 30: ['userId1', 'userId3'], 42: ['userId2']};\n * });\n */\nvar groupBy = doLimit(groupByLimit, Infinity);\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs only a single async operation at a time.\n *\n * @name groupBySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupBySeries = doLimit(groupByLimit, 1);\n\n/**\n * Logs the result of an `async` function to the `console`. Only works in\n * Node.js or in browsers that support `console.log` and `console.error` (such\n * as FF and Chrome). If multiple arguments are returned from the async\n * function, `console.log` is called on each argument in order.\n *\n * @name log\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, 'hello ' + name);\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.log(hello, 'world');\n * 'hello world'\n */\nvar log = consoleFunc('log');\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name mapValuesLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nfunction mapValuesLimit(obj, limit, iteratee, callback) {\n    callback = once(callback || noop);\n    var newObj = {};\n    var _iteratee = wrapAsync(iteratee);\n    eachOfLimit(obj, limit, function(val, key, next) {\n        _iteratee(val, key, function (err, result) {\n            if (err) return next(err);\n            newObj[key] = result;\n            next();\n        });\n    }, function (err) {\n        callback(err, newObj);\n    });\n}\n\n/**\n * A relative of [`map`]{@link module:Collections.map}, designed for use with objects.\n *\n * Produces a new Object by mapping each value of `obj` through the `iteratee`\n * function. The `iteratee` is called each `value` and `key` from `obj` and a\n * callback for when it has finished processing. Each of these callbacks takes\n * two arguments: an `error`, and the transformed item from `obj`. If `iteratee`\n * passes an error to its callback, the main `callback` (for the `mapValues`\n * function) is immediately called with the error.\n *\n * Note, the order of the keys in the result is not guaranteed.  The keys will\n * be roughly in the order they complete, (but this is very engine-specific)\n *\n * @name mapValues\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n * @example\n *\n * async.mapValues({\n *     f1: 'file1',\n *     f2: 'file2',\n *     f3: 'file3'\n * }, function (file, key, callback) {\n *   fs.stat(file, callback);\n * }, function(err, result) {\n *     // result is now a map of stats for each file, e.g.\n *     // {\n *     //     f1: [stats for file1],\n *     //     f2: [stats for file2],\n *     //     f3: [stats for file3]\n *     // }\n * });\n */\n\nvar mapValues = doLimit(mapValuesLimit, Infinity);\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs only a single async operation at a time.\n *\n * @name mapValuesSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nvar mapValuesSeries = doLimit(mapValuesLimit, 1);\n\nfunction has(obj, key) {\n    return key in obj;\n}\n\n/**\n * Caches the results of an async function. When creating a hash to store\n * function results against, the callback is omitted from the hash and an\n * optional hash function can be used.\n *\n * If no hash function is specified, the first argument is used as a hash key,\n * which may work reasonably if it is a string or a data type that converts to a\n * distinct string. Note that objects and arrays will not behave reasonably.\n * Neither will cases where the other arguments are significant. In such cases,\n * specify your own hash function.\n *\n * The cache of results is exposed as the `memo` property of the function\n * returned by `memoize`.\n *\n * @name memoize\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function to proxy and cache results from.\n * @param {Function} hasher - An optional function for generating a custom hash\n * for storing results. It has all the arguments applied to it apart from the\n * callback, and must be synchronous.\n * @returns {AsyncFunction} a memoized version of `fn`\n * @example\n *\n * var slow_fn = function(name, callback) {\n *     // do something\n *     callback(null, result);\n * };\n * var fn = async.memoize(slow_fn);\n *\n * // fn can now be used as if it were slow_fn\n * fn('some name', function() {\n *     // callback\n * });\n */\nfunction memoize(fn, hasher) {\n    var memo = Object.create(null);\n    var queues = Object.create(null);\n    hasher = hasher || identity;\n    var _fn = wrapAsync(fn);\n    var memoized = initialParams(function memoized(args, callback) {\n        var key = hasher.apply(null, args);\n        if (has(memo, key)) {\n            setImmediate$1(function() {\n                callback.apply(null, memo[key]);\n            });\n        } else if (has(queues, key)) {\n            queues[key].push(callback);\n        } else {\n            queues[key] = [callback];\n            _fn.apply(null, args.concat(function(/*args*/) {\n                var args = slice(arguments);\n                memo[key] = args;\n                var q = queues[key];\n                delete queues[key];\n                for (var i = 0, l = q.length; i < l; i++) {\n                    q[i].apply(null, args);\n                }\n            }));\n        }\n    });\n    memoized.memo = memo;\n    memoized.unmemoized = fn;\n    return memoized;\n}\n\n/**\n * Calls `callback` on a later loop around the event loop. In Node.js this just\n * calls `process.nextTick`.  In the browser it will use `setImmediate` if\n * available, otherwise `setTimeout(callback, 0)`, which means other higher\n * priority events may precede the execution of `callback`.\n *\n * This is used internally for browser-compatibility purposes.\n *\n * @name nextTick\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.setImmediate]{@link module:Utils.setImmediate}\n * @category Util\n * @param {Function} callback - The function to call on a later loop around\n * the event loop. Invoked with (args...).\n * @param {...*} args... - any number of additional arguments to pass to the\n * callback on the next tick.\n * @example\n *\n * var call_order = [];\n * async.nextTick(function() {\n *     call_order.push('two');\n *     // call_order now equals ['one','two']\n * });\n * call_order.push('one');\n *\n * async.setImmediate(function (a, b, c) {\n *     // a, b, and c equal 1, 2, and 3\n * }, 1, 2, 3);\n */\nvar _defer$1;\n\nif (hasNextTick) {\n    _defer$1 = process.nextTick;\n} else if (hasSetImmediate) {\n    _defer$1 = setImmediate;\n} else {\n    _defer$1 = fallback;\n}\n\nvar nextTick = wrap(_defer$1);\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || noop;\n    var results = isArrayLike(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        wrapAsync(task)(function (err, result) {\n            if (arguments.length > 2) {\n                result = slice(arguments, 1);\n            }\n            results[key] = result;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n    _parallel(eachOf, tasks, callback);\n}\n\n/**\n * The same as [`parallel`]{@link module:ControlFlow.parallel} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name parallelLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.parallel]{@link module:ControlFlow.parallel}\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n */\nfunction parallelLimit$1(tasks, limit, callback) {\n    _parallel(_eachOfLimit(limit), tasks, callback);\n}\n\n/**\n * A queue of tasks for the worker function to complete.\n * @typedef {Object} QueueObject\n * @memberOf module:ControlFlow\n * @property {Function} length - a function returning the number of items\n * waiting to be processed. Invoke with `queue.length()`.\n * @property {boolean} started - a boolean indicating whether or not any\n * items have been pushed and processed by the queue.\n * @property {Function} running - a function returning the number of items\n * currently being processed. Invoke with `queue.running()`.\n * @property {Function} workersList - a function returning the array of items\n * currently being processed. Invoke with `queue.workersList()`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke with `queue.idle()`.\n * @property {number} concurrency - an integer for determining how many `worker`\n * functions should be run in parallel. This property can be changed after a\n * `queue` is created to alter the concurrency on-the-fly.\n * @property {Function} push - add a new task to the `queue`. Calls `callback`\n * once the `worker` has finished processing the task. Instead of a single task,\n * a `tasks` array can be submitted. The respective callback is used for every\n * task in the list. Invoke with `queue.push(task, [callback])`,\n * @property {Function} unshift - add a new task to the front of the `queue`.\n * Invoke with `queue.unshift(task, [callback])`.\n * @property {Function} remove - remove items from the queue that match a test\n * function.  The test function will be passed an object with a `data` property,\n * and a `priority` property, if this is a\n * [priorityQueue]{@link module:ControlFlow.priorityQueue} object.\n * Invoked with `queue.remove(testFn)`, where `testFn` is of the form\n * `function ({data, priority}) {}` and returns a Boolean.\n * @property {Function} saturated - a callback that is called when the number of\n * running workers hits the `concurrency` limit, and further tasks will be\n * queued.\n * @property {Function} unsaturated - a callback that is called when the number\n * of running workers is less than the `concurrency` & `buffer` limits, and\n * further tasks will not be queued.\n * @property {number} buffer - A minimum threshold buffer in order to say that\n * the `queue` is `unsaturated`.\n * @property {Function} empty - a callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - a callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} error - a callback that is called when a task errors.\n * Has the signature `function(error, task)`.\n * @property {boolean} paused - a boolean for determining whether the queue is\n * in a paused state.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke with `queue.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke with `queue.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. No more tasks\n * should be pushed to the queue after calling this function. Invoke with `queue.kill()`.\n */\n\n/**\n * Creates a `queue` object with the specified `concurrency`. Tasks added to the\n * `queue` are processed in parallel (up to the `concurrency` limit). If all\n * `worker`s are in progress, the task is queued until one becomes available.\n * Once a `worker` completes a `task`, that `task`'s callback is called.\n *\n * @name queue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`. Invoked with (task, callback).\n * @param {number} [concurrency=1] - An `integer` for determining how many\n * `worker` functions should be run in parallel.  If omitted, the concurrency\n * defaults to `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the queue.\n * @example\n *\n * // create a queue object with concurrency 2\n * var q = async.queue(function(task, callback) {\n *     console.log('hello ' + task.name);\n *     callback();\n * }, 2);\n *\n * // assign a callback\n * q.drain = function() {\n *     console.log('all items have been processed');\n * };\n *\n * // add some items to the queue\n * q.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * q.push({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n *\n * // add some items to the queue (batch-wise)\n * q.push([{name: 'baz'},{name: 'bay'},{name: 'bax'}], function(err) {\n *     console.log('finished processing item');\n * });\n *\n * // add some items to the front of the queue\n * q.unshift({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n */\nvar queue$1 = function (worker, concurrency) {\n    var _worker = wrapAsync(worker);\n    return queue(function (items, cb) {\n        _worker(items[0], cb);\n    }, concurrency, 1);\n};\n\n/**\n * The same as [async.queue]{@link module:ControlFlow.queue} only tasks are assigned a priority and\n * completed in ascending priority order.\n *\n * @name priorityQueue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`.\n * Invoked with (task, callback).\n * @param {number} concurrency - An `integer` for determining how many `worker`\n * functions should be run in parallel.  If omitted, the concurrency defaults to\n * `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A priorityQueue object to manage the tasks. There are two\n * differences between `queue` and `priorityQueue` objects:\n * * `push(task, priority, [callback])` - `priority` should be a number. If an\n *   array of `tasks` is given, all tasks will be assigned the same priority.\n * * The `unshift` method was removed.\n */\nvar priorityQueue = function(worker, concurrency) {\n    // Start with a normal queue\n    var q = queue$1(worker, concurrency);\n\n    // Override push to accept second parameter representing priority\n    q.push = function(data, priority, callback) {\n        if (callback == null) callback = noop;\n        if (typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function() {\n                q.drain();\n            });\n        }\n\n        priority = priority || 0;\n        var nextNode = q._tasks.head;\n        while (nextNode && priority >= nextNode.priority) {\n            nextNode = nextNode.next;\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                priority: priority,\n                callback: callback\n            };\n\n            if (nextNode) {\n                q._tasks.insertBefore(nextNode, item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    };\n\n    // Remove unshift function\n    delete q.unshift;\n\n    return q;\n};\n\n/**\n * Runs the `tasks` array of functions in parallel, without waiting until the\n * previous function has completed. Once any of the `tasks` complete or pass an\n * error to its callback, the main `callback` is immediately called. It's\n * equivalent to `Promise.race()`.\n *\n * @name race\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array containing [async functions]{@link AsyncFunction}\n * to run. Each function can complete with an optional `result` value.\n * @param {Function} callback - A callback to run once any of the functions have\n * completed. This function gets an error or result from the first function that\n * completed. Invoked with (err, result).\n * @returns undefined\n * @example\n *\n * async.race([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // main callback\n * function(err, result) {\n *     // the result will be equal to 'two' as it finishes earlier\n * });\n */\nfunction race(tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new TypeError('First argument to race must be an array of functions'));\n    if (!tasks.length) return callback();\n    for (var i = 0, l = tasks.length; i < l; i++) {\n        wrapAsync(tasks[i])(callback);\n    }\n}\n\n/**\n * Same as [`reduce`]{@link module:Collections.reduce}, only operates on `array` in reverse order.\n *\n * @name reduceRight\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reduce]{@link module:Collections.reduce}\n * @alias foldr\n * @category Collection\n * @param {Array} array - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n */\nfunction reduceRight (array, memo, iteratee, callback) {\n    var reversed = slice(array).reverse();\n    reduce(reversed, memo, iteratee, callback);\n}\n\n/**\n * Wraps the async function in another function that always completes with a\n * result object, even when it errors.\n *\n * The result object has either the property `error` or `value`.\n *\n * @name reflect\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function you want to wrap\n * @returns {Function} - A function that always passes null to it's callback as\n * the error. The second argument to the callback will be an `object` with\n * either an `error` or a `value` property.\n * @example\n *\n * async.parallel([\n *     async.reflect(function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff but error ...\n *         callback('bad stuff happened');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     })\n * ],\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = 'bad stuff happened'\n *     // results[2].value = 'two'\n * });\n */\nfunction reflect(fn) {\n    var _fn = wrapAsync(fn);\n    return initialParams(function reflectOn(args, reflectCallback) {\n        args.push(function callback(error, cbArg) {\n            if (error) {\n                reflectCallback(null, { error: error });\n            } else {\n                var value;\n                if (arguments.length <= 2) {\n                    value = cbArg;\n                } else {\n                    value = slice(arguments, 1);\n                }\n                reflectCallback(null, { value: value });\n            }\n        });\n\n        return _fn.apply(this, args);\n    });\n}\n\n/**\n * A helper function that wraps an array or an object of functions with `reflect`.\n *\n * @name reflectAll\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.reflect]{@link module:Utils.reflect}\n * @category Util\n * @param {Array|Object|Iterable} tasks - The collection of\n * [async functions]{@link AsyncFunction} to wrap in `async.reflect`.\n * @returns {Array} Returns an array of async functions, each wrapped in\n * `async.reflect`\n * @example\n *\n * let tasks = [\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         // do some more stuff but error ...\n *         callback(new Error('bad stuff happened'));\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ];\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = Error('bad stuff happened')\n *     // results[2].value = 'two'\n * });\n *\n * // an example using an object instead of an array\n * let tasks = {\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         callback('two');\n *     },\n *     three: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'three');\n *         }, 100);\n *     }\n * };\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results.one.value = 'one'\n *     // results.two.error = 'two'\n *     // results.three.value = 'three'\n * });\n */\nfunction reflectAll(tasks) {\n    var results;\n    if (isArray(tasks)) {\n        results = arrayMap(tasks, reflect);\n    } else {\n        results = {};\n        baseForOwn(tasks, function(task, key) {\n            results[key] = reflect.call(this, task);\n        });\n    }\n    return results;\n}\n\nfunction reject$1(eachfn, arr, iteratee, callback) {\n    _filter(eachfn, arr, function(value, cb) {\n        iteratee(value, function(err, v) {\n            cb(err, !v);\n        });\n    }, callback);\n}\n\n/**\n * The opposite of [`filter`]{@link module:Collections.filter}. Removes values that pass an `async` truth test.\n *\n * @name reject\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.reject(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of missing files\n *     createFiles(results);\n * });\n */\nvar reject = doParallel(reject$1);\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name rejectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectLimit = doParallelLimit(reject$1);\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs only a single async operation at a time.\n *\n * @name rejectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectSeries = doLimit(rejectLimit, 1);\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant$1(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * Attempts to get a successful response from `task` no more than `times` times\n * before returning an error. If the task is successful, the `callback` will be\n * passed the result of the successful task. If all attempts fail, the callback\n * will be passed the error and result (if any) of the final attempt.\n *\n * @name retry\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @see [async.retryable]{@link module:ControlFlow.retryable}\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - Can be either an\n * object with `times` and `interval` or a number.\n * * `times` - The number of attempts to make before giving up.  The default\n *   is `5`.\n * * `interval` - The time to wait between retries, in milliseconds.  The\n *   default is `0`. The interval may also be specified as a function of the\n *   retry count (see example).\n * * `errorFilter` - An optional synchronous function that is invoked on\n *   erroneous result. If it returns `true` the retry attempts will continue;\n *   if the function returns `false` the retry flow is aborted with the current\n *   attempt's error and result being returned to the final callback.\n *   Invoked with (err).\n * * If `opts` is a number, the number specifies the number of times to retry,\n *   with the default interval of `0`.\n * @param {AsyncFunction} task - An async function to retry.\n * Invoked with (callback).\n * @param {Function} [callback] - An optional callback which is called when the\n * task has succeeded, or after the final failed attempt. It receives the `err`\n * and `result` arguments of the last attempt at completing the `task`. Invoked\n * with (err, results).\n *\n * @example\n *\n * // The `retry` function can be used as a stand-alone control flow by passing\n * // a callback, as shown below:\n *\n * // try calling apiMethod 3 times\n * async.retry(3, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 3 times, waiting 200 ms between each retry\n * async.retry({times: 3, interval: 200}, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 10 times with exponential backoff\n * // (i.e. intervals of 100, 200, 400, 800, 1600, ... milliseconds)\n * async.retry({\n *   times: 10,\n *   interval: function(retryCount) {\n *     return 50 * Math.pow(2, retryCount);\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod the default 5 times no delay between each retry\n * async.retry(apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod only when error condition satisfies, all other\n * // errors will abort the retry control flow and return to final callback\n * async.retry({\n *   errorFilter: function(err) {\n *     return err.message === 'Temporary error'; // only retry on a specific error\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // to retry individual methods that are not as reliable within other\n * // control flow functions, use the `retryable` wrapper:\n * async.auto({\n *     users: api.getUsers.bind(api),\n *     payments: async.retryable(3, api.getPayments.bind(api))\n * }, function(err, results) {\n *     // do something with the results\n * });\n *\n */\nfunction retry(opts, task, callback) {\n    var DEFAULT_TIMES = 5;\n    var DEFAULT_INTERVAL = 0;\n\n    var options = {\n        times: DEFAULT_TIMES,\n        intervalFunc: constant$1(DEFAULT_INTERVAL)\n    };\n\n    function parseTimes(acc, t) {\n        if (typeof t === 'object') {\n            acc.times = +t.times || DEFAULT_TIMES;\n\n            acc.intervalFunc = typeof t.interval === 'function' ?\n                t.interval :\n                constant$1(+t.interval || DEFAULT_INTERVAL);\n\n            acc.errorFilter = t.errorFilter;\n        } else if (typeof t === 'number' || typeof t === 'string') {\n            acc.times = +t || DEFAULT_TIMES;\n        } else {\n            throw new Error(\"Invalid arguments for async.retry\");\n        }\n    }\n\n    if (arguments.length < 3 && typeof opts === 'function') {\n        callback = task || noop;\n        task = opts;\n    } else {\n        parseTimes(options, opts);\n        callback = callback || noop;\n    }\n\n    if (typeof task !== 'function') {\n        throw new Error(\"Invalid arguments for async.retry\");\n    }\n\n    var _task = wrapAsync(task);\n\n    var attempt = 1;\n    function retryAttempt() {\n        _task(function(err) {\n            if (err && attempt++ < options.times &&\n                (typeof options.errorFilter != 'function' ||\n                    options.errorFilter(err))) {\n                setTimeout(retryAttempt, options.intervalFunc(attempt));\n            } else {\n                callback.apply(null, arguments);\n            }\n        });\n    }\n\n    retryAttempt();\n}\n\n/**\n * A close relative of [`retry`]{@link module:ControlFlow.retry}.  This method\n * wraps a task and makes it retryable, rather than immediately calling it\n * with retries.\n *\n * @name retryable\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.retry]{@link module:ControlFlow.retry}\n * @category Control Flow\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - optional\n * options, exactly the same as from `retry`\n * @param {AsyncFunction} task - the asynchronous function to wrap.\n * This function will be passed any arguments passed to the returned wrapper.\n * Invoked with (...args, callback).\n * @returns {AsyncFunction} The wrapped function, which when invoked, will\n * retry on an error, based on the parameters specified in `opts`.\n * This function will accept the same parameters as `task`.\n * @example\n *\n * async.auto({\n *     dep1: async.retryable(3, getFromFlakyService),\n *     process: [\"dep1\", async.retryable(3, function (results, cb) {\n *         maybeProcessData(results.dep1, cb);\n *     })]\n * }, callback);\n */\nvar retryable = function (opts, task) {\n    if (!task) {\n        task = opts;\n        opts = null;\n    }\n    var _task = wrapAsync(task);\n    return initialParams(function (args, callback) {\n        function taskFn(cb) {\n            _task.apply(null, args.concat(cb));\n        }\n\n        if (opts) retry(opts, taskFn, callback);\n        else retry(taskFn, callback);\n\n    });\n};\n\n/**\n * Run the functions in the `tasks` collection in series, each one running once\n * the previous function has completed. If any functions in the series pass an\n * error to its callback, no more functions are run, and `callback` is\n * immediately called with the value of the error. Otherwise, `callback`\n * receives an array of results when `tasks` have completed.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function, and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n *  results from {@link async.series}.\n *\n * **Note** that while many implementations preserve the order of object\n * properties, the [ECMAScript Language Specification](http://www.ecma-international.org/ecma-262/5.1/#sec-8.6)\n * explicitly states that\n *\n * > The mechanics and order of enumerating the properties is not specified.\n *\n * So if you rely on the order in which your series of functions are executed,\n * and want this to work on all platforms, consider using an array.\n *\n * @name series\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection containing\n * [async functions]{@link AsyncFunction} to run in series.\n * Each function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This function gets a results array (or object)\n * containing all the result arguments passed to the `task` callbacks. Invoked\n * with (err, result).\n * @example\n * async.series([\n *     function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     },\n *     function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // results is now equal to ['one', 'two']\n * });\n *\n * async.series({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback){\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equal to: {one: 1, two: 2}\n * });\n */\nfunction series(tasks, callback) {\n    _parallel(eachOfSeries, tasks, callback);\n}\n\n/**\n * Returns `true` if at least one element in the `coll` satisfies an async test.\n * If any iteratee call returns `true`, the main `callback` is immediately\n * called.\n *\n * @name some\n * @static\n * @memberOf module:Collections\n * @method\n * @alias any\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n * @example\n *\n * async.some(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then at least one of the files exists\n * });\n */\nvar some = doParallel(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs a maximum of `limit` async operations at a time.\n *\n * @name someLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anyLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someLimit = doParallelLimit(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs only a single async operation at a time.\n *\n * @name someSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anySeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in series.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someSeries = doLimit(someLimit, 1);\n\n/**\n * Sorts a list by the results of running each `coll` value through an async\n * `iteratee`.\n *\n * @name sortBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a value to use as the sort criteria as\n * its `result`.\n * Invoked with (item, callback).\n * @param {Function} callback - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is the items\n * from the original `coll` sorted by the values returned by the `iteratee`\n * calls. Invoked with (err, results).\n * @example\n *\n * async.sortBy(['file1','file2','file3'], function(file, callback) {\n *     fs.stat(file, function(err, stats) {\n *         callback(err, stats.mtime);\n *     });\n * }, function(err, results) {\n *     // results is now the original array of files sorted by\n *     // modified date\n * });\n *\n * // By modifying the callback parameter the\n * // sorting order can be influenced:\n *\n * // ascending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x);\n * }, function(err,result) {\n *     // result callback\n * });\n *\n * // descending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x*-1);    //<- x*-1 instead of x, turns the order around\n * }, function(err,result) {\n *     // result callback\n * });\n */\nfunction sortBy (coll, iteratee, callback) {\n    var _iteratee = wrapAsync(iteratee);\n    map(coll, function (x, callback) {\n        _iteratee(x, function (err, criteria) {\n            if (err) return callback(err);\n            callback(null, {value: x, criteria: criteria});\n        });\n    }, function (err, results) {\n        if (err) return callback(err);\n        callback(null, arrayMap(results.sort(comparator), baseProperty('value')));\n    });\n\n    function comparator(left, right) {\n        var a = left.criteria, b = right.criteria;\n        return a < b ? -1 : a > b ? 1 : 0;\n    }\n}\n\n/**\n * Sets a time limit on an asynchronous function. If the function does not call\n * its callback within the specified milliseconds, it will be called with a\n * timeout error. The code property for the error object will be `'ETIMEDOUT'`.\n *\n * @name timeout\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} asyncFn - The async function to limit in time.\n * @param {number} milliseconds - The specified time limit.\n * @param {*} [info] - Any variable you want attached (`string`, `object`, etc)\n * to timeout Error for more information..\n * @returns {AsyncFunction} Returns a wrapped function that can be used with any\n * of the control flow functions.\n * Invoke this function with the same parameters as you would `asyncFunc`.\n * @example\n *\n * function myFunction(foo, callback) {\n *     doAsyncTask(foo, function(err, data) {\n *         // handle errors\n *         if (err) return callback(err);\n *\n *         // do some stuff ...\n *\n *         // return processed data\n *         return callback(null, data);\n *     });\n * }\n *\n * var wrapped = async.timeout(myFunction, 1000);\n *\n * // call `wrapped` as you would `myFunction`\n * wrapped({ bar: 'bar' }, function(err, data) {\n *     // if `myFunction` takes < 1000 ms to execute, `err`\n *     // and `data` will have their expected values\n *\n *     // else `err` will be an Error with the code 'ETIMEDOUT'\n * });\n */\nfunction timeout(asyncFn, milliseconds, info) {\n    var fn = wrapAsync(asyncFn);\n\n    return initialParams(function (args, callback) {\n        var timedOut = false;\n        var timer;\n\n        function timeoutCallback() {\n            var name = asyncFn.name || 'anonymous';\n            var error  = new Error('Callback function \"' + name + '\" timed out.');\n            error.code = 'ETIMEDOUT';\n            if (info) {\n                error.info = info;\n            }\n            timedOut = true;\n            callback(error);\n        }\n\n        args.push(function () {\n            if (!timedOut) {\n                callback.apply(null, arguments);\n                clearTimeout(timer);\n            }\n        });\n\n        // setup timer and call original function\n        timer = setTimeout(timeoutCallback, milliseconds);\n        fn.apply(null, args);\n    });\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name timesLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} count - The number of times to run the function.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see [async.map]{@link module:Collections.map}.\n */\nfunction timeLimit(count, limit, iteratee, callback) {\n    var _iteratee = wrapAsync(iteratee);\n    mapLimit(baseRange(0, count, 1), limit, _iteratee, callback);\n}\n\n/**\n * Calls the `iteratee` function `n` times, and accumulates results in the same\n * manner you would use with [map]{@link module:Collections.map}.\n *\n * @name times\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n * @example\n *\n * // Pretend this is some complicated async factory\n * var createUser = function(id, callback) {\n *     callback(null, {\n *         id: 'user' + id\n *     });\n * };\n *\n * // generate 5 users\n * async.times(5, function(n, next) {\n *     createUser(n, function(err, user) {\n *         next(err, user);\n *     });\n * }, function(err, users) {\n *     // we should now have 5 users\n * });\n */\nvar times = doLimit(timeLimit, Infinity);\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs only a single async operation at a time.\n *\n * @name timesSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n */\nvar timesSeries = doLimit(timeLimit, 1);\n\n/**\n * A relative of `reduce`.  Takes an Object or Array, and iterates over each\n * element in series, each step potentially mutating an `accumulator` value.\n * The type of the accumulator defaults to the type of collection passed in.\n *\n * @name transform\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} [accumulator] - The initial state of the transform.  If omitted,\n * it will default to an empty Object or Array, depending on the type of `coll`\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * collection that potentially modifies the accumulator.\n * Invoked with (accumulator, item, key, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the transformed accumulator.\n * Invoked with (err, result).\n * @example\n *\n * async.transform([1,2,3], function(acc, item, index, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         acc.push(item * 2)\n *         callback(null)\n *     });\n * }, function(err, result) {\n *     // result is now equal to [2, 4, 6]\n * });\n *\n * @example\n *\n * async.transform({a: 1, b: 2, c: 3}, function (obj, val, key, callback) {\n *     setImmediate(function () {\n *         obj[key] = val * 2;\n *         callback();\n *     })\n * }, function (err, result) {\n *     // result is equal to {a: 2, b: 4, c: 6}\n * })\n */\nfunction transform (coll, accumulator, iteratee, callback) {\n    if (arguments.length <= 3) {\n        callback = iteratee;\n        iteratee = accumulator;\n        accumulator = isArray(coll) ? [] : {};\n    }\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync(iteratee);\n\n    eachOf(coll, function(v, k, cb) {\n        _iteratee(accumulator, v, k, cb);\n    }, function(err) {\n        callback(err, accumulator);\n    });\n}\n\n/**\n * It runs each task in series but stops whenever any of the functions were\n * successful. If one of the tasks were successful, the `callback` will be\n * passed the result of the successful task. If all tasks fail, the callback\n * will be passed the error and result (if any) of the final attempt.\n *\n * @name tryEach\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection containing functions to\n * run, each function is passed a `callback(err, result)` it must call on\n * completion with an error `err` (which can be `null`) and an optional `result`\n * value.\n * @param {Function} [callback] - An optional callback which is called when one\n * of the tasks has succeeded, or all have failed. It receives the `err` and\n * `result` arguments of the last attempt at completing the `task`. Invoked with\n * (err, results).\n * @example\n * async.tryEach([\n *     function getDataFromFirstWebsite(callback) {\n *         // Try getting the data from the first website\n *         callback(err, data);\n *     },\n *     function getDataFromSecondWebsite(callback) {\n *         // First website failed,\n *         // Try getting the data from the backup website\n *         callback(err, data);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     Now do something with the data.\n * });\n *\n */\nfunction tryEach(tasks, callback) {\n    var error = null;\n    var result;\n    callback = callback || noop;\n    eachSeries(tasks, function(task, callback) {\n        wrapAsync(task)(function (err, res/*, ...args*/) {\n            if (arguments.length > 2) {\n                result = slice(arguments, 1);\n            } else {\n                result = res;\n            }\n            error = err;\n            callback(!err);\n        });\n    }, function () {\n        callback(error, result);\n    });\n}\n\n/**\n * Undoes a [memoize]{@link module:Utils.memoize}d function, reverting it to the original,\n * unmemoized form. Handy for testing.\n *\n * @name unmemoize\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.memoize]{@link module:Utils.memoize}\n * @category Util\n * @param {AsyncFunction} fn - the memoized function\n * @returns {AsyncFunction} a function that calls the original unmemoized function\n */\nfunction unmemoize(fn) {\n    return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n    };\n}\n\n/**\n * Repeatedly call `iteratee`, while `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs.\n *\n * @name whilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n * @returns undefined\n * @example\n *\n * var count = 0;\n * async.whilst(\n *     function() { return count < 5; },\n *     function(callback) {\n *         count++;\n *         setTimeout(function() {\n *             callback(null, count);\n *         }, 1000);\n *     },\n *     function (err, n) {\n *         // 5 seconds have passed, n = 5\n *     }\n * );\n */\nfunction whilst(test, iteratee, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync(iteratee);\n    if (!test()) return callback(null);\n    var next = function(err/*, ...args*/) {\n        if (err) return callback(err);\n        if (test()) return _iteratee(next);\n        var args = slice(arguments, 1);\n        callback.apply(null, [null].concat(args));\n    };\n    _iteratee(next);\n}\n\n/**\n * Repeatedly call `iteratee` until `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs. `callback` will be passed an error and any\n * arguments passed to the final `iteratee`'s callback.\n *\n * The inverse of [whilst]{@link module:ControlFlow.whilst}.\n *\n * @name until\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction until(test, iteratee, callback) {\n    whilst(function() {\n        return !test.apply(this, arguments);\n    }, iteratee, callback);\n}\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */\nvar waterfall = function(tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = wrapAsync(tasks[taskIndex++]);\n        args.push(onlyOnce(next));\n        task.apply(null, args);\n    }\n\n    function next(err/*, ...args*/) {\n        if (err || taskIndex === tasks.length) {\n            return callback.apply(null, arguments);\n        }\n        nextTask(slice(arguments, 1));\n    }\n\n    nextTask([]);\n};\n\n/**\n * An \"async function\" in the context of Async is an asynchronous function with\n * a variable number of parameters, with the final parameter being a callback.\n * (`function (arg1, arg2, ..., callback) {}`)\n * The final callback is of the form `callback(err, results...)`, which must be\n * called once the function is completed.  The callback should be called with a\n * Error as its first argument to signal that an error occurred.\n * Otherwise, if no error occurred, it should be called with `null` as the first\n * argument, and any additional `result` arguments that may apply, to signal\n * successful completion.\n * The callback must be called exactly once, ideally on a later tick of the\n * JavaScript event loop.\n *\n * This type of function is also referred to as a \"Node-style async function\",\n * or a \"continuation passing-style function\" (CPS). Most of the methods of this\n * library are themselves CPS/Node-style async functions, or functions that\n * return CPS/Node-style async functions.\n *\n * Wherever we accept a Node-style async function, we also directly accept an\n * [ES2017 `async` function]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function}.\n * In this case, the `async` function will not be passed a final callback\n * argument, and any thrown error will be used as the `err` argument of the\n * implicit callback, and the return value will be used as the `result` value.\n * (i.e. a `rejected` of the returned Promise becomes the `err` callback\n * argument, and a `resolved` value becomes the `result`.)\n *\n * Note, due to JavaScript limitations, we can only detect native `async`\n * functions and not transpilied implementations.\n * Your environment must have `async`/`await` support for this to work.\n * (e.g. Node > v7.6, or a recent version of a modern browser).\n * If you are using `async` functions through a transpiler (e.g. Babel), you\n * must still wrap the function with [asyncify]{@link module:Utils.asyncify},\n * because the `async function` will be compiled to an ordinary function that\n * returns a promise.\n *\n * @typedef {Function} AsyncFunction\n * @static\n */\n\n/**\n * Async is a utility module which provides straight-forward, powerful functions\n * for working with asynchronous JavaScript. Although originally designed for\n * use with [Node.js](http://nodejs.org) and installable via\n * `npm install --save async`, it can also be used directly in the browser.\n * @module async\n * @see AsyncFunction\n */\n\n\n/**\n * A collection of `async` functions for manipulating collections, such as\n * arrays and objects.\n * @module Collections\n */\n\n/**\n * A collection of `async` functions for controlling the flow through a script.\n * @module ControlFlow\n */\n\n/**\n * A collection of `async` utility functions.\n * @module Utils\n */\n\nvar index = {\n    apply: apply,\n    applyEach: applyEach,\n    applyEachSeries: applyEachSeries,\n    asyncify: asyncify,\n    auto: auto,\n    autoInject: autoInject,\n    cargo: cargo,\n    compose: compose,\n    concat: concat,\n    concatLimit: concatLimit,\n    concatSeries: concatSeries,\n    constant: constant,\n    detect: detect,\n    detectLimit: detectLimit,\n    detectSeries: detectSeries,\n    dir: dir,\n    doDuring: doDuring,\n    doUntil: doUntil,\n    doWhilst: doWhilst,\n    during: during,\n    each: eachLimit,\n    eachLimit: eachLimit$1,\n    eachOf: eachOf,\n    eachOfLimit: eachOfLimit,\n    eachOfSeries: eachOfSeries,\n    eachSeries: eachSeries,\n    ensureAsync: ensureAsync,\n    every: every,\n    everyLimit: everyLimit,\n    everySeries: everySeries,\n    filter: filter,\n    filterLimit: filterLimit,\n    filterSeries: filterSeries,\n    forever: forever,\n    groupBy: groupBy,\n    groupByLimit: groupByLimit,\n    groupBySeries: groupBySeries,\n    log: log,\n    map: map,\n    mapLimit: mapLimit,\n    mapSeries: mapSeries,\n    mapValues: mapValues,\n    mapValuesLimit: mapValuesLimit,\n    mapValuesSeries: mapValuesSeries,\n    memoize: memoize,\n    nextTick: nextTick,\n    parallel: parallelLimit,\n    parallelLimit: parallelLimit$1,\n    priorityQueue: priorityQueue,\n    queue: queue$1,\n    race: race,\n    reduce: reduce,\n    reduceRight: reduceRight,\n    reflect: reflect,\n    reflectAll: reflectAll,\n    reject: reject,\n    rejectLimit: rejectLimit,\n    rejectSeries: rejectSeries,\n    retry: retry,\n    retryable: retryable,\n    seq: seq,\n    series: series,\n    setImmediate: setImmediate$1,\n    some: some,\n    someLimit: someLimit,\n    someSeries: someSeries,\n    sortBy: sortBy,\n    timeout: timeout,\n    times: times,\n    timesLimit: timeLimit,\n    timesSeries: timesSeries,\n    transform: transform,\n    tryEach: tryEach,\n    unmemoize: unmemoize,\n    until: until,\n    waterfall: waterfall,\n    whilst: whilst,\n\n    // aliases\n    all: every,\n    allLimit: everyLimit,\n    allSeries: everySeries,\n    any: some,\n    anyLimit: someLimit,\n    anySeries: someSeries,\n    find: detect,\n    findLimit: detectLimit,\n    findSeries: detectSeries,\n    forEach: eachLimit,\n    forEachSeries: eachSeries,\n    forEachLimit: eachLimit$1,\n    forEachOf: eachOf,\n    forEachOfSeries: eachOfSeries,\n    forEachOfLimit: eachOfLimit,\n    inject: reduce,\n    foldl: reduce,\n    foldr: reduceRight,\n    select: filter,\n    selectLimit: filterLimit,\n    selectSeries: filterSeries,\n    wrapSync: asyncify\n};\n\nexports['default'] = index;\nexports.apply = apply;\nexports.applyEach = applyEach;\nexports.applyEachSeries = applyEachSeries;\nexports.asyncify = asyncify;\nexports.auto = auto;\nexports.autoInject = autoInject;\nexports.cargo = cargo;\nexports.compose = compose;\nexports.concat = concat;\nexports.concatLimit = concatLimit;\nexports.concatSeries = concatSeries;\nexports.constant = constant;\nexports.detect = detect;\nexports.detectLimit = detectLimit;\nexports.detectSeries = detectSeries;\nexports.dir = dir;\nexports.doDuring = doDuring;\nexports.doUntil = doUntil;\nexports.doWhilst = doWhilst;\nexports.during = during;\nexports.each = eachLimit;\nexports.eachLimit = eachLimit$1;\nexports.eachOf = eachOf;\nexports.eachOfLimit = eachOfLimit;\nexports.eachOfSeries = eachOfSeries;\nexports.eachSeries = eachSeries;\nexports.ensureAsync = ensureAsync;\nexports.every = every;\nexports.everyLimit = everyLimit;\nexports.everySeries = everySeries;\nexports.filter = filter;\nexports.filterLimit = filterLimit;\nexports.filterSeries = filterSeries;\nexports.forever = forever;\nexports.groupBy = groupBy;\nexports.groupByLimit = groupByLimit;\nexports.groupBySeries = groupBySeries;\nexports.log = log;\nexports.map = map;\nexports.mapLimit = mapLimit;\nexports.mapSeries = mapSeries;\nexports.mapValues = mapValues;\nexports.mapValuesLimit = mapValuesLimit;\nexports.mapValuesSeries = mapValuesSeries;\nexports.memoize = memoize;\nexports.nextTick = nextTick;\nexports.parallel = parallelLimit;\nexports.parallelLimit = parallelLimit$1;\nexports.priorityQueue = priorityQueue;\nexports.queue = queue$1;\nexports.race = race;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reflect = reflect;\nexports.reflectAll = reflectAll;\nexports.reject = reject;\nexports.rejectLimit = rejectLimit;\nexports.rejectSeries = rejectSeries;\nexports.retry = retry;\nexports.retryable = retryable;\nexports.seq = seq;\nexports.series = series;\nexports.setImmediate = setImmediate$1;\nexports.some = some;\nexports.someLimit = someLimit;\nexports.someSeries = someSeries;\nexports.sortBy = sortBy;\nexports.timeout = timeout;\nexports.times = times;\nexports.timesLimit = timeLimit;\nexports.timesSeries = timesSeries;\nexports.transform = transform;\nexports.tryEach = tryEach;\nexports.unmemoize = unmemoize;\nexports.until = until;\nexports.waterfall = waterfall;\nexports.whilst = whilst;\nexports.all = every;\nexports.allLimit = everyLimit;\nexports.allSeries = everySeries;\nexports.any = some;\nexports.anyLimit = someLimit;\nexports.anySeries = someSeries;\nexports.find = detect;\nexports.findLimit = detectLimit;\nexports.findSeries = detectSeries;\nexports.forEach = eachLimit;\nexports.forEachSeries = eachSeries;\nexports.forEachLimit = eachLimit$1;\nexports.forEachOf = eachOf;\nexports.forEachOfSeries = eachOfSeries;\nexports.forEachOfLimit = eachOfLimit;\nexports.inject = reduce;\nexports.foldl = reduce;\nexports.foldr = reduceRight;\nexports.select = filter;\nexports.selectLimit = filterLimit;\nexports.selectSeries = filterSeries;\nexports.wrapSync = asyncify;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import * as vscode from 'vscode';\nimport { ExtensionContext } from 'vscode';\nimport debounce from 'lodash/debounce';\n\nimport { LintCollection } from '../lint/lintCollection';\nimport { Config as LintConfig } from '../lint/lintConfig';\n\nfunction getGlobalLintConfig() : LintConfig {\n\tlet globalConfig = new LintConfig();\n\n\tlet pathToRuby = vscode.workspace.getConfiguration(\"ruby.interpreter\").commandPath;\n\tif (pathToRuby) {\n\t\tglobalConfig.pathToRuby = pathToRuby;\n\t}\n\n\tlet useBundler = vscode.workspace.getConfiguration(\"ruby\").get<boolean | null>(\"useBundler\");\n\tif (useBundler !== null) {\n\t\tglobalConfig.useBundler = useBundler;\n\t}\n\n\tlet pathToBundler = vscode.workspace.getConfiguration(\"ruby\").pathToBundler;\n\tif (pathToBundler) {\n\t\tglobalConfig.pathToBundler = pathToBundler;\n\t}\n\treturn globalConfig;\n}\n\nexport function registerLinters(ctx: ExtensionContext) {\n\tconst globalConfig = getGlobalLintConfig();\n\tconst linters = new LintCollection(globalConfig, vscode.workspace.getConfiguration(\"ruby\").lint, vscode.workspace.rootPath);\n\tctx.subscriptions.push(linters);\n\n\tfunction executeLinting(e: vscode.TextEditor | vscode.TextDocumentChangeEvent) {\n\t\tif (!e) return;\n\t\tlinters.run(e.document);\n\t}\n\n\t// Debounce linting to prevent running on every keypress, only run when typing has stopped\n\tconst lintDebounceTime = vscode.workspace.getConfiguration('ruby').lintDebounceTime;\n\tconst executeDebouncedLinting = debounce(executeLinting, lintDebounceTime);\n\n\tctx.subscriptions.push(vscode.window.onDidChangeActiveTextEditor(executeLinting));\n\tctx.subscriptions.push(vscode.workspace.onDidChangeTextDocument(executeDebouncedLinting));\n\tctx.subscriptions.push(vscode.workspace.onDidChangeConfiguration(() => {\n\t\tconst docs = vscode.window.visibleTextEditors.map(editor => editor.document);\n\t\tconsole.log(\"Config changed. Should lint:\", docs.length);\n\t\tconst globalConfig = getGlobalLintConfig();\n\t\tlinters.cfg(vscode.workspace.getConfiguration(\"ruby\").lint, globalConfig);\n\t\tdocs.forEach(doc => linters.run(doc));\n\t}));\n\n\t// run against all of the current open files\n\tvscode.window.visibleTextEditors.forEach(executeLinting);\n}","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","'use strict';\n\nimport { Config } from './lintConfig';\nimport Linter from './lib/linter';\nimport LintResults from './lib/lintResults';\n\nexport class LintCollection {\n\tprivate _results: any;\n\tprivate _docLinters: any;\n\tprivate _cfg: { [key: string]: Config };\n\tprivate _rootPath: string;\n\tprivate _globalConfig: Config;\n\n\tconstructor(globalConfig : Config, lintConfig : { [key: string]: Config }, rootPath) {\n\t\tthis._results = {};\n\t\tthis._docLinters = {};\n\t\tthis._globalConfig = globalConfig;\n\t\tthis._cfg = {};\n\t\tthis.cfg(lintConfig, globalConfig);\n\t\tthis._rootPath = rootPath;\n\t}\n\n\tpublic run(doc) {\n\t\tif (!doc) return;\n\t\tif (doc.languageId !== 'ruby') return;\n\t\tif (!this._docLinters[doc.fileName] || this._docLinters[doc.fileName].doc != doc)\n\t\t\tthis._docLinters[doc.fileName] = new Linter(\n\t\t\t\tdoc,\n\t\t\t\tthis._rootPath,\n\t\t\t\tthis._update.bind(this, doc)\n\t\t\t);\n\t\tthis._docLinters[doc.fileName].run(this._cfg);\n\t}\n\n\tpublic _update(doc, result) {\n\t\tconst linter = result.linter;\n\t\tif (!this._results[linter]) this._results[linter] = new LintResults(linter);\n\t\tthis._results[linter].updateForFile(doc.uri, result);\n\t\treturn Promise.resolve();\n\t}\n\n\tpublic cfg(newConfig, globalConfig) {\n\t\tlet activeLinters = Object.keys(this._cfg);\n\t\tlet toRemove = activeLinters.filter(l => !(l in newConfig) || !newConfig[l]);\n\t\ttoRemove.forEach(l => {\n\t\t\tif (this._results[l]) {\n\t\t\t\tthis._results[l].dispose();\n\t\t\t\tdelete this._results[l];\n\t\t\t}\n\t\t\tdelete this._cfg[l];\n\t\t});\n\t\t// we change the config internally, so that the config of any (awaiting) linters will be updated by reference\n\t\tfor (let l in newConfig) {\n\t\t\tif (newConfig[l]) this._cfg[l] = Object.assign({}, newConfig[l], globalConfig);\n\t\t}\n\t}\n\n\tpublic dispose() {\n\t\tfor (let l in this._results) this._results[l].dispose();\n\t}\n}\n","'use strict';\n\nimport {workspace} from 'vscode';\n\nconst fs = require('./fsPromise'),\n\tpath = require('path'),\n\tos = require('os'),\n\tcp = require('child_process');\n\n// load linters\nconst lintBuilders = {\n\tdebride: require('./linters/debride'),\n\tfasterer: require('./linters/fasterer'),\n\treek: require('./linters/reek'),\n\trubocop: require('./linters/RuboCop'),\n\t'ruby-lint': require('./linters/ruby-lint'),\n\truby: require('./linters/Ruby')\n};\n\nexport default class Linter {\n\tconstructor(doc, rootPath, cb) {\n\t\tthis.doc = doc;\n\t\tthis.rootPath = rootPath;\n\t\tthis.cb = cb;\n\t\tthis.linting = {};\n\t\tthis.cfg = {};\n\t}\n\trun(cfg) { // cfg can change over time\n\t\tif (this.timer) clearTimeout(this.timer);\n\t\tthis.cfg = cfg;\n\t\tfor (let l in cfg) {\n\t\t\tif (!this.linting[l]) this.linting[l] = {};\n\t\t\tthis.linting[l].pend = true;\n\t\t}\n\t\treturn this._runLinters();\n\t}\n\t_copySettings(settings, basePath, tmpDir) {\n\t\tconst opName = path.join(tmpDir, settings);\n\t\tlet sourcePath = basePath.slice();\n\t\tlet sourceFile;\n\t\twhile (!sourceFile) {\n\t\t\ttry {\n\t\t\t\tfs.accessSync(path.join(sourcePath, settings), fs.R_OK);\n\t\t\t\tsourceFile = path.join(sourcePath, settings);\n\t\t\t} catch (e) {\n\t\t\t\tconst tmpPath = path.dirname(sourcePath);\n\t\t\t\tif (tmpPath === sourcePath) break;\n\t\t\t\tsourcePath = tmpPath;\n\t\t\t}\n\t\t}\n\t\tif (!sourceFile) {\n\t\t\t//try home\n\t\t\ttry {\n\t\t\t\tsourceFile = path.join(process.env.HOME, (settings.startsWith('.') ? '' : '.') + settings);\n\t\t\t\tfs.accessSync(sourceFile, fs.R_OK);\n\t\t\t} catch (e) {\n\t\t\t\treturn Promise.resolve(); //none to be had\n\t\t\t}\n\t\t}\n\t\treturn fs.link(sourceFile, opName).then(() => opName);\n\t}\n\t_detectBundledLinter(name, cwd) {\n\t\tlet useBundler  = this.cfg[name].useBundler;\n\t\tif (useBundler !== undefined) {\n\t\t\treturn useBundler;\n\t\t}\n\n\t\tlet pathToBundler = this.cfg[name].pathToBundler || 'bundle';\n\t\ttry {\n\t\t\tcp.execSync(`${pathToBundler} show ${name}`, { cwd });\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t_getLinterPath(svc) {\n\t\tconst workspaceRoot = workspace.rootPath;\n\t\tlet svcPath = svc.path || \"\";\n\t\tsvcPath = svcPath.replace('${workspaceRoot}', workspaceRoot);\n\t\treturn svcPath;\n\t}\n\t_getLinterCmd(svc, cmdOpts) {\n\t\tconst args = svc.args.map(arg => arg.replace(\"{path}\", cmdOpts.file || \"\"));\n\t\tlet svcPath = this._getLinterPath(svc);\n\n\t\t// Try bundler for the linter\n\t\t// otherwise fallback to the path + the exe name\n\t\tif (svcPath.length === 0 && this._detectBundledLinter(svc.exe, cmdOpts.dir)) {\n\t\t\tsvcPath = this.cfg[svc.exe].pathToBundler;\n\t\t\targs.unshift('exec', svc.exe);\n\t\t} else {\n\t\t\tsvcPath = path.join(svcPath, svc.exe + svc.ext);\n\t\t}\n\n\t\treturn [svcPath, args];\n\t}\n\t_exeLinter(svc, cmdOpts) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst [svcPath, args] = this._getLinterCmd(svc, cmdOpts);\n\t\t\t\tconst spawned = cp.spawn(svcPath, args, {\n\t\t\t\t\tcwd: cmdOpts.dir,\n\t\t\t\t\tenv: process.env\n\t\t\t\t});\n\t\t\t\tlet result = \"\";\n\t\t\t\tlet error = \"\";\n\t\t\t\tspawned[svc.responsePath].on(\"data\", d => result += d.toString());\n\t\t\t\tif (svc.errorPath)\n\t\t\t\t\tspawned[svc.errorPath].on(\"data\", d => error += d.toString());\n\t\t\t\tspawned.on(\"exit\", () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tlinter: svc.title || svc.exe,\n\t\t\t\t\t\t\tlintError: svc.processError ? svc.processError(error) : [],\n\t\t\t\t\t\t\tresult: svc.processResult(result)\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// Exception while parsing result or error\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tspawned.on(\"error\", e => reject(e));\n\t\t\t\tif (cmdOpts.data) spawned.stdin.end(cmdOpts.data);\n\t\t\t})\n\t\t\t.catch(e => ({\n\t\t\t\terror: e,\n\t\t\t\tlinter: svc.title || svc.exe,\n\t\t\t\tsource: svc.exe\n\t\t\t}));\n\t}\n\t_runLinters() {\n\t\tconst toRun = [];\n\t\tfor (let l in this.linting) {\n\t\t\t// if the config has changed, and we're not in it, delete\n\t\t\tif (!(l in this.cfg)) {\n\t\t\t\tdelete this.linting[l];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!this.linting[l].active && this.linting[l].pend) {\n\t\t\t\ttoRun.push(new lintBuilders[l](this.cfg[l]));\n\t\t\t\tthis.linting[l].active = true;\n\t\t\t\tthis.linting[l].pend = false;\n\t\t\t}\n\t\t}\n\t\tif (toRun.length === 0) return;\n\t\tconst doc = this.doc;\n\t\tconst sourceDir = path.dirname(doc.fileName);\n\n\t\tconst final = result => this.cb(result)\n\t\t\t.then(() => {\n\t\t\t\tthis.linting[result.linter].active = false;\n\t\t\t\tif (this.linting[result.linter].pend) this._runLinters();\n\t\t\t\tif (result.error) this._runLinters();\n\t\t\t});\n\n\t\t// if any of the runs need a temp file:\n\t\tconst needsTmpFile = toRun.some(svc => svc.tmp);\n\t\tconst tmpFileSvc = tmpDir => toRun.filter(svc => svc.tmp).map(svc => {\n\t\t\tlet prom;\n\t\t\tif (svc.settings) {\n\t\t\t\tprom = this._copySettings(svc.settings, sourceDir, tmpDir)\n\t\t\t\t\t.then(settingsFile => this._exeLinter(svc, {\n\t\t\t\t\t\t\tdir: tmpDir,\n\t\t\t\t\t\t\tfile: '1.rb'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tif (settingsFile) fs.unlink(settingsFile);\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}));\n\t\t\t} else prom = this._exeLinter(svc, {\n\t\t\t\tdir: tmpDir,\n\t\t\t\tfile: '1.rb'\n\t\t\t});\n\t\t\treturn prom.then(final);\n\t\t});\n\t\tconst noTmpFileSvc = () => toRun.filter(svc => !svc.tmp).map(svc => this._exeLinter(svc, {\n\t\t\tdir: sourceDir || this.rootPath,\n\t\t\tdata: doc.getText(),\n\t\t\tfile: doc.fileName\n\t\t}).then(final));\n\n\t\tlet executor = Promise.resolve();\n\n\t\tif (needsTmpFile) {\n\t\t\tconst tmpDir = path.join(os.tmpdir(), 'vscode_ruby_lint');\n\t\t\texecutor = fs.mkdir(tmpDir).then(() => {\n\t\t\t\tconst tmpFile = path.join(tmpDir, '1.rb');\n\t\t\t\treturn fs.writeFile(tmpFile, doc.getText())\n\t\t\t\t\t.then(() => Promise.all(tmpFileSvc(tmpDir).concat(noTmpFileSvc())))\n\t\t\t\t\t.then(() => fs.unlink(tmpFile));\n\t\t\t}).then(() => fs.rmdir(tmpDir));\n\t\t} else executor.then(() => Promise.all(noTmpFileSvc()));\n\n\t\treturn executor.catch(e => console.log(\"Error linting:\", e));\n\t}\n}\n","\"use strict\";\n\nlet fsCB = require('fs');\nlet fs = {};\n\nfunction wrap(name) {\n\treturn function () {\n\t\tlet args = Array.prototype.slice.call(arguments);\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst cb = function (e) {\n\t\t\t\tif (e) return reject(e);\n\t\t\t\tif (arguments.length === 1) return resolve();\n\t\t\t\tif (arguments.length === 2) return resolve(arguments[1]);\n\t\t\t\tlet response = Array.prototype.slice.call(arguments);\n\t\t\t\tresponse.shift(); //drop err\n\t\t\t\tresolve(response);\n\t\t\t};\n\t\t\targs.push(cb);\n\t\t\tfsCB[name].apply(fsCB, args);\n\t\t});\n\t};\n}\nlet keys = Object.keys(fsCB);\n//set everything that isn't an async function - all of the async's have a Sync equiv\nkeys.filter(n => !(n + \"Sync\" in fsCB))\n\t.forEach(n => fs[n] = fsCB[n]);\n\n//wrap all functions that have a sync equiv\nkeys.filter(n => typeof fsCB[n] === 'function')\n\t.filter(n => (n + \"Sync\" in fsCB))\n\t.forEach(n => fs[n] = wrap(n));\n\nmodule.exports = fs;","\"use strict\";\nconst EOL = require(\"os\")\n\t.EOL;\n\nfunction Debride(opts) {\n\tthis.exe = \"debride\";\n\tthis.ext = process.platform === 'win32' ? \".bat\" : \"\";\n\tthis.path = opts.path;\n\tthis.responsePath = \"stdout\";\n\tthis.args = ['{path}'];\n\tthis.temp = true;\n\tif (opts.rails) this.args.unshift('-r');\n}\n\nDebride.prototype.processResult = function(data) {\n\tlet head = \"\";\n\tlet messageLines = [];\n\tdata.split(EOL)\n\t\t.forEach(line => {\n\t\t\tif (line === \"These methods MIGHT not be called:\") return;\n\t\t\tif (!line.length) return (head = \"\");\n\t\t\tlet m = /\\s*(.*?)\\s+.*:(\\d+)$/.exec(line);\n\t\t\tif (!m) return (head = line);\n\t\t\tlet method = (head !== \"main\" ? head + \"::\" : \"\") + m[1];\n\t\t\tmessageLines.push({\n\t\t\t\tlocation: {\n\t\t\t\t\tline: parseInt(m[2]),\n\t\t\t\t\tcolumn: 1,\n\t\t\t\t\tlength: 10000\n\t\t\t\t},\n\t\t\t\tseverity: 'info',\n\t\t\t\tmessage: `Method ${method} may not be called`\n\t\t\t});\n\t\t});\n\treturn messageLines;\n};\n\nmodule.exports = Debride;\n","\"use strict\";\nconst EOL = require(\"os\")\n\t.EOL;\n\nfunction Fasterer(opts) {\n\tthis.exe = \"fasterer\";\n\tthis.ext = require('os')\n\t\t.platform() === 'win32' ? \".bat\" : \"\";\n\tthis.path = opts.path;\n\tthis.responsePath = \"stdout\";\n\tthis.args = ['{path}'];\n\tthis.temp = true;\n\tthis.settings = \".fasterer.yml\";\n\n\tif (opts.rails) this.args.unshift('-r');\n}\n\nFasterer.prototype.processResult = function(data) {\n\tlet messageLines = [];\n\tdata.split(EOL)\n\t\t.forEach(line => {\n\t\t\tlet m = /^(.*) Occurred at lines: (.*)/.exec(line);\n\t\t\tif (m) {\n\t\t\t\tlet re = /(\\d+)/g;\n\t\t\t\tlet m2 = re.exec(m[2]);\n\t\t\t\twhile (m2) {\n\t\t\t\t\tmessageLines.push({\n\t\t\t\t\t\tlocation: {\n\t\t\t\t\t\t\tline: parseInt(m2[1]),\n\t\t\t\t\t\t\tcolumn: 1,\n\t\t\t\t\t\t\tlength: 10000\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseverity: 'info',\n\t\t\t\t\t\tmessage: m[1]\n\t\t\t\t\t});\n\t\t\t\t\tm2 = re.exec(m[2]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\treturn messageLines;\n};\n\nmodule.exports = Fasterer;\n","\"use strict\";\n\nfunction Reek(opts) {\n\tthis.exe = \"reek\";\n\tthis.ext = process.platform === 'win32' ? \".bat\" : \"\";\n\tthis.path = opts.path;\n\tthis.responsePath = \"stdout\";\n\tthis.errorPath = \"stderr\";\n\tthis.args = [\"-f\", \"json\", \"--force-exclusion\"];\n}\n\nReek.prototype.processResult = function(data) {\n\tif (!data) return [];\n\tlet offenses = JSON.parse(data);\n\tlet messageLines = [];\n\toffenses.forEach(offense => {\n\t\toffense.lines.forEach(line => {\n\t\t\tmessageLines.push({\n\t\t\t\tlocation: {\n\t\t\t\t\tline: line,\n\t\t\t\t\tcolumn: 1,\n\t\t\t\t\tlength: 10000\n\t\t\t\t},\n\t\t\t\tmessage: offense.context + \": \" + offense.message,\n\t\t\t\tcop_name: this.exe + \":\" + offense.smell_type,\n\t\t\t\tseverity: \"info\"\n\t\t\t});\n\t\t});\n\t});\n\treturn messageLines;\n};\nconst EOL = require(\"os\")\n\t.EOL;\n\nReek.prototype.processError = function(data) {\n\t//similar to the ruby output, but we get a length\n\tlet messageLines = [];\n\tdata.split(EOL)\n\t\t.forEach(line => {\n\t\t\tif (!line.length) return;\n\t\t\tlet m = /^STDIN:(\\d+):(\\d+): (?:(\\w+): )?(.*)$/.exec(line);\n\t\t\tif (!m) {\n\t\t\t\tlet marker = /^STDIN:\\d+:\\s*\\^(\\~*)\\s*$/.exec(line);\n\t\t\t\tif (marker) {\n\t\t\t\t\tmessageLines[messageLines.length - 1].location.length = (marker[1] || \"\")\n\t\t\t\t\t\t.length + 1;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmessageLines.push({\n\t\t\t\tlocation: {\n\t\t\t\t\tline: parseInt(m[1]),\n\t\t\t\t\tcolumn: parseInt(m[2]),\n\t\t\t\t\tlength: 10000\n\t\t\t\t},\n\t\t\t\tseverity: m[3],\n\t\t\t\tmessage: m[4]\n\t\t\t});\n\t\t});\n\treturn messageLines;\n};\n\nmodule.exports = Reek;\n","\"use strict\";\n\nfunction RuboCop(opts) {\n\tthis.exe = \"rubocop\";\n\tthis.ext = process.platform === 'win32' ? \".bat\" : \"\";\n\tthis.path = opts.path;\n\tthis.responsePath = \"stdout\";\n\n\tthis.args = [\"-s\", \"{path}\", \"-f\", \"json\"] ;\n\n\tif (opts.forceExclusion) this.args.push(\"--force-exclusion\");\n\tif (opts.lint) this.args.push(\"-l\");\n\tif (opts.only) this.args = this.args.concat(\"--only\", opts.only.join(','));\n\tif (opts.except) this.args = this.args.concat(\"--except\", opts.except.join(','));\n\tif (opts.rails) this.args.push('-R');\n\tif (opts.require) this.args = this.args.concat(\"-r\", opts.require.join(','));\n}\n\nRuboCop.prototype.processResult = function (data) {\n\tif (data == '') {\n\t\treturn [];\n\t}\n\tlet offenses = JSON.parse(data);\n\tif (offenses.summary.offense_count == 0) {\n\t\treturn [];\n\t}\n\treturn (offenses.files || [{\n\t\toffenses: []\n\t}])[0].offenses;\n};\n\nmodule.exports = RuboCop;\n","\"use strict\";\n\nfunction RubyLint(opts) {\n\tthis.exe = \"ruby-lint\";\n\tthis.ext = process.platform === 'win32' ? \".bat\" : \"\";\n\tthis.path = opts.path;\n\tthis.responsePath = \"stdout\";\n\tthis.args = ['{path}', '-p', 'json'];\n\tif (opts.levels) this.args = this.args.concat('-l', opts.levels.join(',')); //info,warning,error\n\tif (opts.classes) this.args = this.args.concat('-a', opts.classes.join(',')); //argument_amount, pedantics, shadowing_variables, undefined_methods, undefined_variables, unused_variables, useless_equality_checks\n\tthis.settings = \"ruby-lint.yml\";\n\tthis.temp = true;\n}\n\n/*\n[{\n\t\"level\": \"warning\",\n\t\"message\": \"unused local variable x\",\n\t\"line\": 9,\n\t\"column\": 1,\n\t\"file\": \"C:/Users/Bryan/AppData/Local/Temp/116127-4472-1g3n731\",\n\t\"filename\": \"116127-4472-1g3n731\",\n\t\"node\": \"(lvasgn :x\\n  (int 5))\"\n}]\n*/\n\nRubyLint.prototype.processResult = function (data) {\n\tif (!data) return [];\n\tlet offenses = JSON.parse(data);\n\treturn offenses.map(offense => ({\n\t\tmessage: offense.message,\n\t\tseverity: offense.level,\n\t\tlocation: {\n\t\t\tline: offense.line,\n\t\t\tcolumn: offense.column,\n\t\t\tlength: 0\n\t\t}\n\t}));\n};\n\nmodule.exports = RubyLint;","\"use strict\";\nconst EOL = require(\"os\")\n\t.EOL;\n\nfunction RubyWC(opts) {\n\tthis.responsePath = \"stderr\";\n\tthis.title = \"ruby\";\n\tthis.exe = \"ruby\";\n\tthis.ext = \"\";\n\tthis.path = opts.path;\n\tthis.args = [\"-wc\"];\n\n\tif (opts.rubyInterpreterPath) {\n\t\tthis.exe = opts.rubyInterpreterPath;\n\t}\n\n\tif(opts.unicode) {\n\t\tthis.args.push(\"-Ku\");\n\t}\n}\n\nRubyWC.prototype.processResult = function(data) {\n\tlet messageLines = [];\n\tlet multiLine = [];\n\tdata.split(EOL)\n\t\t.forEach(line => {\n\t\t\tif (!line.length) return;\n\t\t\tlet m = /^\\-:(\\d+): (?:(\\w+): )?(.*)$/.exec(line);\n\t\t\tif (!m) {\n\t\t\t\tlet marker = /^\\s*\\^$/.test(line);\n\t\t\t\tif (marker) {\n\t\t\t\t\tlet p = 0,\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\twhile (multiLine.length && p < line.length) {\n\t\t\t\t\t\tstart = p;\n\t\t\t\t\t\tp = multiLine.shift();\n\t\t\t\t\t}\n\t\t\t\t\tif (start < line.length) {\n\t\t\t\t\t\tlet l = messageLines[messageLines.length - 1];\n\t\t\t\t\t\tl.location.column = start + 1;\n\t\t\t\t\t\tl.location.length = line.length - start;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet re = /.*?[^\\\\]\\;/g;\n\t\t\t\tlet p = re.exec(line);\n\t\t\t\tmultiLine = [];\n\t\t\t\twhile (p) {\n\t\t\t\t\tmultiLine.push(p.index + p[0].length);\n\t\t\t\t\tp = re.exec(line);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmessageLines.push({\n\t\t\t\tlocation: {\n\t\t\t\t\tline: parseInt(m[1]),\n\t\t\t\t\tcolumn: 1,\n\t\t\t\t\tlength: 10000\n\t\t\t\t},\n\t\t\t\tseverity: m[2],\n\t\t\t\tmessage: m[3]\n\t\t\t});\n\t\t});\n\treturn messageLines;\n};\n\nmodule.exports = RubyWC;\n","'use strict';\nconst vscode = require('vscode');\n\nconst severities = {\n\trefactor: vscode.DiagnosticSeverity.Hint,\n\tconvention: vscode.DiagnosticSeverity.Information,\n\tinfo: vscode.DiagnosticSeverity.Information,\n\twarning: vscode.DiagnosticSeverity.Warning,\n\terror: vscode.DiagnosticSeverity.Error,\n\tfatal: vscode.DiagnosticSeverity.Error\n};\n\nexport default class LintResults {\n\tconstructor(linter) {\n\t\tthis._fileDiagnostics = vscode.languages.createDiagnosticCollection(linter);\n\t}\n\tupdateForFile(uri, lint) {\n\t\tthis._fileDiagnostics.delete(uri);\n\t\tif (lint.error) {\n\t\t\tconsole.log(\"Linter error:\", lint.source, lint.error);\n\t\t\treturn;\n\t\t}\n\t\tif ((!lint.result || !lint.result.length) && (!lint.lintError || !lint.lintError.length)) return;\n\n\t\tlet allOf = lint.result.concat(lint.lintError).map(offense => {\n\t\t\tlet tail = offense.location.column + offense.location.length;\n\t\t\tlet d = new vscode.Diagnostic(new vscode.Range(\n\t\t\t\t\toffense.location.line - 1, offense.location.column - 1,\n\t\t\t\t\toffense.location.line - 1, tail - 1),\n\t\t\t\toffense.message, severities[offense.severity] || vscode.DiagnosticSeverity.Error);\n\t\t\td.source = offense.cop_name || lint.linter;\n\t\t\treturn d;\n\t\t});\n\t\tthis._fileDiagnostics.set(uri, allOf);\n\t}\n\tdispose() {\n\t\tthis._fileDiagnostics.dispose();\n\t}\n}","export class Config\n{\n\tpathToRuby: string = 'ruby';\n\tpathToBundler: string = 'bundle';\n\tuseBundler: boolean | undefined = undefined;\n}\n\n\n","'use strict';\n\nimport * as path from 'path';\nimport * as fs from 'fs';\nimport * as vscode from 'vscode';\nimport { getOutputChannel, exec } from '../utils';\n\nlet rakeFiles: Set<vscode.Uri> = new Set<vscode.Uri>();\n\nexport async function registerTaskProvider(ctx: vscode.ExtensionContext) {\n\tlet rakePromise: Thenable<vscode.Task[]> | undefined = undefined;\n\tlet files = await vscode.workspace.findFiles(\"**/[rR]akefile{*,.rb}\");\n\tfor (let i = 0; i < files.length; i++) {\n\t\trakeFiles.add(files[i]);\n\t}\n\n\tlet fileWatcher = vscode.workspace.createFileSystemWatcher(\"**/[rR]akefile{*,.rb}\");\n\tfileWatcher.onDidChange(() => rakePromise = undefined);\n\tfileWatcher.onDidCreate((uri) => {\n\t\trakeFiles.add(uri);\n\t\trakePromise = undefined\n\t});\n\tfileWatcher.onDidDelete((uri) => {\n\t\trakeFiles.delete(uri);\n\t\trakePromise = undefined\n\t});\n\n\tlet taskProvider = vscode.workspace.registerTaskProvider('rake', {\n\t\tprovideTasks: () => {\n\t\t\tif (!rakePromise) {\n\t\t\t\trakePromise = getRakeTasks();\n\t\t\t}\n\t\t\treturn rakePromise;\n\t\t},\n\t\tresolveTask(_task: vscode.Task): vscode.Task | undefined {\n\t\t\treturn undefined;\n\t\t}\n\t});\n}\n\nfunction exists(file: string): Promise<boolean> {\n\treturn new Promise<boolean>((resolve, _reject) => {\n\t\tfs.exists(file, (value) => {\n\t\t\tresolve(value);\n\t\t});\n\t});\n}\n\ninterface RakeTaskDefinition extends vscode.TaskDefinition {\n\ttask: string;\n\tfile?: string;\n}\n\nconst buildNames: string[] = ['build', 'compile', 'watch'];\nfunction isBuildTask(name: string): boolean {\n\tfor (let buildName of buildNames) {\n\t\tif (name.indexOf(buildName) !== -1) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nconst testNames: string[] = ['test'];\nfunction isTestTask(name: string): boolean {\n\tfor (let testName of testNames) {\n\t\tif (name.indexOf(testName) !== -1) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nasync function getRakeTasks(): Promise<vscode.Task[]> {\n\tlet workspaceRoot = vscode.workspace.rootPath;\n\tlet emptyTasks: vscode.Task[] = [];\n\tif (!workspaceRoot) {\n\t\treturn emptyTasks;\n\t}\n\n\tif (rakeFiles.size < 1) {\n\t\treturn emptyTasks;\n\t}\n\n\tfor (let key in rakeFiles.keys) {\n\t\tif (!await exists(rakeFiles[key])) {\n\t\t\treturn emptyTasks;\n\t\t}\n\t}\n\n\tlet commandLine = 'rake -AT';\n\ttry {\n\t\tlet { stdout, stderr } = await exec(commandLine, { cwd: workspaceRoot });\n\t\tif (stderr && stderr.length > 0) {\n\t\t\tgetOutputChannel().appendLine(stderr);\n\t\t}\n\t\tlet result: vscode.Task[] = [];\n\t\tif (stdout) {\n\t\t\tlet lines = stdout.split(/\\r{0,1}\\n/);\n\t\t\tfor (let line of lines) {\n\t\t\t\tif (line.length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet regExp = /rake\\s(.*)#/;\n\t\t\t\tlet matches = regExp.exec(line);\n\t\t\t\tif (matches && matches.length === 2) {\n\t\t\t\t\tlet taskName = matches[1].trim();\n\t\t\t\t\tlet kind: RakeTaskDefinition = {\n\t\t\t\t\t\ttype: 'rake',\n\t\t\t\t\t\ttask: taskName\n\t\t\t\t\t};\n\t\t\t\t\tlet task = new vscode.Task(kind, taskName, 'rake', new vscode.ShellExecution(`rake ${taskName}`));\n\t\t\t\t\tresult.push(task);\n\t\t\t\t\tlet lowerCaseLine = line.toLowerCase();\n\t\t\t\t\tif (isBuildTask(lowerCaseLine)) {\n\t\t\t\t\t\ttask.group = vscode.TaskGroup.Build;\n\t\t\t\t\t} else if (isTestTask(lowerCaseLine)) {\n\t\t\t\t\t\ttask.group = vscode.TaskGroup.Test;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t} catch (err) {\n\t\tlet channel = getOutputChannel();\n\t\tif (err.stderr) {\n\t\t\tchannel.appendLine(err.stderr);\n\t\t}\n\t\tif (err.stdout) {\n\t\t\tchannel.appendLine(err.stdout);\n\t\t}\n\t\tchannel.appendLine('Auto detecting rake tasks failed.');\n\t\tchannel.show(true);\n\t\treturn emptyTasks;\n\t}\n}","/**\n * LSP client for vscode-ruby\n */\nimport path from 'path';\n\nimport { commands, ExtensionContext, window, workspace, WorkspaceFolder } from 'vscode';\nimport {\n\tConfigurationParams,\n\tCancellationToken,\n\tLanguageClient,\n\tLanguageClientOptions,\n\tServerOptions,\n\tTransportKind,\n\tWorkspaceMiddleware,\n} from 'vscode-languageclient';\nimport { WorkspaceRubyEnvironmentFeature, NodeRuntime } from './WorkspaceRubyEnvironment';\n\nconst RUBOCOP_ABSOLUTE_PATH_KEYS = ['require'];\nlet client: LanguageClient;\n\nexport function activate(context: ExtensionContext): void {\n\tconst serverModule: string = context.asAbsolutePath(path.join('dist', 'server', 'index.js'));\n\tconst debugOptions: { execArgv: string[] } = { execArgv: ['--nolazy', '--inspect=6009'] };\n\n\t// If the extension is launched in debug mode then the debug server options are used\n\t// Otherwise the run options are used\n\tconst serverOptions: ServerOptions = {\n\t\trun: { module: serverModule, transport: TransportKind.ipc },\n\t\tdebug: { module: serverModule, transport: TransportKind.ipc, options: debugOptions },\n\t};\n\n\tconst rubyDocumentSelector: { scheme: string; language: string }[] = [\n\t\t{ scheme: 'file', language: 'ruby' },\n\t\t{ scheme: 'untitled', language: 'ruby' },\n\t];\n\n\t// Options to control the language client\n\tconst clientOptions: LanguageClientOptions = {\n\t\tdocumentSelector: rubyDocumentSelector,\n\t\tsynchronize: {\n\t\t\t// Notify server of changes to .ruby-version or .rvmrc files\n\t\t\tfileEvents: workspace.createFileSystemWatcher('**/{.ruby-version,.rvmrc}'),\n\t\t},\n\t\toutputChannel: window.createOutputChannel('Ruby Language Server'),\n\t\tmiddleware: {\n\t\t\tworkspace: {\n\t\t\t\tconfiguration: (\n\t\t\t\t\tparams: ConfigurationParams,\n\t\t\t\t\ttoken: CancellationToken,\n\t\t\t\t\tnext: Function\n\t\t\t\t): any[] => {\n\t\t\t\t\tif (!params.items) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t\tlet result = next(params, token, next);\n\t\t\t\t\tlet settings = result[0];\n\t\t\t\t\tlet scopeUri = '';\n\n\t\t\t\t\tfor (let item of params.items) {\n\t\t\t\t\t\tif (!item.scopeUri) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tscopeUri = item.scopeUri;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet resource = client.protocol2CodeConverter.asUri(scopeUri);\n\t\t\t\t\tlet workspaceFolder = workspace.getWorkspaceFolder(resource);\n\t\t\t\t\tif (workspaceFolder) {\n\t\t\t\t\t\t// Convert any relative paths to absolute paths\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tsettings.lint &&\n\t\t\t\t\t\t\tsettings.lint.rubocop &&\n\t\t\t\t\t\t\ttypeof settings.lint.rubocop === 'object'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tlint: { rubocop },\n\t\t\t\t\t\t\t} = settings;\n\t\t\t\t\t\t\tfor (const key of RUBOCOP_ABSOLUTE_PATH_KEYS) {\n\t\t\t\t\t\t\t\tif (rubocop[key]) {\n\t\t\t\t\t\t\t\t\trubocop[key] = rubocop[key].map(f => convertAbsolute(f, workspaceFolder));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Save the file's workspace folder\n\t\t\t\t\t\tconst protocolUri = client.code2ProtocolConverter.asUri(workspaceFolder.uri);\n\t\t\t\t\t\tsettings.workspaceFolderUri = protocolUri;\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t} as WorkspaceMiddleware,\n\t\t},\n\t};\n\n\t// Create the language client and start the client.\n\tclient = new LanguageClient('ruby', 'Ruby', serverOptions, clientOptions);\n\tclient.registerProposedFeatures();\n\tconst nodeRuntime =\n\t\t(context as any).executionContext === 1 ? NodeRuntime.Electron : NodeRuntime.Node;\n\tclient.registerFeature(new WorkspaceRubyEnvironmentFeature(client, nodeRuntime));\n\n\t// Push the disposable to the context's subscriptions so that the\n\t// client can be deactivated on extension deactivation\n\tcontext.subscriptions.push(\n\t\tclient.start(),\n\t\tcommands.registerCommand('ruby.showLanguageServerOutputChannel', () => {\n\t\t\tclient.outputChannel.show();\n\t\t})\n\t);\n}\n\nexport function deactivate(): Thenable<void> {\n\treturn client ? client.stop() : undefined;\n}\n\nfunction convertAbsolute(file: string, folder: WorkspaceFolder): string {\n\tif (path.isAbsolute(file)) {\n\t\treturn file;\n\t}\n\tlet folderPath = folder.uri.fsPath;\n\tif (!folderPath) {\n\t\treturn file;\n\t}\n\treturn path.join(folderPath, file);\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this._emitter = undefined;\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        this.cancel();\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","module.exports = require(\"crypto\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nexport var Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nexport var Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nexport var Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nexport var LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nexport var Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.red)\r\n            && Is.number(candidate.green)\r\n            && Is.number(candidate.blue)\r\n            && Is.number(candidate.alpha);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nexport var ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nexport var ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nexport var FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nexport var FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nexport var DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nexport var DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nexport var Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nexport var Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nexport var TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nexport var TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nexport var CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nexport var RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nexport var DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nexport var WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\r\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits) {\r\n        this.edits = edits;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\r\n        this.edits.push(TextEdit.insert(position, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\r\n        this.edits.push(TextEdit.replace(range, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range) {\r\n        this.edits.push(TextEdit.del(range));\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (VersionedTextDocumentIdentifier.is(key)) {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    documentChanges: []\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.documentChanges) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = key;\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    changes: Object.create(null)\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.changes) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\r\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\nexport { WorkspaceChange };\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nexport var TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nexport var TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nexport var MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nexport var MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nexport var InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nexport var CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nexport var CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nexport var MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nexport var Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nexport var ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n    ;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nexport var SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nexport var DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\nexport var SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\n/**\r\n * Represents programming constructs like variables, classes, interfaces etc.\r\n * that appear in a document. Document symbols can be hierarchical and they\r\n * have two ranges: one that encloses its definition and one that points to\r\n * its most interesting range, e.g. the range of an identifier.\r\n */\r\nvar DocumentSymbol = /** @class */ (function () {\r\n    function DocumentSymbol() {\r\n    }\r\n    return DocumentSymbol;\r\n}());\r\nexport { DocumentSymbol };\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== void 0) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === void 0 || Array.isArray(candidate.children));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nexport var CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nexport var CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== void 0 && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nexport var CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, commandOrEdit, kind) {\r\n        var result = { title: title };\r\n        if (Command.is(commandOrEdit)) {\r\n            result.command = commandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = commandOrEdit;\r\n        }\r\n        if (kind !== void null) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\r\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\r\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nexport var CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data))\r\n            result.data = data;\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nexport var FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * A document link is a range in a text document that links to an internal or external resource, like another\r\n * text document or a web site.\r\n */\r\nvar DocumentLink = /** @class */ (function () {\r\n    function DocumentLink() {\r\n    }\r\n    return DocumentLink;\r\n}());\r\nexport { DocumentLink };\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nexport var TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason || (TextDocumentSaveReason = {}));\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = null;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = null;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === null) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nexports.ImplementationRequest = protocol_implementation_1.ImplementationRequest;\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nexports.TypeDefinitionRequest = protocol_typeDefinition_1.TypeDefinitionRequest;\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nexports.WorkspaceFoldersRequest = protocol_workspaceFolders_1.WorkspaceFoldersRequest;\r\nexports.DidChangeWorkspaceFoldersNotification = protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nexports.ConfigurationRequest = protocol_configuration_1.ConfigurationRequest;\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nexports.DocumentColorRequest = protocol_colorProvider_1.DocumentColorRequest;\r\nexports.ColorPresentationRequest = protocol_colorProvider_1.ColorPresentationRequest;\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nexports.FoldingRangeRequest = protocol_foldingRange_1.FoldingRangeRequest;\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nexports.DeclarationRequest = protocol_declaration_1.DeclarationRequest;\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new vscode_jsonrpc_1.RequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new vscode_jsonrpc_1.RequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling startegy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guaruntee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new vscode_jsonrpc_1.RequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The intialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new vscode_jsonrpc_1.NotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new vscode_jsonrpc_1.RequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new vscode_jsonrpc_1.NotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n//---- Configuration notification ----\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new vscode_jsonrpc_1.NotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new vscode_jsonrpc_1.RequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new vscode_jsonrpc_1.NotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new vscode_jsonrpc_1.NotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didOpen');\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didChange');\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didClose');\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/didSave');\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/willSave');\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/willSaveWaitUntil');\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n//---- File eventing ----\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n//---- Diagnostic notification ----\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new vscode_jsonrpc_1.NotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/completion');\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.type = new vscode_jsonrpc_1.RequestType('completionItem/resolve');\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n//---- Hover Support -------------------------------\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/hover');\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/signatureHelp');\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n//---- Goto Definition -------------------------------------\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/definition');\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/references');\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n//---- Document Highlight ----------------------------------\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentHighlight');\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n//---- Document Symbol Provider ---------------------------\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentSymbol');\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n//---- Workspace Symbol Provider ---------------------------\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.type = new vscode_jsonrpc_1.RequestType('workspace/symbol');\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/codeAction');\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/codeLens');\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.type = new vscode_jsonrpc_1.RequestType('codeLens/resolve');\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/formatting');\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/rangeFormatting');\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/onTypeFormatting');\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/rename');\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/prepareRename');\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentLink');\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.type = new vscode_jsonrpc_1.RequestType('documentLink/resolve');\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new vscode_jsonrpc_1.RequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new vscode_jsonrpc_1.RequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/implementation');\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/typeDefinition');\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new vscode_jsonrpc_1.RequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new vscode_jsonrpc_1.NotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new vscode_jsonrpc_1.RequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/documentColor');\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/foldingRange');\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.type = new vscode_jsonrpc_1.RequestType('textDocument/declaration');\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nconst proto = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\r\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\r\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\r\nfunction createConverter(uriConverter) {\r\n    const nullConverter = (value) => value.toString();\r\n    const _uriConverter = uriConverter || nullConverter;\r\n    function asUri(value) {\r\n        return _uriConverter(value);\r\n    }\r\n    function asTextDocumentIdentifier(textDocument) {\r\n        return {\r\n            uri: _uriConverter(textDocument.uri)\r\n        };\r\n    }\r\n    function asVersionedTextDocumentIdentifier(textDocument) {\r\n        return {\r\n            uri: _uriConverter(textDocument.uri),\r\n            version: textDocument.version\r\n        };\r\n    }\r\n    function asOpenTextDocumentParams(textDocument) {\r\n        return {\r\n            textDocument: {\r\n                uri: _uriConverter(textDocument.uri),\r\n                languageId: textDocument.languageId,\r\n                version: textDocument.version,\r\n                text: textDocument.getText()\r\n            }\r\n        };\r\n    }\r\n    function isTextDocumentChangeEvent(value) {\r\n        let candidate = value;\r\n        return !!candidate.document && !!candidate.contentChanges;\r\n    }\r\n    function isTextDocument(value) {\r\n        let candidate = value;\r\n        return !!candidate.uri && !!candidate.version;\r\n    }\r\n    function asChangeTextDocumentParams(arg) {\r\n        if (isTextDocument(arg)) {\r\n            let result = {\r\n                textDocument: {\r\n                    uri: _uriConverter(arg.uri),\r\n                    version: arg.version\r\n                },\r\n                contentChanges: [{ text: arg.getText() }]\r\n            };\r\n            return result;\r\n        }\r\n        else if (isTextDocumentChangeEvent(arg)) {\r\n            let document = arg.document;\r\n            let result = {\r\n                textDocument: {\r\n                    uri: _uriConverter(document.uri),\r\n                    version: document.version\r\n                },\r\n                contentChanges: arg.contentChanges.map((change) => {\r\n                    let range = change.range;\r\n                    return {\r\n                        range: {\r\n                            start: { line: range.start.line, character: range.start.character },\r\n                            end: { line: range.end.line, character: range.end.character }\r\n                        },\r\n                        rangeLength: change.rangeLength,\r\n                        text: change.text\r\n                    };\r\n                })\r\n            };\r\n            return result;\r\n        }\r\n        else {\r\n            throw Error('Unsupported text document change parameter');\r\n        }\r\n    }\r\n    function asCloseTextDocumentParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\r\n        let result = {\r\n            textDocument: asVersionedTextDocumentIdentifier(textDocument)\r\n        };\r\n        if (includeContent) {\r\n            result.text = textDocument.getText();\r\n        }\r\n        return result;\r\n    }\r\n    function asTextDocumentSaveReason(reason) {\r\n        switch (reason) {\r\n            case code.TextDocumentSaveReason.Manual:\r\n                return proto.TextDocumentSaveReason.Manual;\r\n            case code.TextDocumentSaveReason.AfterDelay:\r\n                return proto.TextDocumentSaveReason.AfterDelay;\r\n            case code.TextDocumentSaveReason.FocusOut:\r\n                return proto.TextDocumentSaveReason.FocusOut;\r\n        }\r\n        return proto.TextDocumentSaveReason.Manual;\r\n    }\r\n    function asWillSaveTextDocumentParams(event) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(event.document),\r\n            reason: asTextDocumentSaveReason(event.reason)\r\n        };\r\n    }\r\n    function asTextDocumentPositionParams(textDocument, position) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position)\r\n        };\r\n    }\r\n    function asTriggerKind(triggerKind) {\r\n        switch (triggerKind) {\r\n            case code.CompletionTriggerKind.TriggerCharacter:\r\n                return proto.CompletionTriggerKind.TriggerCharacter;\r\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\r\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\r\n            default:\r\n                return proto.CompletionTriggerKind.Invoked;\r\n        }\r\n    }\r\n    function asCompletionParams(textDocument, position, context) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: {\r\n                triggerKind: asTriggerKind(context.triggerKind),\r\n                triggerCharacter: context.triggerCharacter\r\n            }\r\n        };\r\n    }\r\n    function asWorkerPosition(position) {\r\n        return { line: position.line, character: position.character };\r\n    }\r\n    function asPosition(value) {\r\n        if (value === void 0) {\r\n            return undefined;\r\n        }\r\n        else if (value === null) {\r\n            return null;\r\n        }\r\n        return { line: value.line, character: value.character };\r\n    }\r\n    function asRange(value) {\r\n        if (value === void 0 || value === null) {\r\n            return value;\r\n        }\r\n        return { start: asPosition(value.start), end: asPosition(value.end) };\r\n    }\r\n    function asDiagnosticSeverity(value) {\r\n        switch (value) {\r\n            case code.DiagnosticSeverity.Error:\r\n                return proto.DiagnosticSeverity.Error;\r\n            case code.DiagnosticSeverity.Warning:\r\n                return proto.DiagnosticSeverity.Warning;\r\n            case code.DiagnosticSeverity.Information:\r\n                return proto.DiagnosticSeverity.Information;\r\n            case code.DiagnosticSeverity.Hint:\r\n                return proto.DiagnosticSeverity.Hint;\r\n        }\r\n    }\r\n    function asDiagnostic(item) {\r\n        let result = proto.Diagnostic.create(asRange(item.range), item.message);\r\n        if (Is.number(item.severity)) {\r\n            result.severity = asDiagnosticSeverity(item.severity);\r\n        }\r\n        if (Is.number(item.code) || Is.string(item.code)) {\r\n            result.code = item.code;\r\n        }\r\n        if (item.source) {\r\n            result.source = item.source;\r\n        }\r\n        return result;\r\n    }\r\n    function asDiagnostics(items) {\r\n        if (items === void 0 || items === null) {\r\n            return items;\r\n        }\r\n        return items.map(asDiagnostic);\r\n    }\r\n    function asDocumentation(format, documentation) {\r\n        switch (format) {\r\n            case '$string':\r\n                return documentation;\r\n            case proto.MarkupKind.PlainText:\r\n                return { kind: format, value: documentation };\r\n            case proto.MarkupKind.Markdown:\r\n                return { kind: format, value: documentation.value };\r\n            default:\r\n                return `Unsupported Markup content received. Kind is: ${format}`;\r\n        }\r\n    }\r\n    function asCompletionItemKind(value, original) {\r\n        if (original !== void 0) {\r\n            return original;\r\n        }\r\n        return value + 1;\r\n    }\r\n    function asCompletionItem(item) {\r\n        let result = { label: item.label };\r\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\r\n        if (item.detail) {\r\n            result.detail = item.detail;\r\n        }\r\n        // We only send items back we created. So this can't be something else than\r\n        // a string right now.\r\n        if (item.documentation) {\r\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\r\n                result.documentation = item.documentation;\r\n            }\r\n            else {\r\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\r\n            }\r\n        }\r\n        if (item.filterText) {\r\n            result.filterText = item.filterText;\r\n        }\r\n        fillPrimaryInsertText(result, item);\r\n        if (Is.number(item.kind)) {\r\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\r\n        }\r\n        if (item.sortText) {\r\n            result.sortText = item.sortText;\r\n        }\r\n        if (item.additionalTextEdits) {\r\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\r\n        }\r\n        if (item.commitCharacters) {\r\n            result.commitCharacters = item.commitCharacters.slice();\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.preselect === true || item.preselect === false) {\r\n            result.preselect = item.preselect;\r\n        }\r\n        if (protocolItem) {\r\n            if (protocolItem.data !== void 0) {\r\n                result.data = protocolItem.data;\r\n            }\r\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\r\n                result.deprecated = protocolItem.deprecated;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function fillPrimaryInsertText(target, source) {\r\n        let format = proto.InsertTextFormat.PlainText;\r\n        let text;\r\n        let range = undefined;\r\n        if (source.textEdit) {\r\n            text = source.textEdit.newText;\r\n            range = asRange(source.textEdit.range);\r\n        }\r\n        else if (source.insertText instanceof code.SnippetString) {\r\n            format = proto.InsertTextFormat.Snippet;\r\n            text = source.insertText.value;\r\n        }\r\n        else {\r\n            text = source.insertText;\r\n        }\r\n        if (source.range) {\r\n            range = asRange(source.range);\r\n        }\r\n        target.insertTextFormat = format;\r\n        if (source.fromEdit && text && range) {\r\n            target.textEdit = { newText: text, range: range };\r\n        }\r\n        else {\r\n            target.insertText = text;\r\n        }\r\n    }\r\n    function asTextEdit(edit) {\r\n        return { range: asRange(edit.range), newText: edit.newText };\r\n    }\r\n    function asTextEdits(edits) {\r\n        if (edits === void 0 || edits === null) {\r\n            return edits;\r\n        }\r\n        return edits.map(asTextEdit);\r\n    }\r\n    function asReferenceParams(textDocument, position, options) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: { includeDeclaration: options.includeDeclaration }\r\n        };\r\n    }\r\n    function asCodeActionContext(context) {\r\n        if (context === void 0 || context === null) {\r\n            return context;\r\n        }\r\n        return proto.CodeActionContext.create(asDiagnostics(context.diagnostics), Is.string(context.only) ? [context.only] : undefined);\r\n    }\r\n    function asCommand(item) {\r\n        let result = proto.Command.create(item.title, item.command);\r\n        if (item.arguments) {\r\n            result.arguments = item.arguments;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLens(item) {\r\n        let result = proto.CodeLens.create(asRange(item.range));\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item instanceof protocolCodeLens_1.default) {\r\n            if (item.data) {\r\n                result.data = item.data;\r\n            }\r\n            ;\r\n        }\r\n        return result;\r\n    }\r\n    function asFormattingOptions(item) {\r\n        return { tabSize: item.tabSize, insertSpaces: item.insertSpaces };\r\n    }\r\n    function asDocumentSymbolParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asCodeLensParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asDocumentLink(item) {\r\n        let result = proto.DocumentLink.create(asRange(item.range));\r\n        if (item.target) {\r\n            result.target = asUri(item.target);\r\n        }\r\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\r\n        if (protocolItem && protocolItem.data) {\r\n            result.data = protocolItem.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentLinkParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    return {\r\n        asUri,\r\n        asTextDocumentIdentifier,\r\n        asVersionedTextDocumentIdentifier,\r\n        asOpenTextDocumentParams,\r\n        asChangeTextDocumentParams,\r\n        asCloseTextDocumentParams,\r\n        asSaveTextDocumentParams,\r\n        asWillSaveTextDocumentParams,\r\n        asTextDocumentPositionParams,\r\n        asCompletionParams,\r\n        asWorkerPosition,\r\n        asRange,\r\n        asPosition,\r\n        asDiagnosticSeverity,\r\n        asDiagnostic,\r\n        asDiagnostics,\r\n        asCompletionItem,\r\n        asTextEdit,\r\n        asReferenceParams,\r\n        asCodeActionContext,\r\n        asCommand,\r\n        asCodeLens,\r\n        asFormattingOptions,\r\n        asDocumentSymbolParams,\r\n        asCodeLensParams,\r\n        asDocumentLink,\r\n        asDocumentLinkParams\r\n    };\r\n}\r\nexports.createConverter = createConverter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nconst ls = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\r\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\r\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\r\nvar CodeBlock;\r\n(function (CodeBlock) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\r\n    }\r\n    CodeBlock.is = is;\r\n})(CodeBlock || (CodeBlock = {}));\r\nfunction createConverter(uriConverter) {\r\n    const nullConverter = (value) => code.Uri.parse(value);\r\n    const _uriConverter = uriConverter || nullConverter;\r\n    function asUri(value) {\r\n        return _uriConverter(value);\r\n    }\r\n    function asDiagnostics(diagnostics) {\r\n        return diagnostics.map(asDiagnostic);\r\n    }\r\n    function asDiagnostic(diagnostic) {\r\n        let result = new code.Diagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity));\r\n        if (Is.number(diagnostic.code) || Is.string(diagnostic.code)) {\r\n            result.code = diagnostic.code;\r\n        }\r\n        if (diagnostic.source) {\r\n            result.source = diagnostic.source;\r\n        }\r\n        if (diagnostic.relatedInformation) {\r\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\r\n        }\r\n        return result;\r\n    }\r\n    function asRelatedInformation(relatedInformation) {\r\n        return relatedInformation.map(asDiagnosticRelatedInformation);\r\n    }\r\n    function asDiagnosticRelatedInformation(information) {\r\n        return new code.DiagnosticRelatedInformation(asLocation(information.location), information.message);\r\n    }\r\n    function asPosition(value) {\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        return new code.Position(value.line, value.character);\r\n    }\r\n    function asRange(value) {\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        return new code.Range(asPosition(value.start), asPosition(value.end));\r\n    }\r\n    function asDiagnosticSeverity(value) {\r\n        if (value === void 0 || value === null) {\r\n            return code.DiagnosticSeverity.Error;\r\n        }\r\n        switch (value) {\r\n            case ls.DiagnosticSeverity.Error:\r\n                return code.DiagnosticSeverity.Error;\r\n            case ls.DiagnosticSeverity.Warning:\r\n                return code.DiagnosticSeverity.Warning;\r\n            case ls.DiagnosticSeverity.Information:\r\n                return code.DiagnosticSeverity.Information;\r\n            case ls.DiagnosticSeverity.Hint:\r\n                return code.DiagnosticSeverity.Hint;\r\n        }\r\n        return code.DiagnosticSeverity.Error;\r\n    }\r\n    function asHoverContent(value) {\r\n        if (Is.string(value)) {\r\n            return new code.MarkdownString(value);\r\n        }\r\n        else if (CodeBlock.is(value)) {\r\n            let result = new code.MarkdownString();\r\n            return result.appendCodeblock(value.value, value.language);\r\n        }\r\n        else if (Array.isArray(value)) {\r\n            let result = [];\r\n            for (let element of value) {\r\n                let item = new code.MarkdownString();\r\n                if (CodeBlock.is(element)) {\r\n                    item.appendCodeblock(element.value, element.language);\r\n                }\r\n                else {\r\n                    item.appendMarkdown(element);\r\n                }\r\n                result.push(item);\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            let result;\r\n            switch (value.kind) {\r\n                case ls.MarkupKind.Markdown:\r\n                    return new code.MarkdownString(value.value);\r\n                case ls.MarkupKind.PlainText:\r\n                    result = new code.MarkdownString();\r\n                    result.appendText(value.value);\r\n                    return result;\r\n                default:\r\n                    result = new code.MarkdownString();\r\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\r\n                    return result;\r\n            }\r\n        }\r\n    }\r\n    function asDocumentation(value) {\r\n        if (Is.string(value)) {\r\n            return value;\r\n        }\r\n        else {\r\n            switch (value.kind) {\r\n                case ls.MarkupKind.Markdown:\r\n                    return new code.MarkdownString(value.value);\r\n                case ls.MarkupKind.PlainText:\r\n                    return value.value;\r\n                default:\r\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\r\n            }\r\n        }\r\n    }\r\n    function asHover(hover) {\r\n        if (!hover) {\r\n            return undefined;\r\n        }\r\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\r\n    }\r\n    function asCompletionResult(result) {\r\n        if (!result) {\r\n            return undefined;\r\n        }\r\n        if (Array.isArray(result)) {\r\n            let items = result;\r\n            return items.map(asCompletionItem);\r\n        }\r\n        let list = result;\r\n        return new code.CompletionList(list.items.map(asCompletionItem), list.isIncomplete);\r\n    }\r\n    function asCompletionItemKind(value) {\r\n        // Protocol item kind is 1 based, codes item kind is zero based.\r\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\r\n            return [value - 1, undefined];\r\n        }\r\n        ;\r\n        return [code.CompletionItemKind.Text, value];\r\n    }\r\n    function asCompletionItem(item) {\r\n        let result = new protocolCompletionItem_1.default(item.label);\r\n        if (item.detail) {\r\n            result.detail = item.detail;\r\n        }\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\r\n        }\r\n        ;\r\n        if (item.filterText) {\r\n            result.filterText = item.filterText;\r\n        }\r\n        let insertText = asCompletionInsertText(item);\r\n        if (insertText) {\r\n            result.insertText = insertText.text;\r\n            result.range = insertText.range;\r\n            result.fromEdit = insertText.fromEdit;\r\n        }\r\n        if (Is.number(item.kind)) {\r\n            let [itemKind, original] = asCompletionItemKind(item.kind);\r\n            result.kind = itemKind;\r\n            if (original) {\r\n                result.originalItemKind = original;\r\n            }\r\n        }\r\n        if (item.sortText) {\r\n            result.sortText = item.sortText;\r\n        }\r\n        if (item.additionalTextEdits) {\r\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\r\n        }\r\n        if (Is.stringArray(item.commitCharacters)) {\r\n            result.commitCharacters = item.commitCharacters.slice();\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.deprecated === true || item.deprecated === false) {\r\n            result.deprecated = item.deprecated;\r\n        }\r\n        if (item.preselect === true || item.preselect === false) {\r\n            result.preselect = item.preselect;\r\n        }\r\n        if (item.data !== void 0) {\r\n            result.data = item.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asCompletionInsertText(item) {\r\n        if (item.textEdit) {\r\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                return { text: new code.SnippetString(item.textEdit.newText), range: asRange(item.textEdit.range), fromEdit: true };\r\n            }\r\n            else {\r\n                return { text: item.textEdit.newText, range: asRange(item.textEdit.range), fromEdit: true };\r\n            }\r\n        }\r\n        else if (item.insertText) {\r\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\r\n            }\r\n            else {\r\n                return { text: item.insertText, fromEdit: false };\r\n            }\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    function asTextEdit(edit) {\r\n        if (!edit) {\r\n            return undefined;\r\n        }\r\n        return new code.TextEdit(asRange(edit.range), edit.newText);\r\n    }\r\n    function asTextEdits(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asTextEdit);\r\n    }\r\n    function asSignatureHelp(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new code.SignatureHelp();\r\n        if (Is.number(item.activeSignature)) {\r\n            result.activeSignature = item.activeSignature;\r\n        }\r\n        else {\r\n            // activeSignature was optional in the past\r\n            result.activeSignature = 0;\r\n        }\r\n        if (Is.number(item.activeParameter)) {\r\n            result.activeParameter = item.activeParameter;\r\n        }\r\n        else {\r\n            // activeParameter was optional in the past\r\n            result.activeParameter = 0;\r\n        }\r\n        if (item.signatures) {\r\n            result.signatures = asSignatureInformations(item.signatures);\r\n        }\r\n        return result;\r\n    }\r\n    function asSignatureInformations(items) {\r\n        return items.map(asSignatureInformation);\r\n    }\r\n    function asSignatureInformation(item) {\r\n        let result = new code.SignatureInformation(item.label);\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n        }\r\n        if (item.parameters) {\r\n            result.parameters = asParameterInformations(item.parameters);\r\n        }\r\n        return result;\r\n    }\r\n    function asParameterInformations(item) {\r\n        return item.map(asParameterInformation);\r\n    }\r\n    function asParameterInformation(item) {\r\n        let result = new code.ParameterInformation(item.label);\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n        }\r\n        ;\r\n        return result;\r\n    }\r\n    function asLocation(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return new code.Location(_uriConverter(item.uri), asRange(item.range));\r\n    }\r\n    function asDeclarationResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return asLocationResult(item);\r\n    }\r\n    function asDefinitionResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return asLocationResult(item);\r\n    }\r\n    function asLocationLink(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return {\r\n            targetUri: _uriConverter(item.targetUri),\r\n            targetRange: asRange(item.targetSelectionRange),\r\n            originSelectionRange: asRange(item.originSelectionRange),\r\n            targetSelectionRange: asRange(item.targetSelectionRange)\r\n        };\r\n    }\r\n    function asLocationResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        if (Is.array(item)) {\r\n            if (item.length === 0) {\r\n                return [];\r\n            }\r\n            else if (ls.LocationLink.is(item[0])) {\r\n                let links = item;\r\n                return links.map((link) => asLocationLink(link));\r\n            }\r\n            else {\r\n                let locations = item;\r\n                return locations.map((location) => asLocation(location));\r\n            }\r\n        }\r\n        else if (ls.LocationLink.is(item)) {\r\n            return [asLocationLink(item)];\r\n        }\r\n        else {\r\n            return asLocation(item);\r\n        }\r\n    }\r\n    function asReferences(values) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(location => asLocation(location));\r\n    }\r\n    function asDocumentHighlights(values) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(asDocumentHighlight);\r\n    }\r\n    function asDocumentHighlight(item) {\r\n        let result = new code.DocumentHighlight(asRange(item.range));\r\n        if (Is.number(item.kind)) {\r\n            result.kind = asDocumentHighlightKind(item.kind);\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentHighlightKind(item) {\r\n        switch (item) {\r\n            case ls.DocumentHighlightKind.Text:\r\n                return code.DocumentHighlightKind.Text;\r\n            case ls.DocumentHighlightKind.Read:\r\n                return code.DocumentHighlightKind.Read;\r\n            case ls.DocumentHighlightKind.Write:\r\n                return code.DocumentHighlightKind.Write;\r\n        }\r\n        return code.DocumentHighlightKind.Text;\r\n    }\r\n    function asSymbolInformations(values, uri) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(information => asSymbolInformation(information, uri));\r\n    }\r\n    function asSymbolKind(item) {\r\n        if (item <= ls.SymbolKind.TypeParameter) {\r\n            // Symbol kind is one based in the protocol and zero based in code.\r\n            return item - 1;\r\n        }\r\n        return code.SymbolKind.Property;\r\n    }\r\n    function asSymbolInformation(item, uri) {\r\n        // Symbol kind is one based in the protocol and zero based in code.\r\n        let result = new code.SymbolInformation(item.name, asSymbolKind(item.kind), asRange(item.location.range), item.location.uri ? _uriConverter(item.location.uri) : uri);\r\n        if (item.containerName) {\r\n            result.containerName = item.containerName;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentSymbols(values) {\r\n        if (values === void 0 || values === null) {\r\n            return undefined;\r\n        }\r\n        return values.map(asDocumentSymbol);\r\n    }\r\n    function asDocumentSymbol(value) {\r\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\r\n        if (value.children !== void 0 && value.children.length > 0) {\r\n            let children = [];\r\n            for (let child of value.children) {\r\n                children.push(asDocumentSymbol(child));\r\n            }\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    function asCommand(item) {\r\n        let result = { title: item.title, command: item.command };\r\n        if (item.arguments) {\r\n            result.arguments = item.arguments;\r\n        }\r\n        return result;\r\n    }\r\n    function asCommands(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asCommand);\r\n    }\r\n    const kindMapping = new Map();\r\n    kindMapping.set('', code.CodeActionKind.Empty);\r\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\r\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\r\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\r\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\r\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\r\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\r\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\r\n    function asCodeActionKind(item) {\r\n        if (item === void 0 || item === null) {\r\n            return undefined;\r\n        }\r\n        let result = kindMapping.get(item);\r\n        if (result) {\r\n            return result;\r\n        }\r\n        let parts = item.split('.');\r\n        result = code.CodeActionKind.Empty;\r\n        for (let part of parts) {\r\n            result = result.append(part);\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeActionKinds(items) {\r\n        if (items === void 0 || items === null) {\r\n            return undefined;\r\n        }\r\n        return items.map(kind => asCodeActionKind(kind));\r\n    }\r\n    function asCodeAction(item) {\r\n        if (item === void 0 || item === null) {\r\n            return undefined;\r\n        }\r\n        let result = new code.CodeAction(item.title);\r\n        if (item.kind !== void 0) {\r\n            result.kind = asCodeActionKind(item.kind);\r\n        }\r\n        if (item.diagnostics) {\r\n            result.diagnostics = asDiagnostics(item.diagnostics);\r\n        }\r\n        if (item.edit) {\r\n            result.edit = asWorkspaceEdit(item.edit);\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLens(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new protocolCodeLens_1.default(asRange(item.range));\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.data !== void 0 && item.data !== null) {\r\n            result.data = item.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLenses(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map((codeLens) => asCodeLens(codeLens));\r\n    }\r\n    function asWorkspaceEdit(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new code.WorkspaceEdit();\r\n        if (item.documentChanges) {\r\n            item.documentChanges.forEach(change => {\r\n                if (ls.CreateFile.is(change)) {\r\n                    result.createFile(_uriConverter(change.uri), change.options);\r\n                }\r\n                else if (ls.RenameFile.is(change)) {\r\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options);\r\n                }\r\n                else if (ls.DeleteFile.is(change)) {\r\n                    result.deleteFile(_uriConverter(change.uri), change.options);\r\n                }\r\n                else if (ls.TextDocumentEdit.is(change)) {\r\n                    result.set(_uriConverter(change.textDocument.uri), asTextEdits(change.edits));\r\n                }\r\n                else {\r\n                    console.error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\r\n                }\r\n            });\r\n        }\r\n        else if (item.changes) {\r\n            Object.keys(item.changes).forEach(key => {\r\n                result.set(_uriConverter(key), asTextEdits(item.changes[key]));\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentLink(item) {\r\n        let range = asRange(item.range);\r\n        let target = item.target ? asUri(item.target) : undefined;\r\n        // target must be optional in DocumentLink\r\n        let link = new protocolDocumentLink_1.default(range, target);\r\n        if (item.data !== void 0 && item.data !== null) {\r\n            link.data = item.data;\r\n        }\r\n        return link;\r\n    }\r\n    function asDocumentLinks(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asDocumentLink);\r\n    }\r\n    function asColor(color) {\r\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\r\n    }\r\n    function asColorInformation(ci) {\r\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\r\n    }\r\n    function asColorInformations(colorInformation) {\r\n        if (Array.isArray(colorInformation)) {\r\n            return colorInformation.map(asColorInformation);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asColorPresentation(cp) {\r\n        let presentation = new code.ColorPresentation(cp.label);\r\n        presentation.additionalTextEdits = asTextEdits(cp.additionalTextEdits);\r\n        if (cp.textEdit) {\r\n            presentation.textEdit = asTextEdit(cp.textEdit);\r\n        }\r\n        return presentation;\r\n    }\r\n    function asColorPresentations(colorPresentations) {\r\n        if (Array.isArray(colorPresentations)) {\r\n            return colorPresentations.map(asColorPresentation);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asFoldingRangeKind(kind) {\r\n        if (kind) {\r\n            switch (kind) {\r\n                case ls.FoldingRangeKind.Comment:\r\n                    return code.FoldingRangeKind.Comment;\r\n                case ls.FoldingRangeKind.Imports:\r\n                    return code.FoldingRangeKind.Imports;\r\n                case ls.FoldingRangeKind.Region:\r\n                    return code.FoldingRangeKind.Region;\r\n            }\r\n        }\r\n        return void 0;\r\n    }\r\n    function asFoldingRange(r) {\r\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\r\n    }\r\n    function asFoldingRanges(foldingRanges) {\r\n        if (Array.isArray(foldingRanges)) {\r\n            return foldingRanges.map(asFoldingRange);\r\n        }\r\n        return void 0;\r\n    }\r\n    return {\r\n        asUri,\r\n        asDiagnostics,\r\n        asDiagnostic,\r\n        asRange,\r\n        asPosition,\r\n        asDiagnosticSeverity,\r\n        asHover,\r\n        asCompletionResult,\r\n        asCompletionItem,\r\n        asTextEdit,\r\n        asTextEdits,\r\n        asSignatureHelp,\r\n        asSignatureInformations,\r\n        asSignatureInformation,\r\n        asParameterInformations,\r\n        asParameterInformation,\r\n        asDeclarationResult,\r\n        asDefinitionResult,\r\n        asLocation,\r\n        asReferences,\r\n        asDocumentHighlights,\r\n        asDocumentHighlight,\r\n        asDocumentHighlightKind,\r\n        asSymbolInformations,\r\n        asSymbolInformation,\r\n        asDocumentSymbols,\r\n        asDocumentSymbol,\r\n        asCommand,\r\n        asCommands,\r\n        asCodeAction,\r\n        asCodeActionKind,\r\n        asCodeActionKinds,\r\n        asCodeLens,\r\n        asCodeLenses,\r\n        asWorkspaceEdit,\r\n        asDocumentLink,\r\n        asDocumentLinks,\r\n        asFoldingRangeKind,\r\n        asFoldingRange,\r\n        asFoldingRanges,\r\n        asColor,\r\n        asColorInformation,\r\n        asColorInformations,\r\n        asColorPresentation,\r\n        asColorPresentations\r\n    };\r\n}\r\nexports.createConverter = createConverter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Delayer {\r\n    constructor(defaultDelay) {\r\n        this.defaultDelay = defaultDelay;\r\n        this.timeout = undefined;\r\n        this.completionPromise = undefined;\r\n        this.onSuccess = undefined;\r\n        this.task = undefined;\r\n    }\r\n    trigger(task, delay = this.defaultDelay) {\r\n        this.task = task;\r\n        if (delay >= 0) {\r\n            this.cancelTimeout();\r\n        }\r\n        if (!this.completionPromise) {\r\n            this.completionPromise = new Promise((resolve) => {\r\n                this.onSuccess = resolve;\r\n            }).then(() => {\r\n                this.completionPromise = undefined;\r\n                this.onSuccess = undefined;\r\n                var result = this.task();\r\n                this.task = undefined;\r\n                return result;\r\n            });\r\n        }\r\n        if (delay >= 0 || this.timeout === void 0) {\r\n            this.timeout = setTimeout(() => {\r\n                this.timeout = undefined;\r\n                this.onSuccess(undefined);\r\n            }, delay >= 0 ? delay : this.defaultDelay);\r\n        }\r\n        return this.completionPromise;\r\n    }\r\n    forceDelivery() {\r\n        if (!this.completionPromise) {\r\n            return undefined;\r\n        }\r\n        this.cancelTimeout();\r\n        let result = this.task();\r\n        this.completionPromise = undefined;\r\n        this.onSuccess = undefined;\r\n        this.task = undefined;\r\n        return result;\r\n    }\r\n    isTriggered() {\r\n        return this.timeout !== void 0;\r\n    }\r\n    cancel() {\r\n        this.cancelTimeout();\r\n        this.completionPromise = undefined;\r\n    }\r\n    cancelTimeout() {\r\n        if (this.timeout !== void 0) {\r\n            clearTimeout(this.timeout);\r\n            this.timeout = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Delayer = Delayer;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass ColorProviderFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'colorProvider').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.colorProvider) {\r\n            return;\r\n        }\r\n        const implCapabilities = capabilities.colorProvider;\r\n        const id = Is.string(implCapabilities.id) && implCapabilities.id.length > 0 ? implCapabilities.id : UUID.generateUuid();\r\n        const selector = implCapabilities.documentSelector || documentSelector;\r\n        if (selector) {\r\n            this.register(this.messages, {\r\n                id,\r\n                registerOptions: Object.assign({}, { documentSelector: selector })\r\n            });\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideColorPresentations = (color, context, token) => {\r\n            const requestParams = {\r\n                color,\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\r\n                range: client.code2ProtocolConverter.asRange(context.range)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then(this.asColorPresentations.bind(this), (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let provideDocumentColors = (document, token) => {\r\n            const requestParams = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then(this.asColorInformations.bind(this), (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerColorProvider(options.documentSelector, {\r\n            provideColorPresentations: (color, context, token) => {\r\n                return middleware.provideColorPresentations\r\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\r\n                    : provideColorPresentations(color, context, token);\r\n            },\r\n            provideDocumentColors: (document, token) => {\r\n                return middleware.provideDocumentColors\r\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\r\n                    : provideDocumentColors(document, token);\r\n            }\r\n        });\r\n    }\r\n    asColor(color) {\r\n        return new vscode_1.Color(color.red, color.green, color.blue, color.alpha);\r\n    }\r\n    asColorInformations(colorInformation) {\r\n        if (Array.isArray(colorInformation)) {\r\n            return colorInformation.map(ci => {\r\n                return new vscode_1.ColorInformation(this._client.protocol2CodeConverter.asRange(ci.range), this.asColor(ci.color));\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n    asColorPresentations(colorPresentations) {\r\n        if (Array.isArray(colorPresentations)) {\r\n            return colorPresentations.map(cp => {\r\n                let presentation = new vscode_1.ColorPresentation(cp.label);\r\n                presentation.additionalTextEdits = this._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits);\r\n                presentation.textEdit = this._client.protocol2CodeConverter.asTextEdit(cp.textEdit);\r\n                return presentation;\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n}\r\nexports.ColorProviderFeature = ColorProviderFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nclass ConfigurationFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        capabilities.workspace = capabilities.workspace || {};\r\n        capabilities.workspace.configuration = true;\r\n    }\r\n    initialize() {\r\n        let client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\r\n            let configuration = (params) => {\r\n                let result = [];\r\n                for (let item of params.items) {\r\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\r\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\r\n                }\r\n                return result;\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            return middleware && middleware.configuration\r\n                ? middleware.configuration(params, token, configuration)\r\n                : configuration(params, token);\r\n        });\r\n    }\r\n    getConfiguration(resource, section) {\r\n        let result = null;\r\n        if (section) {\r\n            let index = section.lastIndexOf('.');\r\n            if (index === -1) {\r\n                result = vscode_1.workspace.getConfiguration(undefined, resource).get(section);\r\n            }\r\n            else {\r\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index));\r\n                if (config) {\r\n                    result = config.get(section.substr(index + 1));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\r\n            result = {};\r\n            for (let key of Object.keys(config)) {\r\n                if (config.has(key)) {\r\n                    result[key] = config.get(key);\r\n                }\r\n            }\r\n        }\r\n        if (!result) {\r\n            return null;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.ConfigurationFeature = ConfigurationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass ImplementationFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let implementationSupport = ensure(ensure(capabilites, 'textDocument'), 'implementation');\r\n        implementationSupport.dynamicRegistration = true;\r\n        implementationSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.implementationProvider) {\r\n            return;\r\n        }\r\n        if (capabilities.implementationProvider === true) {\r\n            if (!documentSelector) {\r\n                return;\r\n            }\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n            });\r\n        }\r\n        else {\r\n            const implCapabilities = capabilities.implementationProvider;\r\n            const id = Is.string(implCapabilities.id) && implCapabilities.id.length > 0 ? implCapabilities.id : UUID.generateUuid();\r\n            const selector = implCapabilities.documentSelector || documentSelector;\r\n            if (selector) {\r\n                this.register(this.messages, {\r\n                    id,\r\n                    registerOptions: Object.assign({}, { documentSelector: selector })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideImplementation = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerImplementationProvider(options.documentSelector, {\r\n            provideImplementation: (document, position, token) => {\r\n                return middleware.provideImplementation\r\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\r\n                    : provideImplementation(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.ImplementationFeature = ImplementationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass TypeDefinitionFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\r\n        let typeDefinitionSupport = ensure(ensure(capabilites, 'textDocument'), 'typeDefinition');\r\n        typeDefinitionSupport.dynamicRegistration = true;\r\n        typeDefinitionSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.typeDefinitionProvider) {\r\n            return;\r\n        }\r\n        if (capabilities.typeDefinitionProvider === true) {\r\n            if (!documentSelector) {\r\n                return;\r\n            }\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n            });\r\n        }\r\n        else {\r\n            const implCapabilities = capabilities.typeDefinitionProvider;\r\n            const id = Is.string(implCapabilities.id) && implCapabilities.id.length > 0 ? implCapabilities.id : UUID.generateUuid();\r\n            const selector = implCapabilities.documentSelector || documentSelector;\r\n            if (selector) {\r\n                this.register(this.messages, {\r\n                    id,\r\n                    registerOptions: Object.assign({}, { documentSelector: selector })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideTypeDefinition = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector, {\r\n            provideTypeDefinition: (document, position, token) => {\r\n                return middleware.provideTypeDefinition\r\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\r\n                    : provideTypeDefinition(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nfunction access(target, key) {\r\n    if (target === void 0) {\r\n        return undefined;\r\n    }\r\n    return target[key];\r\n}\r\nclass WorkspaceFoldersFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._listeners = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\r\n    }\r\n    fillInitializeParams(params) {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (folders === void 0) {\r\n            params.workspaceFolders = null;\r\n        }\r\n        else {\r\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\r\n        }\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        capabilities.workspace = capabilities.workspace || {};\r\n        capabilities.workspace.workspaceFolders = true;\r\n    }\r\n    initialize(capabilities) {\r\n        let client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\r\n            let workspaceFolders = () => {\r\n                let folders = vscode_1.workspace.workspaceFolders;\r\n                if (folders === void 0) {\r\n                    return null;\r\n                }\r\n                let result = folders.map((folder) => {\r\n                    return this.asProtocol(folder);\r\n                });\r\n                return result;\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            return middleware && middleware.workspaceFolders\r\n                ? middleware.workspaceFolders(token, workspaceFolders)\r\n                : workspaceFolders(token);\r\n        });\r\n        let value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\r\n        let id;\r\n        if (typeof value === 'string') {\r\n            id = value;\r\n        }\r\n        else if (value === true) {\r\n            id = UUID.generateUuid();\r\n        }\r\n        if (id) {\r\n            this.register(this.messages, {\r\n                id: id,\r\n                registerOptions: undefined\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        let id = data.id;\r\n        let client = this._client;\r\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\r\n            let didChangeWorkspaceFolders = (event) => {\r\n                let params = {\r\n                    event: {\r\n                        added: event.added.map(folder => this.asProtocol(folder)),\r\n                        removed: event.removed.map(folder => this.asProtocol(folder))\r\n                    }\r\n                };\r\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            middleware && middleware.didChangeWorkspaceFolders\r\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\r\n                : didChangeWorkspaceFolders(event);\r\n        });\r\n        this._listeners.set(id, disposable);\r\n    }\r\n    unregister(id) {\r\n        let disposable = this._listeners.get(id);\r\n        if (disposable === void 0) {\r\n            return;\r\n        }\r\n        this._listeners.delete(id);\r\n        disposable.dispose();\r\n    }\r\n    dispose() {\r\n        for (let disposable of this._listeners.values()) {\r\n            disposable.dispose();\r\n        }\r\n        this._listeners.clear();\r\n    }\r\n    asProtocol(workspaceFolder) {\r\n        if (workspaceFolder === void 0) {\r\n            return null;\r\n        }\r\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\r\n    }\r\n}\r\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass FoldingRangeFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let capability = ensure(ensure(capabilites, 'textDocument'), 'foldingRange');\r\n        capability.dynamicRegistration = true;\r\n        capability.rangeLimit = 5000;\r\n        capability.lineFoldingOnly = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.foldingRangeProvider) {\r\n            return;\r\n        }\r\n        const implCapabilities = capabilities.foldingRangeProvider;\r\n        const id = Is.string(implCapabilities.id) && implCapabilities.id.length > 0 ? implCapabilities.id : UUID.generateUuid();\r\n        const selector = implCapabilities.documentSelector || documentSelector;\r\n        if (selector) {\r\n            this.register(this.messages, {\r\n                id,\r\n                registerOptions: Object.assign({}, { documentSelector: selector })\r\n            });\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideFoldingRanges = (document, _, token) => {\r\n            const requestParams = {\r\n                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then(this.asFoldingRanges.bind(this), (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerFoldingRangeProvider(options.documentSelector, {\r\n            provideFoldingRanges(document, context, token) {\r\n                return middleware.provideFoldingRanges\r\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\r\n                    : provideFoldingRanges(document, context, token);\r\n            }\r\n        });\r\n    }\r\n    asFoldingRangeKind(kind) {\r\n        if (kind) {\r\n            switch (kind) {\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:\r\n                    return vscode_1.FoldingRangeKind.Comment;\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:\r\n                    return vscode_1.FoldingRangeKind.Imports;\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Region:\r\n                    return vscode_1.FoldingRangeKind.Region;\r\n            }\r\n        }\r\n        return void 0;\r\n    }\r\n    asFoldingRanges(foldingRanges) {\r\n        if (Array.isArray(foldingRanges)) {\r\n            return foldingRanges.map(r => {\r\n                return new vscode_1.FoldingRange(r.startLine, r.endLine, this.asFoldingRangeKind(r.kind));\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n}\r\nexports.FoldingRangeFeature = FoldingRangeFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass DeclarationFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let declarationSupport = ensure(ensure(capabilites, 'textDocument'), 'declaration');\r\n        declarationSupport.dynamicRegistration = true;\r\n        declarationSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        if (!capabilities.declarationProvider) {\r\n            return;\r\n        }\r\n        if (capabilities.declarationProvider === true) {\r\n            if (!documentSelector) {\r\n                return;\r\n            }\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector })\r\n            });\r\n        }\r\n        else {\r\n            const declCapabilities = capabilities.declarationProvider;\r\n            const id = Is.string(declCapabilities.id) && declCapabilities.id.length > 0 ? declCapabilities.id : UUID.generateUuid();\r\n            const selector = declCapabilities.documentSelector || documentSelector;\r\n            if (selector) {\r\n                this.register(this.messages, {\r\n                    id,\r\n                    registerOptions: Object.assign({}, { documentSelector: selector })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    registerLanguageProvider(options) {\r\n        let client = this._client;\r\n        let provideDeclaration = (document, position, token) => {\r\n            return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDeclarationResult, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, error);\r\n                return Promise.resolve(null);\r\n            });\r\n        };\r\n        let middleware = client.clientOptions.middleware;\r\n        return vscode_1.languages.registerDeclarationProvider(options.documentSelector, {\r\n            provideDeclaration: (document, position, token) => {\r\n                return middleware.provideDeclaration\r\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\r\n                    : provideDeclaration(document, position, token);\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.DeclarationFeature = DeclarationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst cp = require(\"child_process\");\r\nconst path_1 = require(\"path\");\r\nconst isWindows = (process.platform === 'win32');\r\nconst isMacintosh = (process.platform === 'darwin');\r\nconst isLinux = (process.platform === 'linux');\r\nfunction terminate(process, cwd) {\r\n    if (isWindows) {\r\n        try {\r\n            // This we run in Atom execFileSync is available.\r\n            // Ignore stderr since this is otherwise piped to parent.stderr\r\n            // which might be already closed.\r\n            let options = {\r\n                stdio: ['pipe', 'pipe', 'ignore']\r\n            };\r\n            if (cwd) {\r\n                options.cwd = cwd;\r\n            }\r\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\r\n            return true;\r\n        }\r\n        catch (err) {\r\n            return false;\r\n        }\r\n    }\r\n    else if (isLinux || isMacintosh) {\r\n        try {\r\n            var cmd = path_1.join(__dirname, 'terminateProcess.sh');\r\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\r\n            return result.error ? false : true;\r\n        }\r\n        catch (err) {\r\n            return false;\r\n        }\r\n    }\r\n    else {\r\n        process.kill('SIGKILL');\r\n        return true;\r\n    }\r\n}\r\nexports.terminate = terminate;\r\n","import {\n\tClientCapabilities,\n\tLanguageClient,\n\tRequestType,\n\tStaticFeature,\n\tInitializeParams,\n} from 'vscode-languageclient';\nimport { Uri, workspace, WorkspaceFolder } from 'vscode';\nimport { loadEnv, IEnvironment } from './util/env';\n\ninterface WorkspaceRubyEnvironmentParams {\n\treadonly folders: string[];\n}\n\ninterface WorkspaceRubyEnvironmentResult {\n\t[key: string]: IEnvironment;\n}\n\nnamespace WorkspaceRubyEnvironmentRequest {\n\texport const type = new RequestType<\n\t\tWorkspaceRubyEnvironmentParams,\n\t\tWorkspaceRubyEnvironmentResult,\n\t\tvoid,\n\t\ttrue\n\t>('workspace/rubyEnvironment');\n}\n\ntype WorkspaceRubyEnvironmentCapability = {\n\tworkspace?: {\n\t\trubyEnvironment?: boolean;\n\t};\n};\n\ntype ClientCapabilitiesWithRubyEnvironment = ClientCapabilities &\n\tWorkspaceRubyEnvironmentCapability;\n\nexport enum NodeRuntime {\n\tElectron = 1,\n\tNode = 2\n}\n\nexport class WorkspaceRubyEnvironmentFeature implements StaticFeature {\n\tconstructor(private client: LanguageClient, private runtime: NodeRuntime) { }\n\n\tpublic fillInitializeParams(params: InitializeParams): void {\n\t\tparams.initializationOptions = params.initializationOptions || {};\n\t\tparams.initializationOptions.runtime = this.runtime;\n\t}\n\n\tpublic fillClientCapabilities(capabilities: ClientCapabilitiesWithRubyEnvironment): void {\n\t\tcapabilities.workspace = capabilities.workspace || {};\n\t\tcapabilities.workspace!.rubyEnvironment = true;\n\t}\n\n\tpublic initialize(): void {\n\t\tthis.client.onRequest(\n\t\t\tWorkspaceRubyEnvironmentRequest.type,\n\t\t\tasync (params: WorkspaceRubyEnvironmentParams): Promise<WorkspaceRubyEnvironmentResult> => {\n\t\t\t\tconst environments: WorkspaceRubyEnvironmentResult = {};\n\n\t\t\t\tfor (const uri of params.folders) {\n\t\t\t\t\tconst workspaceFolder: WorkspaceFolder = workspace.getWorkspaceFolder(Uri.parse(uri));\n\n\t\t\t\t\tif (workspaceFolder && workspaceFolder.uri.fsPath) {\n\t\t\t\t\t\tenvironments[uri] = await loadEnv(workspaceFolder.uri.fsPath);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn environments;\n\t\t\t}\n\t\t);\n\t}\n}\n","import execa from 'execa';\nimport defaultShell from 'default-shell';\nimport fs from 'fs';\nimport path from 'path';\n\nconst SHIM_DIR = path.resolve(__dirname, 'shims');\nconst SHIM_EXTENSION = isWindows() ? 'cmd' : 'sh';\n\nif (!fs.existsSync(SHIM_DIR)) {\n\tfs.mkdirSync(SHIM_DIR);\n}\n\nfunction isWindows(): boolean {\n\treturn process.platform === 'win32';\n}\n\nfunction getTemplate(shell: string): string {\n\tlet template;\n\tif (isWindows()) {\n\t\ttemplate = 'SET';\n\t} else {\n\t\ttemplate = `#!${shell} -i\\nexport`;\n\t}\n\n\treturn template;\n}\n\nfunction mkShim(shell: string, shimPath: string): boolean {\n\tconst template = getTemplate(shell);\n\tlet result = false;\n\n\ttry {\n\t\tfs.writeFileSync(shimPath, template);\n\t\tfs.chmodSync(shimPath, 0o744);\n\t\tresult = true;\n\t} catch (e) {\n\t\tconsole.log(e);\n\t}\n\n\treturn result;\n}\n\nfunction getShim(): string {\n\tconst shellName: string = path.basename(defaultShell);\n\tconst shimPath = path.join(SHIM_DIR, `env.${shellName}.${SHIM_EXTENSION}`);\n\tif (!fs.existsSync(shimPath)) {\n\t\tmkShim(defaultShell, shimPath);\n\t}\n\n\treturn shimPath;\n}\n\n// Based on the dotenv parse function:\n// https://github.com/motdotla/dotenv/blob/master/lib/main.js#L32\n// modified to not have to deal with Buffers and to handle stuff\n// like export and declare -x at the start of the line\nfunction processExportLine(line: string): string[] {\n\tconst result = [];\n\t// matching \"KEY' and 'VAL' in 'KEY=VAL' with support for arbitrary prefixes\n\tconst keyValueArr = line.match(/^(?:[\\w-]*\\s+)*([\\w.-]+)\\s*=\\s*(.*)?\\s*$/);\n\tif (keyValueArr != null) {\n\t\tconst key = keyValueArr[1];\n\n\t\t// default undefined or missing values to empty string\n\t\tlet value = keyValueArr[2] || '';\n\n\t\t// expand newlines in quoted values\n\t\tconst len = value ? value.length : 0;\n\t\tif (len > 0 && value.charAt(0) === '\"' && value.charAt(len - 1) === '\"') {\n\t\t\tvalue = value.replace(/\\\\n/gm, '\\n');\n\t\t}\n\n\t\t// remove any surrounding quotes and extra spaces\n\t\tvalue = value.replace(/(^['\"]|['\"]$)/g, '').trim();\n\n\t\tresult.push(key, value);\n\t}\n\n\treturn result;\n}\n\nconst RUBY_ENVIRONMENT_VARIABLES = [\n\t'PATH',\n\t'Path', // Windows\n\t'PATHEXT', // Windows\n\t'RUBY_VERSION',\n\t'RUBY_ROOT',\n\t'RUBY_ENGINE',\n\t'RUBYOPT',\n\t'GEM_HOME',\n\t'GEM_PATH',\n\t'GEM_ROOT',\n\t'HOME',\n\t'RUBOCOP_OPTS',\n\t'LANG',\n];\n\nexport interface IEnvironment {\n\t[key: string]: string;\n}\n\nexport function loadEnv(cwd: string): IEnvironment {\n\tconst shim: string = getShim();\n\tconst env: IEnvironment = {};\n\tconst { stdout, stderr } = execa.sync(shim, [], {\n\t\tcwd,\n\t});\n\n\tconsole.error(stderr);\n\n\tfor (const line of stdout.split('\\n')) {\n\t\tconst result: string[] = processExportLine(line);\n\t\tconst name = result[0];\n\t\tif (RUBY_ENVIRONMENT_VARIABLES.indexOf(name) >= 0) {\n\t\t\tenv[name] = result[1];\n\t\t}\n\t}\n\n\treturn env;\n}\n","'use strict';\nconst path = require('path');\nconst childProcess = require('child_process');\nconst crossSpawn = require('cross-spawn');\nconst stripFinalNewline = require('strip-final-newline');\nconst npmRunPath = require('npm-run-path');\nconst onetime = require('onetime');\nconst makeError = require('./lib/error');\nconst normalizeStdio = require('./lib/stdio');\nconst {spawnedKill, spawnedCancel, setupTimeout, setExitHandler} = require('./lib/kill');\nconst {handleInput, getSpawnedResult, makeAllStream, validateInputSync} = require('./lib/stream.js');\nconst {mergePromise, getSpawnedPromise} = require('./lib/promise.js');\nconst {joinCommand, parseCommand} = require('./lib/command.js');\n\nconst DEFAULT_MAX_BUFFER = 1000 * 1000 * 100;\n\nconst getEnv = ({env: envOption, extendEnv, preferLocal, localDir}) => {\n\tconst env = extendEnv ? {...process.env, ...envOption} : envOption;\n\n\tif (preferLocal) {\n\t\treturn npmRunPath.env({env, cwd: localDir});\n\t}\n\n\treturn env;\n};\n\nconst handleArgs = (file, args, options = {}) => {\n\tconst parsed = crossSpawn._parse(file, args, options);\n\tfile = parsed.command;\n\targs = parsed.args;\n\toptions = parsed.options;\n\n\toptions = {\n\t\tmaxBuffer: DEFAULT_MAX_BUFFER,\n\t\tbuffer: true,\n\t\tstripFinalNewline: true,\n\t\textendEnv: true,\n\t\tpreferLocal: false,\n\t\tlocalDir: options.cwd || process.cwd(),\n\t\tencoding: 'utf8',\n\t\treject: true,\n\t\tcleanup: true,\n\t\t...options,\n\t\twindowsHide: true\n\t};\n\n\toptions.env = getEnv(options);\n\n\toptions.stdio = normalizeStdio(options);\n\n\tif (process.platform === 'win32' && path.basename(file, '.exe') === 'cmd') {\n\t\t// #116\n\t\targs.unshift('/q');\n\t}\n\n\treturn {file, args, options, parsed};\n};\n\nconst handleOutput = (options, value, error) => {\n\tif (typeof value !== 'string' && !Buffer.isBuffer(value)) {\n\t\t// When `execa.sync()` errors, we normalize it to '' to mimic `execa()`\n\t\treturn error === undefined ? undefined : '';\n\t}\n\n\tif (options.stripFinalNewline) {\n\t\treturn stripFinalNewline(value);\n\t}\n\n\treturn value;\n};\n\nconst execa = (file, args, options) => {\n\tconst parsed = handleArgs(file, args, options);\n\tconst command = joinCommand(file, args);\n\n\tlet spawned;\n\ttry {\n\t\tspawned = childProcess.spawn(parsed.file, parsed.args, parsed.options);\n\t} catch (error) {\n\t\t// Ensure the returned error is always both a promise and a child process\n\t\tconst dummySpawned = new childProcess.ChildProcess();\n\t\tconst errorPromise = Promise.reject(makeError({\n\t\t\terror,\n\t\t\tstdout: '',\n\t\t\tstderr: '',\n\t\t\tall: '',\n\t\t\tcommand,\n\t\t\tparsed,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false\n\t\t}));\n\t\treturn mergePromise(dummySpawned, errorPromise);\n\t}\n\n\tconst spawnedPromise = getSpawnedPromise(spawned);\n\tconst timedPromise = setupTimeout(spawned, parsed.options, spawnedPromise);\n\tconst processDone = setExitHandler(spawned, parsed.options, timedPromise);\n\n\tconst context = {isCanceled: false};\n\n\tspawned.kill = spawnedKill.bind(null, spawned.kill.bind(spawned));\n\tspawned.cancel = spawnedCancel.bind(null, spawned, context);\n\n\tconst handlePromise = async () => {\n\t\tconst [{error, code, signal, timedOut}, stdoutResult, stderrResult, allResult] = await getSpawnedResult(spawned, parsed.options, processDone);\n\t\tconst stdout = handleOutput(parsed.options, stdoutResult);\n\t\tconst stderr = handleOutput(parsed.options, stderrResult);\n\t\tconst all = handleOutput(parsed.options, allResult);\n\n\t\tif (error || code !== 0 || signal !== null) {\n\t\t\tconst returnedError = makeError({\n\t\t\t\terror,\n\t\t\t\tcode,\n\t\t\t\tsignal,\n\t\t\t\tstdout,\n\t\t\t\tstderr,\n\t\t\t\tall,\n\t\t\t\tcommand,\n\t\t\t\tparsed,\n\t\t\t\ttimedOut,\n\t\t\t\tisCanceled: context.isCanceled,\n\t\t\t\tkilled: spawned.killed\n\t\t\t});\n\n\t\t\tif (!parsed.options.reject) {\n\t\t\t\treturn returnedError;\n\t\t\t}\n\n\t\t\tthrow returnedError;\n\t\t}\n\n\t\treturn {\n\t\t\tcommand,\n\t\t\texitCode: 0,\n\t\t\texitCodeName: 'SUCCESS',\n\t\t\tstdout,\n\t\t\tstderr,\n\t\t\tall,\n\t\t\tfailed: false,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false\n\t\t};\n\t};\n\n\tconst handlePromiseOnce = onetime(handlePromise);\n\n\tcrossSpawn._enoent.hookChildProcess(spawned, parsed.parsed);\n\n\thandleInput(spawned, parsed.options.input);\n\n\tspawned.all = makeAllStream(spawned);\n\n\treturn mergePromise(spawned, handlePromiseOnce);\n};\n\nmodule.exports = execa;\n\nmodule.exports.sync = (file, args, options) => {\n\tconst parsed = handleArgs(file, args, options);\n\tconst command = joinCommand(file, args);\n\n\tvalidateInputSync(parsed.options);\n\n\tlet result;\n\ttry {\n\t\tresult = childProcess.spawnSync(parsed.file, parsed.args, parsed.options);\n\t} catch (error) {\n\t\tthrow makeError({\n\t\t\terror,\n\t\t\tstdout: '',\n\t\t\tstderr: '',\n\t\t\tall: '',\n\t\t\tcommand,\n\t\t\tparsed,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false\n\t\t});\n\t}\n\n\tresult.stdout = handleOutput(parsed.options, result.stdout, result.error);\n\tresult.stderr = handleOutput(parsed.options, result.stderr, result.error);\n\n\tif (result.error || result.status !== 0 || result.signal !== null) {\n\t\tconst error = makeError({\n\t\t\t...result,\n\t\t\tcode: result.status,\n\t\t\tcommand,\n\t\t\tparsed,\n\t\t\ttimedOut: result.error && result.error.errno === 'ETIMEDOUT',\n\t\t\tisCanceled: false,\n\t\t\tkilled: result.signal !== null\n\t\t});\n\n\t\tif (!parsed.options.reject) {\n\t\t\treturn error;\n\t\t}\n\n\t\tthrow error;\n\t}\n\n\treturn {\n\t\tcommand,\n\t\texitCode: 0,\n\t\texitCodeName: 'SUCCESS',\n\t\tstdout: result.stdout,\n\t\tstderr: result.stderr,\n\t\tfailed: false,\n\t\ttimedOut: false,\n\t\tisCanceled: false,\n\t\tkilled: false\n\t};\n};\n\nmodule.exports.command = (command, options) => {\n\tconst [file, ...args] = parseCommand(command);\n\treturn execa(file, args, options);\n};\n\nmodule.exports.commandSync = (command, options) => {\n\tconst [file, ...args] = parseCommand(command);\n\treturn execa.sync(file, args, options);\n};\n\nmodule.exports.node = (scriptPath, args, options = {}) => {\n\tif (args && !Array.isArray(args) && typeof args === 'object') {\n\t\toptions = args;\n\t\targs = [];\n\t}\n\n\tconst stdio = normalizeStdio.node(options);\n\n\tconst {nodePath = process.execPath, nodeOptions = process.execArgv} = options;\n\n\treturn execa(\n\t\tnodePath,\n\t\t[\n\t\t\t...nodeOptions,\n\t\t\tscriptPath,\n\t\t\t...(Array.isArray(args) ? args : [])\n\t\t],\n\t\t{\n\t\t\t...options,\n\t\t\tstdin: undefined,\n\t\t\tstdout: undefined,\n\t\t\tstderr: undefined,\n\t\t\tstdio,\n\t\t\tshell: false\n\t\t}\n\t);\n};\n","'use strict';\n\nconst cp = require('child_process');\nconst parse = require('./lib/parse');\nconst enoent = require('./lib/enoent');\n\nfunction spawn(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const spawned = cp.spawn(parsed.command, parsed.args, parsed.options);\n\n    // Hook into child process \"exit\" event to emit an error if the command\n    // does not exists, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    enoent.hookChildProcess(spawned, parsed);\n\n    return spawned;\n}\n\nfunction spawnSync(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const result = cp.spawnSync(parsed.command, parsed.args, parsed.options);\n\n    // Analyze if the command does not exist, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);\n\n    return result;\n}\n\nmodule.exports = spawn;\nmodule.exports.spawn = spawn;\nmodule.exports.sync = spawnSync;\n\nmodule.exports._parse = parse;\nmodule.exports._enoent = enoent;\n","'use strict';\n\nconst path = require('path');\nconst niceTry = require('nice-try');\nconst resolveCommand = require('./util/resolveCommand');\nconst escape = require('./util/escape');\nconst readShebang = require('./util/readShebang');\nconst semver = require('semver');\n\nconst isWin = process.platform === 'win32';\nconst isExecutableRegExp = /\\.(?:com|exe)$/i;\nconst isCmdShimRegExp = /node_modules[\\\\/].bin[\\\\/][^\\\\/]+\\.cmd$/i;\n\n// `options.shell` is supported in Node ^4.8.0, ^5.7.0 and >= 6.0.0\nconst supportsShellOption = niceTry(() => semver.satisfies(process.version, '^4.8.0 || ^5.7.0 || >= 6.0.0', true)) || false;\n\nfunction detectShebang(parsed) {\n    parsed.file = resolveCommand(parsed);\n\n    const shebang = parsed.file && readShebang(parsed.file);\n\n    if (shebang) {\n        parsed.args.unshift(parsed.file);\n        parsed.command = shebang;\n\n        return resolveCommand(parsed);\n    }\n\n    return parsed.file;\n}\n\nfunction parseNonShell(parsed) {\n    if (!isWin) {\n        return parsed;\n    }\n\n    // Detect & add support for shebangs\n    const commandFile = detectShebang(parsed);\n\n    // We don't need a shell if the command filename is an executable\n    const needsShell = !isExecutableRegExp.test(commandFile);\n\n    // If a shell is required, use cmd.exe and take care of escaping everything correctly\n    // Note that `forceShell` is an hidden option used only in tests\n    if (parsed.options.forceShell || needsShell) {\n        // Need to double escape meta chars if the command is a cmd-shim located in `node_modules/.bin/`\n        // The cmd-shim simply calls execute the package bin file with NodeJS, proxying any argument\n        // Because the escape of metachars with ^ gets interpreted when the cmd.exe is first called,\n        // we need to double escape them\n        const needsDoubleEscapeMetaChars = isCmdShimRegExp.test(commandFile);\n\n        // Normalize posix paths into OS compatible paths (e.g.: foo/bar -> foo\\bar)\n        // This is necessary otherwise it will always fail with ENOENT in those cases\n        parsed.command = path.normalize(parsed.command);\n\n        // Escape command & arguments\n        parsed.command = escape.command(parsed.command);\n        parsed.args = parsed.args.map((arg) => escape.argument(arg, needsDoubleEscapeMetaChars));\n\n        const shellCommand = [parsed.command].concat(parsed.args).join(' ');\n\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\n        parsed.command = process.env.comspec || 'cmd.exe';\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\n    }\n\n    return parsed;\n}\n\nfunction parseShell(parsed) {\n    // If node supports the shell option, there's no need to mimic its behavior\n    if (supportsShellOption) {\n        return parsed;\n    }\n\n    // Mimic node shell option\n    // See https://github.com/nodejs/node/blob/b9f6a2dc059a1062776133f3d4fd848c4da7d150/lib/child_process.js#L335\n    const shellCommand = [parsed.command].concat(parsed.args).join(' ');\n\n    if (isWin) {\n        parsed.command = typeof parsed.options.shell === 'string' ? parsed.options.shell : process.env.comspec || 'cmd.exe';\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\n    } else {\n        if (typeof parsed.options.shell === 'string') {\n            parsed.command = parsed.options.shell;\n        } else if (process.platform === 'android') {\n            parsed.command = '/system/bin/sh';\n        } else {\n            parsed.command = '/bin/sh';\n        }\n\n        parsed.args = ['-c', shellCommand];\n    }\n\n    return parsed;\n}\n\nfunction parse(command, args, options) {\n    // Normalize arguments, similar to nodejs\n    if (args && !Array.isArray(args)) {\n        options = args;\n        args = null;\n    }\n\n    args = args ? args.slice(0) : []; // Clone array to avoid changing the original\n    options = Object.assign({}, options); // Clone object to avoid changing the original\n\n    // Build our parsed object\n    const parsed = {\n        command,\n        args,\n        options,\n        file: undefined,\n        original: {\n            command,\n            args,\n        },\n    };\n\n    // Delegate further parsing to shell or non-shell\n    return options.shell ? parseShell(parsed) : parseNonShell(parsed);\n}\n\nmodule.exports = parse;\n","'use strict'\n\n/**\n * Tries to execute a function and discards any error that occurs.\n * @param {Function} fn - Function that might or might not throw an error.\n * @returns {?*} Return-value of the function when no error occurred.\n */\nmodule.exports = function(fn) {\n\n\ttry { return fn() } catch (e) {}\n\n}","'use strict';\n\nconst path = require('path');\nconst which = require('which');\nconst pathKey = require('path-key')();\n\nfunction resolveCommandAttempt(parsed, withoutPathExt) {\n    const cwd = process.cwd();\n    const hasCustomCwd = parsed.options.cwd != null;\n\n    // If a custom `cwd` was specified, we need to change the process cwd\n    // because `which` will do stat calls but does not support a custom cwd\n    if (hasCustomCwd) {\n        try {\n            process.chdir(parsed.options.cwd);\n        } catch (err) {\n            /* Empty */\n        }\n    }\n\n    let resolved;\n\n    try {\n        resolved = which.sync(parsed.command, {\n            path: (parsed.options.env || process.env)[pathKey],\n            pathExt: withoutPathExt ? path.delimiter : undefined,\n        });\n    } catch (e) {\n        /* Empty */\n    } finally {\n        process.chdir(cwd);\n    }\n\n    // If we successfully resolved, ensure that an absolute path is returned\n    // Note that when a custom `cwd` was used, we need to resolve to an absolute path based on it\n    if (resolved) {\n        resolved = path.resolve(hasCustomCwd ? parsed.options.cwd : '', resolved);\n    }\n\n    return resolved;\n}\n\nfunction resolveCommand(parsed) {\n    return resolveCommandAttempt(parsed) || resolveCommandAttempt(parsed, true);\n}\n\nmodule.exports = resolveCommand;\n","module.exports = which\nwhich.sync = whichSync\n\nvar isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nvar path = require('path')\nvar COLON = isWindows ? ';' : ':'\nvar isexe = require('isexe')\n\nfunction getNotFoundError (cmd) {\n  var er = new Error('not found: ' + cmd)\n  er.code = 'ENOENT'\n\n  return er\n}\n\nfunction getPathInfo (cmd, opt) {\n  var colon = opt.colon || COLON\n  var pathEnv = opt.path || process.env.PATH || ''\n  var pathExt = ['']\n\n  pathEnv = pathEnv.split(colon)\n\n  var pathExtExe = ''\n  if (isWindows) {\n    pathEnv.unshift(process.cwd())\n    pathExtExe = (opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM')\n    pathExt = pathExtExe.split(colon)\n\n\n    // Always test the cmd itself first.  isexe will check to make sure\n    // it's found in the pathExt set.\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  if (cmd.match(/\\//) || isWindows && cmd.match(/\\\\/))\n    pathEnv = ['']\n\n  return {\n    env: pathEnv,\n    ext: pathExt,\n    extExe: pathExtExe\n  }\n}\n\nfunction which (cmd, opt, cb) {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  ;(function F (i, l) {\n    if (i === l) {\n      if (opt.all && found.length)\n        return cb(null, found)\n      else\n        return cb(getNotFoundError(cmd))\n    }\n\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && (/^\\.[\\\\\\/]/).test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    ;(function E (ii, ll) {\n      if (ii === ll) return F(i + 1, l)\n      var ext = pathExt[ii]\n      isexe(p + ext, { pathExt: pathExtExe }, function (er, is) {\n        if (!er && is) {\n          if (opt.all)\n            found.push(p + ext)\n          else\n            return cb(null, p + ext)\n        }\n        return E(ii + 1, ll)\n      })\n    })(0, pathExt.length)\n  })(0, pathEnv.length)\n}\n\nfunction whichSync (cmd, opt) {\n  opt = opt || {}\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  for (var i = 0, l = pathEnv.length; i < l; i ++) {\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && /^\\.[\\\\\\/]/.test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    for (var j = 0, ll = pathExt.length; j < ll; j ++) {\n      var cur = p + pathExt[j]\n      var is\n      try {\n        is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n","var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n","'use strict';\nmodule.exports = opts => {\n\topts = opts || {};\n\n\tconst env = opts.env || process.env;\n\tconst platform = opts.platform || process.platform;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(env).find(x => x.toUpperCase() === 'PATH') || 'Path';\n};\n","'use strict';\n\n// See http://www.robvanderwoude.com/escapechars.php\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\n\nfunction escapeCommand(arg) {\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    return arg;\n}\n\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\n    // Convert to string\n    arg = `${arg}`;\n\n    // Algorithm below is based on https://qntm.org/cmd\n\n    // Sequence of backslashes followed by a double quote:\n    // double up all the backslashes and escape the double quote\n    arg = arg.replace(/(\\\\*)\"/g, '$1$1\\\\\"');\n\n    // Sequence of backslashes followed by the end of the string\n    // (which will become a double quote later):\n    // double up all the backslashes\n    arg = arg.replace(/(\\\\*)$/, '$1$1');\n\n    // All other backslashes occur literally\n\n    // Quote the whole thing:\n    arg = `\"${arg}\"`;\n\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    // Double escape meta chars if necessary\n    if (doubleEscapeMetaChars) {\n        arg = arg.replace(metaCharsRegExp, '^$1');\n    }\n\n    return arg;\n}\n\nmodule.exports.command = escapeCommand;\nmodule.exports.argument = escapeArgument;\n","'use strict';\n\nconst fs = require('fs');\nconst shebangCommand = require('shebang-command');\n\nfunction readShebang(command) {\n    // Read the first 150 bytes from the file\n    const size = 150;\n    let buffer;\n\n    if (Buffer.alloc) {\n        // Node.js v4.5+ / v5.10+\n        buffer = Buffer.alloc(size);\n    } else {\n        // Old Node.js API\n        buffer = new Buffer(size);\n        buffer.fill(0); // zero-fill\n    }\n\n    let fd;\n\n    try {\n        fd = fs.openSync(command, 'r');\n        fs.readSync(fd, buffer, 0, size, 0);\n        fs.closeSync(fd);\n    } catch (e) { /* Empty */ }\n\n    // Attempt to extract shebang (null is returned if not a shebang)\n    return shebangCommand(buffer.toString());\n}\n\nmodule.exports = readShebang;\n","'use strict';\nvar shebangRegex = require('shebang-regex');\n\nmodule.exports = function (str) {\n\tvar match = str.match(shebangRegex);\n\n\tif (!match) {\n\t\treturn null;\n\t}\n\n\tvar arr = match[0].replace(/#! ?/, '').split(' ');\n\tvar bin = arr[0].split('/').pop();\n\tvar arg = arr[1];\n\n\treturn (bin === 'env' ?\n\t\targ :\n\t\tbin + (arg ? ' ' + arg : '')\n\t);\n};\n","'use strict';\nmodule.exports = /^#!.*/;\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","'use strict';\n\nconst isWin = process.platform === 'win32';\n\nfunction notFoundError(original, syscall) {\n    return Object.assign(new Error(`${syscall} ${original.command} ENOENT`), {\n        code: 'ENOENT',\n        errno: 'ENOENT',\n        syscall: `${syscall} ${original.command}`,\n        path: original.command,\n        spawnargs: original.args,\n    });\n}\n\nfunction hookChildProcess(cp, parsed) {\n    if (!isWin) {\n        return;\n    }\n\n    const originalEmit = cp.emit;\n\n    cp.emit = function (name, arg1) {\n        // If emitting \"exit\" event and exit code is 1, we need to check if\n        // the command exists and emit an \"error\" instead\n        // See https://github.com/IndigoUnited/node-cross-spawn/issues/16\n        if (name === 'exit') {\n            const err = verifyENOENT(arg1, parsed, 'spawn');\n\n            if (err) {\n                return originalEmit.call(cp, 'error', err);\n            }\n        }\n\n        return originalEmit.apply(cp, arguments); // eslint-disable-line prefer-rest-params\n    };\n}\n\nfunction verifyENOENT(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawn');\n    }\n\n    return null;\n}\n\nfunction verifyENOENTSync(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawnSync');\n    }\n\n    return null;\n}\n\nmodule.exports = {\n    hookChildProcess,\n    verifyENOENT,\n    verifyENOENTSync,\n    notFoundError,\n};\n","'use strict';\n\nmodule.exports = input => {\n\tconst LF = typeof input === 'string' ? '\\n' : '\\n'.charCodeAt();\n\tconst CR = typeof input === 'string' ? '\\r' : '\\r'.charCodeAt();\n\n\tif (input[input.length - 1] === LF) {\n\t\tinput = input.slice(0, input.length - 1);\n\t}\n\n\tif (input[input.length - 1] === CR) {\n\t\tinput = input.slice(0, input.length - 1);\n\t}\n\n\treturn input;\n};\n","'use strict';\nconst path = require('path');\nconst pathKey = require('path-key');\n\nconst npmRunPath = options => {\n\toptions = {\n\t\tcwd: process.cwd(),\n\t\tpath: process.env[pathKey()],\n\t\t...options\n\t};\n\n\tlet previous;\n\tlet cwdPath = path.resolve(options.cwd);\n\tconst result = [];\n\n\twhile (previous !== cwdPath) {\n\t\tresult.push(path.join(cwdPath, 'node_modules/.bin'));\n\t\tprevious = cwdPath;\n\t\tcwdPath = path.resolve(cwdPath, '..');\n\t}\n\n\t// Ensure the running `node` binary is used\n\tresult.push(path.dirname(process.execPath));\n\n\treturn result.concat(options.path).join(path.delimiter);\n};\n\nmodule.exports = npmRunPath;\n// TODO: Remove this for the next major release\nmodule.exports.default = npmRunPath;\n\nmodule.exports.env = options => {\n\toptions = {\n\t\tenv: process.env,\n\t\t...options\n\t};\n\n\tconst env = {...options.env};\n\tconst path = pathKey({env});\n\n\toptions.path = env[path];\n\tenv[path] = module.exports(options);\n\n\treturn env;\n};\n","'use strict';\n\nconst pathKey = (options = {}) => {\n\tconst environment = options.env || process.env;\n\tconst platform = options.platform || process.platform;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(environment).find(key => key.toUpperCase() === 'PATH') || 'Path';\n};\n\nmodule.exports = pathKey;\n// TODO: Remove this for the next major release\nmodule.exports.default = pathKey;\n","'use strict';\nconst mimicFn = require('mimic-fn');\n\nconst calledFunctions = new WeakMap();\n\nconst oneTime = (fn, options = {}) => {\n\tif (typeof fn !== 'function') {\n\t\tthrow new TypeError('Expected a function');\n\t}\n\n\tlet ret;\n\tlet isCalled = false;\n\tlet callCount = 0;\n\tconst functionName = fn.displayName || fn.name || '<anonymous>';\n\n\tconst onetime = function (...args) {\n\t\tcalledFunctions.set(onetime, ++callCount);\n\n\t\tif (isCalled) {\n\t\t\tif (options.throw === true) {\n\t\t\t\tthrow new Error(`Function \\`${functionName}\\` can only be called once`);\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\n\t\tisCalled = true;\n\t\tret = fn.apply(this, args);\n\t\tfn = null;\n\n\t\treturn ret;\n\t};\n\n\tmimicFn(onetime, fn);\n\tcalledFunctions.set(onetime, callCount);\n\n\treturn onetime;\n};\n\nmodule.exports = oneTime;\n// TODO: Remove this for the next major release\nmodule.exports.default = oneTime;\n\nmodule.exports.callCount = fn => {\n\tif (!calledFunctions.has(fn)) {\n\t\tthrow new Error(`The given function \\`${fn.name}\\` is not wrapped by the \\`onetime\\` package`);\n\t}\n\n\treturn calledFunctions.get(fn);\n};\n","'use strict';\n\nconst mimicFn = (to, from) => {\n\tfor (const prop of Reflect.ownKeys(from)) {\n\t\tObject.defineProperty(to, prop, Object.getOwnPropertyDescriptor(from, prop));\n\t}\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\n// TODO: Remove this for the next major release\nmodule.exports.default = mimicFn;\n","'use strict';\nconst os = require('os');\nconst util = require('util');\n\nconst getCode = (error, code) => {\n\tif (error && error.code) {\n\t\treturn [error.code, os.constants.errno[error.code]];\n\t}\n\n\tif (Number.isInteger(code)) {\n\t\treturn [util.getSystemErrorName(-code), code];\n\t}\n\n\treturn [];\n};\n\nconst getErrorPrefix = ({timedOut, timeout, signal, exitCodeName, exitCode, isCanceled}) => {\n\tif (timedOut) {\n\t\treturn `timed out after ${timeout} milliseconds`;\n\t}\n\n\tif (isCanceled) {\n\t\treturn 'was canceled';\n\t}\n\n\tif (signal) {\n\t\treturn `was killed with ${signal}`;\n\t}\n\n\tif (exitCode !== undefined) {\n\t\treturn `failed with exit code ${exitCode} (${exitCodeName})`;\n\t}\n\n\treturn 'failed';\n};\n\nconst makeError = ({\n\tstdout,\n\tstderr,\n\tall,\n\terror,\n\tsignal,\n\tcode,\n\tcommand,\n\ttimedOut,\n\tisCanceled,\n\tkilled,\n\tparsed: {options: {timeout}}\n}) => {\n\tconst [exitCodeName, exitCode] = getCode(error, code);\n\n\tconst prefix = getErrorPrefix({timedOut, timeout, signal, exitCodeName, exitCode, isCanceled});\n\tconst message = `Command ${prefix}: ${command}`;\n\n\tif (error instanceof Error) {\n\t\terror.message = `${message}\\n${error.message}`;\n\t} else {\n\t\terror = new Error(message);\n\t}\n\n\terror.command = command;\n\tdelete error.code;\n\terror.exitCode = exitCode;\n\terror.exitCodeName = exitCodeName;\n\terror.stdout = stdout;\n\terror.stderr = stderr;\n\n\tif (all !== undefined) {\n\t\terror.all = all;\n\t}\n\n\tif ('bufferedData' in error) {\n\t\tdelete error.bufferedData;\n\t}\n\n\terror.failed = true;\n\terror.timedOut = Boolean(timedOut);\n\terror.isCanceled = isCanceled;\n\terror.killed = killed && !timedOut;\n\t// `signal` emitted on `spawned.on('exit')` event can be `null`. We normalize\n\t// it to `undefined`\n\terror.signal = signal || undefined;\n\n\treturn error;\n};\n\nmodule.exports = makeError;\n","'use strict';\nconst aliases = ['stdin', 'stdout', 'stderr'];\n\nconst hasAlias = opts => aliases.some(alias => opts[alias] !== undefined);\n\nconst normalizeStdio = opts => {\n\tif (!opts) {\n\t\treturn;\n\t}\n\n\tconst {stdio} = opts;\n\n\tif (stdio === undefined) {\n\t\treturn aliases.map(alias => opts[alias]);\n\t}\n\n\tif (hasAlias(opts)) {\n\t\tthrow new Error(`It's not possible to provide \\`stdio\\` in combination with one of ${aliases.map(alias => `\\`${alias}\\``).join(', ')}`);\n\t}\n\n\tif (typeof stdio === 'string') {\n\t\treturn stdio;\n\t}\n\n\tif (!Array.isArray(stdio)) {\n\t\tthrow new TypeError(`Expected \\`stdio\\` to be of type \\`string\\` or \\`Array\\`, got \\`${typeof stdio}\\``);\n\t}\n\n\tconst length = Math.max(stdio.length, aliases.length);\n\treturn Array.from({length}, (value, index) => stdio[index]);\n};\n\nmodule.exports = normalizeStdio;\n\n// `ipc` is pushed unless it is already present\nmodule.exports.node = opts => {\n\tconst stdio = normalizeStdio(opts);\n\n\tif (stdio === 'ipc') {\n\t\treturn 'ipc';\n\t}\n\n\tif (stdio === undefined || typeof stdio === 'string') {\n\t\treturn [stdio, stdio, stdio, 'ipc'];\n\t}\n\n\tif (stdio.includes('ipc')) {\n\t\treturn stdio;\n\t}\n\n\treturn [...stdio, 'ipc'];\n};\n","'use strict';\nconst os = require('os');\nconst onExit = require('signal-exit');\nconst pFinally = require('p-finally');\n\nconst DEFAULT_FORCE_KILL_TIMEOUT = 1000 * 5;\n\n// Monkey-patches `childProcess.kill()` to add `forceKillAfterTimeout` behavior\nconst spawnedKill = (kill, signal = 'SIGTERM', options = {}) => {\n\tconst killResult = kill(signal);\n\tsetKillTimeout(kill, signal, options, killResult);\n\treturn killResult;\n};\n\nconst setKillTimeout = (kill, signal, options, killResult) => {\n\tif (!shouldForceKill(signal, options, killResult)) {\n\t\treturn;\n\t}\n\n\tconst timeout = getForceKillAfterTimeout(options);\n\tsetTimeout(() => {\n\t\tkill('SIGKILL');\n\t}, timeout).unref();\n};\n\nconst shouldForceKill = (signal, {forceKillAfterTimeout}, killResult) => {\n\treturn isSigterm(signal) && forceKillAfterTimeout !== false && killResult;\n};\n\nconst isSigterm = signal => {\n\treturn signal === os.constants.signals.SIGTERM ||\n\t\t(typeof signal === 'string' && signal.toUpperCase() === 'SIGTERM');\n};\n\nconst getForceKillAfterTimeout = ({forceKillAfterTimeout = true}) => {\n\tif (forceKillAfterTimeout === true) {\n\t\treturn DEFAULT_FORCE_KILL_TIMEOUT;\n\t}\n\n\tif (!Number.isInteger(forceKillAfterTimeout) || forceKillAfterTimeout < 0) {\n\t\tthrow new TypeError(`Expected the \\`forceKillAfterTimeout\\` option to be a non-negative integer, got \\`${forceKillAfterTimeout}\\` (${typeof forceKillAfterTimeout})`);\n\t}\n\n\treturn forceKillAfterTimeout;\n};\n\n// `childProcess.cancel()`\nconst spawnedCancel = (spawned, context) => {\n\tconst killResult = spawned.kill();\n\n\tif (killResult) {\n\t\tcontext.isCanceled = true;\n\t}\n};\n\nconst timeoutKill = (spawned, signal, reject) => {\n\tspawned.kill(signal);\n\treject(Object.assign(new Error('Timed out'), {timedOut: true, signal}));\n};\n\n// `timeout` option handling\nconst setupTimeout = (spawned, {timeout, killSignal = 'SIGTERM'}, spawnedPromise) => {\n\tif (timeout === 0 || timeout === undefined) {\n\t\treturn spawnedPromise;\n\t}\n\n\tif (!Number.isInteger(timeout) || timeout < 0) {\n\t\tthrow new TypeError(`Expected the \\`timeout\\` option to be a non-negative integer, got \\`${timeout}\\` (${typeof timeout})`);\n\t}\n\n\tlet timeoutId;\n\tconst timeoutPromise = new Promise((resolve, reject) => {\n\t\ttimeoutId = setTimeout(() => {\n\t\t\ttimeoutKill(spawned, killSignal, reject);\n\t\t}, timeout);\n\t});\n\n\tconst safeSpawnedPromise = pFinally(spawnedPromise, () => {\n\t\tclearTimeout(timeoutId);\n\t});\n\n\treturn Promise.race([timeoutPromise, safeSpawnedPromise]);\n};\n\n// `cleanup` option handling\nconst setExitHandler = (spawned, {cleanup, detached}, timedPromise) => {\n\tif (!cleanup || detached) {\n\t\treturn;\n\t}\n\n\tconst removeExitHandler = onExit(() => {\n\t\tspawned.kill();\n\t});\n\n\t// TODO: Use native \"finally\" syntax when targeting Node.js 10\n\treturn pFinally(timedPromise, removeExitHandler);\n};\n\nmodule.exports = {\n\tspawnedKill,\n\tspawnedCancel,\n\tsetupTimeout,\n\tsetExitHandler\n};\n","// Note: since nyc uses this module to output coverage, any lines\n// that are in the direct sync flow of nyc's outputCoverage are\n// ignored, since we can never get coverage for them.\nvar assert = require('assert')\nvar signals = require('./signals.js')\n\nvar EE = require('events')\n/* istanbul ignore if */\nif (typeof EE !== 'function') {\n  EE = EE.EventEmitter\n}\n\nvar emitter\nif (process.__signal_exit_emitter__) {\n  emitter = process.__signal_exit_emitter__\n} else {\n  emitter = process.__signal_exit_emitter__ = new EE()\n  emitter.count = 0\n  emitter.emitted = {}\n}\n\n// Because this emitter is a global, we have to check to see if a\n// previous version of this library failed to enable infinite listeners.\n// I know what you're about to say.  But literally everything about\n// signal-exit is a compromise with evil.  Get used to it.\nif (!emitter.infinite) {\n  emitter.setMaxListeners(Infinity)\n  emitter.infinite = true\n}\n\nmodule.exports = function (cb, opts) {\n  assert.equal(typeof cb, 'function', 'a callback must be provided for exit handler')\n\n  if (loaded === false) {\n    load()\n  }\n\n  var ev = 'exit'\n  if (opts && opts.alwaysLast) {\n    ev = 'afterexit'\n  }\n\n  var remove = function () {\n    emitter.removeListener(ev, cb)\n    if (emitter.listeners('exit').length === 0 &&\n        emitter.listeners('afterexit').length === 0) {\n      unload()\n    }\n  }\n  emitter.on(ev, cb)\n\n  return remove\n}\n\nmodule.exports.unload = unload\nfunction unload () {\n  if (!loaded) {\n    return\n  }\n  loaded = false\n\n  signals.forEach(function (sig) {\n    try {\n      process.removeListener(sig, sigListeners[sig])\n    } catch (er) {}\n  })\n  process.emit = originalProcessEmit\n  process.reallyExit = originalProcessReallyExit\n  emitter.count -= 1\n}\n\nfunction emit (event, code, signal) {\n  if (emitter.emitted[event]) {\n    return\n  }\n  emitter.emitted[event] = true\n  emitter.emit(event, code, signal)\n}\n\n// { <signal>: <listener fn>, ... }\nvar sigListeners = {}\nsignals.forEach(function (sig) {\n  sigListeners[sig] = function listener () {\n    // If there are no other listeners, an exit is coming!\n    // Simplest way: remove us and then re-send the signal.\n    // We know that this will kill the process, so we can\n    // safely emit now.\n    var listeners = process.listeners(sig)\n    if (listeners.length === emitter.count) {\n      unload()\n      emit('exit', null, sig)\n      /* istanbul ignore next */\n      emit('afterexit', null, sig)\n      /* istanbul ignore next */\n      process.kill(process.pid, sig)\n    }\n  }\n})\n\nmodule.exports.signals = function () {\n  return signals\n}\n\nmodule.exports.load = load\n\nvar loaded = false\n\nfunction load () {\n  if (loaded) {\n    return\n  }\n  loaded = true\n\n  // This is the number of onSignalExit's that are in play.\n  // It's important so that we can count the correct number of\n  // listeners on signals, and don't wait for the other one to\n  // handle it instead of us.\n  emitter.count += 1\n\n  signals = signals.filter(function (sig) {\n    try {\n      process.on(sig, sigListeners[sig])\n      return true\n    } catch (er) {\n      return false\n    }\n  })\n\n  process.emit = processEmit\n  process.reallyExit = processReallyExit\n}\n\nvar originalProcessReallyExit = process.reallyExit\nfunction processReallyExit (code) {\n  process.exitCode = code || 0\n  emit('exit', process.exitCode, null)\n  /* istanbul ignore next */\n  emit('afterexit', process.exitCode, null)\n  /* istanbul ignore next */\n  originalProcessReallyExit.call(process, process.exitCode)\n}\n\nvar originalProcessEmit = process.emit\nfunction processEmit (ev, arg) {\n  if (ev === 'exit') {\n    if (arg !== undefined) {\n      process.exitCode = arg\n    }\n    var ret = originalProcessEmit.apply(this, arguments)\n    emit('exit', process.exitCode, null)\n    /* istanbul ignore next */\n    emit('afterexit', process.exitCode, null)\n    return ret\n  } else {\n    return originalProcessEmit.apply(this, arguments)\n  }\n}\n","module.exports = require(\"assert\");","// This is not the set of all possible signals.\n//\n// It IS, however, the set of all signals that trigger\n// an exit on either Linux or BSD systems.  Linux is a\n// superset of the signal names supported on BSD, and\n// the unknown signals just fail to register, so we can\n// catch that easily enough.\n//\n// Don't bother with SIGKILL.  It's uncatchable, which\n// means that we can't fire any callbacks anyway.\n//\n// If a user does happen to register a handler on a non-\n// fatal signal like SIGWINCH or something, and then\n// exit, it'll end up firing `process.emit('exit')`, so\n// the handler will be fired anyway.\n//\n// SIGBUS, SIGFPE, SIGSEGV and SIGILL, when not raised\n// artificially, inherently leave the process in a\n// state from which it is not safe to try and enter JS\n// listeners.\nmodule.exports = [\n  'SIGABRT',\n  'SIGALRM',\n  'SIGHUP',\n  'SIGINT',\n  'SIGTERM'\n]\n\nif (process.platform !== 'win32') {\n  module.exports.push(\n    'SIGVTALRM',\n    'SIGXCPU',\n    'SIGXFSZ',\n    'SIGUSR2',\n    'SIGTRAP',\n    'SIGSYS',\n    'SIGQUIT',\n    'SIGIOT'\n    // should detect profiler and enable/disable accordingly.\n    // see #21\n    // 'SIGPROF'\n  )\n}\n\nif (process.platform === 'linux') {\n  module.exports.push(\n    'SIGIO',\n    'SIGPOLL',\n    'SIGPWR',\n    'SIGSTKFLT',\n    'SIGUNUSED'\n  )\n}\n","module.exports = require(\"events\");","'use strict';\n\nmodule.exports = async (\n\tpromise,\n\tonFinally = (() => {})\n) => {\n\tlet value;\n\ttry {\n\t\tvalue = await promise;\n\t} catch (error) {\n\t\tawait onFinally();\n\t\tthrow error;\n\t}\n\n\tawait onFinally();\n\treturn value;\n};\n","'use strict';\nconst isStream = require('is-stream');\nconst getStream = require('get-stream');\nconst mergeStream = require('merge-stream');\n\n// `input` option\nconst handleInput = (spawned, input) => {\n\t// Checking for stdin is workaround for https://github.com/nodejs/node/issues/26852\n\t// TODO: Remove `|| spawned.stdin === undefined` once we drop support for Node.js <=12.2.0\n\tif (input === undefined || spawned.stdin === undefined) {\n\t\treturn;\n\t}\n\n\tif (isStream(input)) {\n\t\tinput.pipe(spawned.stdin);\n\t} else {\n\t\tspawned.stdin.end(input);\n\t}\n};\n\n// `all` interleaves `stdout` and `stderr`\nconst makeAllStream = spawned => {\n\tif (!spawned.stdout && !spawned.stderr) {\n\t\treturn;\n\t}\n\n\tconst mixed = mergeStream();\n\n\tif (spawned.stdout) {\n\t\tmixed.add(spawned.stdout);\n\t}\n\n\tif (spawned.stderr) {\n\t\tmixed.add(spawned.stderr);\n\t}\n\n\treturn mixed;\n};\n\n// On failure, `result.stdout|stderr|all` should contain the currently buffered stream\nconst getBufferedData = async (stream, streamPromise) => {\n\tif (!stream) {\n\t\treturn;\n\t}\n\n\tstream.destroy();\n\n\ttry {\n\t\treturn await streamPromise;\n\t} catch (error) {\n\t\treturn error.bufferedData;\n\t}\n};\n\nconst getStreamPromise = (stream, {encoding, buffer, maxBuffer}) => {\n\tif (!stream) {\n\t\treturn;\n\t}\n\n\tif (!buffer) {\n\t\t// TODO: Use `ret = util.promisify(stream.finished)(stream);` when targeting Node.js 10\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tstream\n\t\t\t\t.once('end', resolve)\n\t\t\t\t.once('error', reject);\n\t\t});\n\t}\n\n\tif (encoding) {\n\t\treturn getStream(stream, {encoding, maxBuffer});\n\t}\n\n\treturn getStream.buffer(stream, {maxBuffer});\n};\n\n// Retrieve result of child process: exit code, signal, error, streams (stdout/stderr/all)\nconst getSpawnedResult = async ({stdout, stderr, all}, {encoding, buffer, maxBuffer}, processDone) => {\n\tconst stdoutPromise = getStreamPromise(stdout, {encoding, buffer, maxBuffer});\n\tconst stderrPromise = getStreamPromise(stderr, {encoding, buffer, maxBuffer});\n\tconst allPromise = getStreamPromise(all, {encoding, buffer, maxBuffer: maxBuffer * 2});\n\n\ttry {\n\t\treturn await Promise.all([processDone, stdoutPromise, stderrPromise, allPromise]);\n\t} catch (error) {\n\t\treturn Promise.all([\n\t\t\t{error, code: error.code, signal: error.signal, timedOut: error.timedOut},\n\t\t\tgetBufferedData(stdout, stdoutPromise),\n\t\t\tgetBufferedData(stderr, stderrPromise),\n\t\t\tgetBufferedData(all, allPromise)\n\t\t]);\n\t}\n};\n\nconst validateInputSync = ({input}) => {\n\tif (isStream(input)) {\n\t\tthrow new TypeError('The `input` option cannot be a stream in sync mode');\n\t}\n};\n\nmodule.exports = {\n\thandleInput,\n\tmakeAllStream,\n\tgetSpawnedResult,\n\tvalidateInputSync\n};\n\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function' &&\n\ttypeof stream._transformState === 'object';\n\nmodule.exports = isStream;\n","'use strict';\nconst pump = require('pump');\nconst bufferStream = require('./buffer-stream');\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nasync function getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\treturn Promise.reject(new Error('Expected a stream'));\n\t}\n\n\toptions = {\n\t\tmaxBuffer: Infinity,\n\t\t...options\n\t};\n\n\tconst {maxBuffer} = options;\n\n\tlet stream;\n\tawait new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\tif (error) { // A null check\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\n\t\t\treject(error);\n\t\t};\n\n\t\tstream = pump(inputStream, bufferStream(options), error => {\n\t\t\tif (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stream.getBufferedValue();\n}\n\nmodule.exports = getStream;\n// TODO: Remove this for the next major release\nmodule.exports.default = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, {...options, encoding: 'buffer'});\nmodule.exports.array = (stream, options) => getStream(stream, {...options, array: true});\nmodule.exports.MaxBufferError = MaxBufferError;\n","var once = require('once')\nvar eos = require('end-of-stream')\nvar fs = require('fs') // we only need fs to get the ReadStream and WriteStream prototypes\n\nvar noop = function () {}\nvar ancient = /^v?\\.0/.test(process.version)\n\nvar isFn = function (fn) {\n  return typeof fn === 'function'\n}\n\nvar isFS = function (stream) {\n  if (!ancient) return false // newer node version do not need to care about fs is a special way\n  if (!fs) return false // browser\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close)\n}\n\nvar isRequest = function (stream) {\n  return stream.setHeader && isFn(stream.abort)\n}\n\nvar destroyer = function (stream, reading, writing, callback) {\n  callback = once(callback)\n\n  var closed = false\n  stream.on('close', function () {\n    closed = true\n  })\n\n  eos(stream, {readable: reading, writable: writing}, function (err) {\n    if (err) return callback(err)\n    closed = true\n    callback()\n  })\n\n  var destroyed = false\n  return function (err) {\n    if (closed) return\n    if (destroyed) return\n    destroyed = true\n\n    if (isFS(stream)) return stream.close(noop) // use close for fs streams to avoid fd leaks\n    if (isRequest(stream)) return stream.abort() // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy()\n\n    callback(err || new Error('stream was destroyed'))\n  }\n}\n\nvar call = function (fn) {\n  fn()\n}\n\nvar pipe = function (from, to) {\n  return from.pipe(to)\n}\n\nvar pump = function () {\n  var streams = Array.prototype.slice.call(arguments)\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop\n\n  if (Array.isArray(streams[0])) streams = streams[0]\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum')\n\n  var error\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1\n    var writing = i > 0\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err\n      if (err) destroys.forEach(call)\n      if (reading) return\n      destroys.forEach(call)\n      callback(error)\n    })\n  })\n\n  return streams.reduce(pipe)\n}\n\nmodule.exports = pump\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tif (readable && !(rs && rs.ended)) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && ws.ended)) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","'use strict';\nconst {PassThrough: PassThroughStream} = require('stream');\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n","'use strict';\n\nconst { PassThrough } = require('stream');\n\nmodule.exports = function (/*streams...*/) {\n  var sources = []\n  var output  = new PassThrough({objectMode: true})\n\n  output.setMaxListeners(0)\n\n  output.add = add\n  output.isEmpty = isEmpty\n\n  output.on('unpipe', remove)\n\n  Array.prototype.slice.call(arguments).forEach(add)\n\n  return output\n\n  function add (source) {\n    if (Array.isArray(source)) {\n      source.forEach(add)\n      return this\n    }\n\n    sources.push(source);\n    source.once('end', remove.bind(null, source))\n    source.once('error', output.emit.bind(output, 'error'))\n    source.pipe(output, {end: false})\n    return this\n  }\n\n  function isEmpty () {\n    return sources.length == 0;\n  }\n\n  function remove (source) {\n    sources = sources.filter(function (it) { return it !== source })\n    if (!sources.length && output.readable) { output.end() }\n  }\n}\n","'use strict';\nconst mergePromiseProperty = (spawned, promise, property) => {\n\t// Starting the main `promise` is deferred to avoid consuming streams\n\tconst value = typeof promise === 'function' ?\n\t\t(...args) => promise()[property](...args) :\n\t\tpromise[property].bind(promise);\n\n\tObject.defineProperty(spawned, property, {\n\t\tvalue,\n\t\twritable: true,\n\t\tenumerable: false,\n\t\tconfigurable: true\n\t});\n};\n\n// The return value is a mixin of `childProcess` and `Promise`\nconst mergePromise = (spawned, promise) => {\n\tmergePromiseProperty(spawned, promise, 'then');\n\tmergePromiseProperty(spawned, promise, 'catch');\n\n\t// TODO: Remove the `if`-guard when targeting Node.js 10\n\tif (Promise.prototype.finally) {\n\t\tmergePromiseProperty(spawned, promise, 'finally');\n\t}\n\n\treturn spawned;\n};\n\n// Use promises instead of `child_process` events\nconst getSpawnedPromise = spawned => {\n\treturn new Promise((resolve, reject) => {\n\t\tspawned.on('exit', (code, signal) => {\n\t\t\tresolve({code, signal});\n\t\t});\n\n\t\tspawned.on('error', error => {\n\t\t\treject(error);\n\t\t});\n\n\t\tif (spawned.stdin) {\n\t\t\tspawned.stdin.on('error', error => {\n\t\t\t\treject(error);\n\t\t\t});\n\t\t}\n\t});\n};\n\nmodule.exports = {\n\tmergePromise,\n\tgetSpawnedPromise\n};\n\n","'use strict';\nconst SPACES_REGEXP = / +/g;\n\nconst joinCommand = (file, args = []) => {\n\tif (!Array.isArray(args)) {\n\t\treturn file;\n\t}\n\n\treturn [file, ...args].join(' ');\n};\n\n// Allow spaces to be escaped by a backslash if not meant as a delimiter\nconst handleEscaping = (tokens, token, index) => {\n\tif (index === 0) {\n\t\treturn [token];\n\t}\n\n\tconst previousToken = tokens[tokens.length - 1];\n\n\tif (previousToken.endsWith('\\\\')) {\n\t\treturn [...tokens.slice(0, -1), `${previousToken.slice(0, -1)} ${token}`];\n\t}\n\n\treturn [...tokens, token];\n};\n\n// Handle `execa.command()`\nconst parseCommand = command => {\n\treturn command\n\t\t.trim()\n\t\t.split(SPACES_REGEXP)\n\t\t.reduce(handleEscaping, []);\n};\n\nmodule.exports = {\n\tjoinCommand,\n\tparseCommand\n};\n","'use strict';\nmodule.exports = (() => {\n\tconst env = process.env;\n\n\tif (process.platform === 'darwin') {\n\t\treturn env.SHELL || '/bin/bash';\n\t}\n\n\tif (process.platform === 'win32') {\n\t\treturn env.COMSPEC || 'cmd.exe';\n\t}\n\n\treturn env.SHELL || '/bin/sh';\n})();\n"],"sourceRoot":""}